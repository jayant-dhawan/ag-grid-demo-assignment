import{r as l,j as a,A as x,k as S}from"./vendor-CKqlm6vZ.js";import{aJ as w,aK as C,aL as b,aM as y,aN as R}from"./ag-grid-community-BogI6mz0.js";import{R as j,a as G}from"./ag-grid-enterprise-DC8_zNPx.js";import{N as M,S as E,a as N}from"./components-Cyr-dOVh.js";import{a as P,p as f,o as O,e as F}from"./radix-DeVrj_tk.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const m=["rotation_period / climate / terrain","terrain / rotation_period / climate","climate / terrain / rotation_period"],h=[{field:"name",filter:"agTextColumnFilter"},{field:"gravity"},{field:"surface_water",headerName:"Surface Water"},{field:"population",filter:"agTextColumnFilter"},{field:"diameter"},{field:"orbital_period",headerName:"Orbital Period"},{field:"climate",enableRowGroup:!0},{field:"terrain",enableRowGroup:!0},{field:"rotation_period",headerName:"Rotation Period",enableRowGroup:!0}];function L(n){const[o,t]=l.useState(null),[i,e]=l.useState(!0),[r,s]=l.useState(null);return l.useEffect(()=>{e(!0);const d=new AbortController;return fetch(n,{signal:d.signal}).then(c=>c.json()).then(c=>{t(c),e(!1)}).catch(c=>{d.signal.aborted||s(c)}),function(){d.abort()}},[]),{data:o,loading:i,error:r}}function _(n){const o=[];return n.forEach(t=>{const i=t.climate.split(",").map(r=>r.trim()),e=t.terrain.split(",").map(r=>r.trim());i.forEach(r=>{e.forEach(s=>{o.push({...t,climate:r,terrain:s})})})}),o}function v(n){if(!n)return h;const o=n.split("/").map(t=>t.trim()).reduce((t,i,e)=>({...t,[i]:e}),{});return h.map(t=>({...t,...o[t.field]>=0&&{enableRowGroup:!0,hide:!0,rowGroupIndex:o[t.field]}}))}const D=w.withParams({backgroundColor:"var(--gray-2)",browserColorScheme:"dark",chromeBackgroundColor:{ref:"foregroundColor",mix:.07,onto:"backgroundColor"},foregroundColor:"#FFF",headerFontSize:14});function I(){const[n,o]=l.useState(m[2]),[t,i]=l.useState(!0),{data:e}=L("https://swapi.info/api/planets");function r(u){o(u)}function s(u){u.source==="toolPanelUi"&&o("")}function d(u){var p;if(Number((p=u.data)==null?void 0:p.population)<=2e5)return{fontWeight:"800",backgroundColor:"gray"}}const c=l.useMemo(()=>e?_(e):null,[e]),g=l.useMemo(()=>v(n),[n]);return a.jsxs(a.Fragment,{children:[a.jsx(M,{}),a.jsx(P,{children:a.jsxs(f,{direction:"column",gap:"2",children:[a.jsxs(f,{p:"3",gap:"4",children:[a.jsx(E,{defaultValue:n,value:n,onValueChange:r,items:m.map(u=>({value:u,label:u}))}),a.jsx(N,{label:"Expand",onCheckedChange:i,checked:t})]}),a.jsx(O,{width:"100%",height:"80vh",px:"2",py:{initial:"2",md:"0"},children:a.jsx(x,{rowData:c,columnDefs:g,groupDefaultExpanded:t?-1:0,getRowStyle:d,theme:D,onColumnRowGroupChanged:s,rowGroupPanelShow:"always"})})]})})]})}C.registerModules([b,j,G,y,R]);S.createRoot(document.getElementById("root")).render(a.jsx(l.StrictMode,{children:a.jsx(F,{appearance:"dark",radius:"large",children:a.jsx(I,{})})}));
