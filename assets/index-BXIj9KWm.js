import{e as l,t as p,j as n,a as m,p as d,o as h,A as g,M as x,f as S,g as w,h as C,k as y,l as b,m as j,n as M}from"./vendor-DhB_V126.js";import{N as E,S as G,a as O}from"./components-NUfuVy_H.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const f=["rotation_period / climate / terrain","terrain / rotation_period / climate","climate / terrain / rotation_period"],F=[{field:"name",filter:"agTextColumnFilter"},{field:"gravity"},{field:"surface_water",headerName:"Surface Water"},{field:"population",filter:"agTextColumnFilter",cellStyle:o=>o.value<=2e5&&o.value>0?{fontWeight:"800",backgroundColor:"gray"}:null},{field:"diameter"},{field:"orbital_period",headerName:"Orbital Period"},{field:"terrain",enableRowGroup:!0,hide:!0},{field:"climate",enableRowGroup:!0,hide:!0},{field:"rotation_period",enableRowGroup:!0,hide:!0}];function P(o){const[a,t]=l.useState(null),[i,e]=l.useState(!0),[r,s]=l.useState(null);return l.useEffect(()=>{e(!0);const u=new AbortController;return fetch(o,{signal:u.signal}).then(c=>c.json()).then(c=>{t(c),e(!1)}).catch(c=>{u.signal.aborted||s(c)}),function(){u.abort()}},[]),{data:a,loading:i,error:r}}function R(o){const a=[];return o.forEach(t=>{const i=t.climate.split(",").map(r=>r.trim()),e=t.terrain.split(",").map(r=>r.trim());i.forEach(r=>{e.forEach(s=>{a.push({...t,climate:r,terrain:s})})})}),a}function N(o){const a=o.split("/").map(t=>t.trim()).reduce((t,i,e)=>({...t,[i]:e}),{});return F.map(t=>({...t,...a[t.field]>=0&&{rowGroupIndex:a[t.field]}}))}const v=p.withParams({backgroundColor:"var(--gray-2)",browserColorScheme:"dark",chromeBackgroundColor:{ref:"foregroundColor",mix:.07,onto:"backgroundColor"},foregroundColor:"#FFF",headerFontSize:14});function _(){const[o,a]=l.useState(f[2]),[t,i]=l.useState(!0),{data:e}=P("https://swapi.info/api/planets"),r=l.useMemo(()=>e?R(e):null,[e]),s=l.useMemo(()=>N(o),[o]);return n.jsxs(n.Fragment,{children:[n.jsx(E,{}),n.jsx(m,{children:n.jsxs(d,{direction:"column",gap:"2",children:[n.jsxs(d,{p:"3",gap:"4",children:[n.jsx(G,{defaultValue:o,value:o,onValueChange:u=>a(u),items:f.map(u=>({value:u,label:u}))}),n.jsx(O,{label:"Expand",onCheckedChange:i,checked:t})]}),n.jsx(h,{width:"100%",height:"80vh",children:n.jsx(g,{rowData:r,columnDefs:s,groupDefaultExpanded:t?-1:0,theme:v,rowGroupPanelShow:"always"})})]})})]})}x.registerModules([S,w,C,y,b]);j.createRoot(document.getElementById("root")).render(n.jsx(l.StrictMode,{children:n.jsx(M,{appearance:"dark",radius:"large",children:n.jsx(_,{})})}));
