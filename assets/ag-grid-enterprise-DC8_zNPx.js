import{P as bt,_ as Rt,B as O,a as H,b as ne,c as ie,d as ee,R as _e,e as Lt,f as Tt,g as re,h as Be,i as me,j as He,k as Ve,C as V,l as J,m as X,n as Z,o as ae,p as Ce,q as We,r as Gt,s as It,t as Et,u as Pt,v as Nt,G as be,A as Ot,w as Ft,x as kt,y as jt,z as zt,D as Re,E as _t,F as Ue,H as Ye,I as Ze,J as Bt,K as z,L as ge,M as Ht,N as Vt,O as ue,Q as Wt,S as Le,T as Ke,U as Ut,V as Yt,W as Zt,X as L,Y as Te,Z as Ge,$ as Kt,a0 as $t,a1 as we,a2 as Qt,a3 as Ie,a4 as de,a5 as $e,a6 as Qe,a7 as Xt,a8 as qt,a9 as fe,aa as Jt,ab as es,ac as ts,ad as ss,ae as Ee,af as os,ag as ns,ah as is,ai as rs}from"./ag-grid-community-BogI6mz0.js";var as=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let s=e[0],o=e[1],n=e[2],i=e[3];s=this.ff(s,o,n,i,t[0],7,-680876936),i=this.ff(i,s,o,n,t[1],12,-389564586),n=this.ff(n,i,s,o,t[2],17,606105819),o=this.ff(o,n,i,s,t[3],22,-1044525330),s=this.ff(s,o,n,i,t[4],7,-176418897),i=this.ff(i,s,o,n,t[5],12,1200080426),n=this.ff(n,i,s,o,t[6],17,-1473231341),o=this.ff(o,n,i,s,t[7],22,-45705983),s=this.ff(s,o,n,i,t[8],7,1770035416),i=this.ff(i,s,o,n,t[9],12,-1958414417),n=this.ff(n,i,s,o,t[10],17,-42063),o=this.ff(o,n,i,s,t[11],22,-1990404162),s=this.ff(s,o,n,i,t[12],7,1804603682),i=this.ff(i,s,o,n,t[13],12,-40341101),n=this.ff(n,i,s,o,t[14],17,-1502002290),o=this.ff(o,n,i,s,t[15],22,1236535329),s=this.gg(s,o,n,i,t[1],5,-165796510),i=this.gg(i,s,o,n,t[6],9,-1069501632),n=this.gg(n,i,s,o,t[11],14,643717713),o=this.gg(o,n,i,s,t[0],20,-373897302),s=this.gg(s,o,n,i,t[5],5,-701558691),i=this.gg(i,s,o,n,t[10],9,38016083),n=this.gg(n,i,s,o,t[15],14,-660478335),o=this.gg(o,n,i,s,t[4],20,-405537848),s=this.gg(s,o,n,i,t[9],5,568446438),i=this.gg(i,s,o,n,t[14],9,-1019803690),n=this.gg(n,i,s,o,t[3],14,-187363961),o=this.gg(o,n,i,s,t[8],20,1163531501),s=this.gg(s,o,n,i,t[13],5,-1444681467),i=this.gg(i,s,o,n,t[2],9,-51403784),n=this.gg(n,i,s,o,t[7],14,1735328473),o=this.gg(o,n,i,s,t[12],20,-1926607734),s=this.hh(s,o,n,i,t[5],4,-378558),i=this.hh(i,s,o,n,t[8],11,-2022574463),n=this.hh(n,i,s,o,t[11],16,1839030562),o=this.hh(o,n,i,s,t[14],23,-35309556),s=this.hh(s,o,n,i,t[1],4,-1530992060),i=this.hh(i,s,o,n,t[4],11,1272893353),n=this.hh(n,i,s,o,t[7],16,-155497632),o=this.hh(o,n,i,s,t[10],23,-1094730640),s=this.hh(s,o,n,i,t[13],4,681279174),i=this.hh(i,s,o,n,t[0],11,-358537222),n=this.hh(n,i,s,o,t[3],16,-722521979),o=this.hh(o,n,i,s,t[6],23,76029189),s=this.hh(s,o,n,i,t[9],4,-640364487),i=this.hh(i,s,o,n,t[12],11,-421815835),n=this.hh(n,i,s,o,t[15],16,530742520),o=this.hh(o,n,i,s,t[2],23,-995338651),s=this.ii(s,o,n,i,t[0],6,-198630844),i=this.ii(i,s,o,n,t[7],10,1126891415),n=this.ii(n,i,s,o,t[14],15,-1416354905),o=this.ii(o,n,i,s,t[5],21,-57434055),s=this.ii(s,o,n,i,t[12],6,1700485571),i=this.ii(i,s,o,n,t[3],10,-1894986606),n=this.ii(n,i,s,o,t[10],15,-1051523),o=this.ii(o,n,i,s,t[1],21,-2054922799),s=this.ii(s,o,n,i,t[8],6,1873313359),i=this.ii(i,s,o,n,t[15],10,-30611744),n=this.ii(n,i,s,o,t[6],15,-1560198380),o=this.ii(o,n,i,s,t[13],21,1309151649),s=this.ii(s,o,n,i,t[4],6,-145523070),i=this.ii(i,s,o,n,t[11],10,-1120210379),n=this.ii(n,i,s,o,t[2],15,718787259),o=this.ii(o,n,i,s,t[9],21,-343485551),e[0]=this.add32(s,e[0]),e[1]=this.add32(o,e[1]),e[2]=this.add32(n,e[2]),e[3]=this.add32(i,e[3])}cmn(e,t,s,o,n,i){return t=this.add32(this.add32(t,e),this.add32(o,i)),this.add32(t<<n|t>>>32-n,s)}ff(e,t,s,o,n,i,r){return this.cmn(t&s|~t&o,e,t,n,i,r)}gg(e,t,s,o,n,i,r){return this.cmn(t&o|s&~o,e,t,n,i,r)}hh(e,t,s,o,n,i,r){return this.cmn(t^s^o,e,t,n,i,r)}ii(e,t,s,o,n,i,r){return this.cmn(s^(t|~o),e,t,n,i,r)}md51(e){const t=e.length,s=[1732584193,-271733879,-1732584194,271733878];let o;for(o=64;o<=e.length;o+=64)this.md5cycle(s,this.md5blk(e.substring(o-64,o)));e=e.substring(o-64);const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<e.length;o++)n[o>>2]|=e.charCodeAt(o)<<(o%4<<3);if(n[o>>2]|=128<<(o%4<<3),o>55)for(this.md5cycle(s,n),o=0;o<16;o++)n[o]=0;return n[14]=t*8,this.md5cycle(s,n),s}md5blk(e){const t=[];for(let s=0;s<64;s+=4)t[s>>2]=e.charCodeAt(s)+(e.charCodeAt(s+1)<<8)+(e.charCodeAt(s+2)<<16)+(e.charCodeAt(s+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let s="",o=0;for(;o<4;o++)s+=t[e>>o*8+4&15]+t[e>>o*8&15];return s}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const s=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(s>>16)<<16|s&65535}},se={"01":"GRID","02":"CHARTS","0102":"BOTH"},Pe="https://ag-grid.com/licensing/",Xe=class k{constructor(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new as,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(k.licenseKey),s=`AG Grid ${t.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,o=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(s);else if(t.expired){const n=k.getGridReleaseDate(),i=k.formatDate(n);this.outputExpiredKey(t.expiry,i,s,o)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,s,o):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,s,o)}static extractExpiry(t){const s=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(k.decode(s),10))}static extractLicenseComponents(t){let s=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(s=s.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const o=s.length-32,n=s.substring(o),i=s.substring(0,o),[r,a,l]=k.extractBracketedInformation(s);return{md5:n,license:i,version:r,isTrial:a,type:l}}getLicenseDetails(t){const s=k.chartsLicenseManager?"BOTH":"GRID";if(!(t!=null&&t.length))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:s};const o=k.getGridReleaseDate(),{md5:n,license:i,version:r,isTrial:a,type:l}=k.extractLicenseComponents(t);let u=n===this.md5.md5(i)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,d,c,h=null,p=!1,g;function f(){d=h<new Date,c=void 0}if(u&&(h=k.extractExpiry(i),u=!isNaN(h.getTime()),u))switch(c=o>h,r){case"legacy":case"2":{a&&f();break}case"3":l!=null&&l.length?(g=l,l!==se["01"]&&l!==se["0102"]||s==="BOTH"&&g!=="BOTH"?(u=!1,p=!0):a&&f()):u=!1}return u?{licenseKey:t,valid:u,expiry:k.formatDate(h),expired:c,version:r,isTrial:a,trialExpired:d,incorrectLicenseType:p,currentLicenseType:s,suppliedLicenseType:g}:{licenseKey:t,valid:u,incorrectLicenseType:p,currentLicenseType:s,suppliedLicenseType:g}}isDisplayWatermark(){var t;return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!((t=this.watermarkMessage)!=null&&t.length)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const s=(this.document.defaultView||window).location,{hostname:o=""}=s;return o}isForceWatermark(){const s=(this.document.defaultView||window).location,{pathname:o}=s;return o?o.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const s=["January","February","March","April","May","June","July","August","September","October","November","December"],o=t.getDate(),n=t.getMonth(),i=t.getFullYear();return o+" "+s[n]+" "+i}static getGridReleaseDate(){return new Date(parseInt(k.decode(k.RELEASE_INFORMATION),10))}static decode(t){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let o="",n,i,r,a,l,u,d,c=0;const h=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;c<h.length;)a=s.indexOf(h.charAt(c++)),l=s.indexOf(h.charAt(c++)),u=s.indexOf(h.charAt(c++)),d=s.indexOf(h.charAt(c++)),n=a<<2|l>>4,i=(l&15)<<4|u>>2,r=(u&3)<<6|d,o=o+String.fromCharCode(n),u!=64&&(o=o+String.fromCharCode(i)),d!=64&&(o=o+String.fromCharCode(r));return o=k.utf8_decode(o),o}static utf8_decode(t){t=t.replace(/rn/g,"n");let s="";for(let o=0;o<t.length;o++){const n=t.charCodeAt(o);n<128?s+=String.fromCharCode(n):n>127&&n<2048?(s+=String.fromCharCode(n>>6|192),s+=String.fromCharCode(n&63|128)):(s+=String.fromCharCode(n>>12|224),s+=String.fromCharCode(n>>6&63|128),s+=String.fromCharCode(n&63|128))}return s}static setChartsLicenseManager(t){this.chartsLicenseManager=t}static setLicenseKey(t){var s;this.licenseKey=t,(s=this.chartsLicenseManager)==null||s.setLicenseKey(t,!0)}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const s=t.match(/\[(.*?)\]/g).map(a=>a.replace("[","").replace("]",""));if(!s||s.length===0)return["legacy",!1,void 0];const o=s.filter(a=>a==="TRIAL").length===1,n=s.filter(a=>a.indexOf("v")===0)[0],i=n?n.replace("v",""):"legacy",r=se[s.filter(a=>se[a])[0]];return[i,o,r]}centerPadAndOutput(t){const s=this.totalMessageLength-t.length;console.error(t.padStart(s/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,s="*",o=""){console.error(t.padEnd(this.totalMessageLength-o.length,s)+o)}outputInvalidLicenseKey(t,s,o){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${o} only and does not cover you for ${s}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Pe}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Pe}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,s,o){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${o} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,s,o,n){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${o} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${n} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${s}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};Xe.RELEASE_INFORMATION="MTczNjc2MzczNzA3Mg==";var oe=Xe,ls='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}',cs=class extends V{constructor(){super(`<div class="ag-watermark">
                <div data-ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`),this.eLicenseTextRef=z,this.registerCSS(ls)}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}},us={selector:"AG-WATERMARK",component:cs},ds=class extends O{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new oe(Tt(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new oe(null).getLicenseDetails(e)}getWatermarkSelector(){return us}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){oe.setLicenseKey(e)}static setChartsLicenseManager(e){oe.setChartsLicenseManager(e)}},_="33.0.4",K={moduleName:"EnterpriseCore",version:_,beans:[ds],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]};function hs(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
            <div class="ag-virtual-list-container ag-${e}-virtual-list-container" data-ref="eContainer"></div>
        </div>`}var ps=class extends es{constructor(e){super(hs((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=z,this.awaitStableCallbacks=[];const{cssIdentifier:t="default",ariaRole:s="listbox",listName:o}=e||{};this.cssIdentifier=t,this.ariaRole=s,this.listName=o}wireBeans(e){this.environment=e.environment}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(e){e.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}setAriaProperties(){const t=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),s=this.eContainer;J(s,this.ariaRole),we(s,t)}addResizeObserver(){const e=()=>Ee(this.beans,()=>this.drawVirtualRows()),t=ts(this.beans,this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=ss(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case L.UP:case L.DOWN:e.preventDefault(),this.navigate(e.key===L.UP);break;case L.PAGE_HOME:case L.PAGE_END:case L.PAGE_UP:case L.PAGE_DOWN:this.navigateToPage(e.key)!==null&&e.preventDefault();break}}onTabKeyDown(e){Ke(e),this.forceFocusOutOfContainer(e.shiftKey)}navigate(e){if(this.lastFocusedRowIndex==null)return;const t=this.lastFocusedRowIndex+(e?-1:1);t<0||t>=this.model.getRowCount()||this.focusRow(t)}navigateToPage(e,t="focused"){let s=!1;t==="focused"&&(t=this.getLastFocusedRow(),s=!0);const o=this.model.getRowCount()-1;let n=-1;return e===L.PAGE_HOME?n=0:e===L.PAGE_END?n=o:e===L.PAGE_DOWN?n=Math.min(t+this.pageSize,o):e===L.PAGE_UP&&(n=Math.max(t-this.pageSize,0)),n===-1?null:(s?this.focusRow(n):this.ensureIndexVisible(n),n)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),Ee(this.beans,()=>{if(this.isScrolling=!1,!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()}))}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,s)=>e(t.rowComponent,s))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(e,t=!0){const s=this.model.getRowCount();if(typeof e!="number"||e<0||e>=s)return ee(229,{index:e}),!1;const o=e*this.rowHeight,n=o+this.rowHeight,i=this.getGui(),r=i.scrollTop,a=i.offsetHeight,l=r+a,u=t?0:this.rowHeight,d=r>o+u,c=l<n-u;if(d)return i.scrollTop=o,!0;if(c){const h=n-a;return i.scrollTop=h,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,this.awaitStable(()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}awaitStable(e){if(this.awaitStableCallbacks.push(e),this.awaitStableCallbacks.length>1)return;const t=this.model.getRowCount();os(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{if(!this.isAlive())return;const s=this.awaitStableCallbacks;this.awaitStableCallbacks=[],s.forEach(o=>o())})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),s=t.scrollTop,o=s+t.offsetHeight,n=Math.floor(s/this.rowHeight),i=Math.floor(o/this.rowHeight);this.pageSize=Math.floor((o-s)/this.rowHeight),this.ensureRowsRendered(n,i,e)}ensureRowsRendered(e,t,s){this.renderedRows.forEach((o,n)=>{(n<e||n>t)&&n!==this.lastFocusedRowIndex&&this.removeRow(n)}),s&&this.refreshRows();for(let o=e;o<=t;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)}insertRow(e){const t=this.model.getRow(e),s=document.createElement("div");s.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),J(s,this.ariaRole==="tree"?"treeitem":"option"),Qe(s,this.model.getRowCount()),$e(s,e+1),s.setAttribute("tabindex","-1"),s.style.height=`${this.rowHeight}px`,s.style.top=`${this.rowHeight*e}px`;const o=this.componentCreator(t,s);o.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),s.appendChild(o.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",s):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",s):this.eContainer.appendChild(s),this.renderedRows.set(e,{rowComponent:o,eDiv:s,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,s)=>{var o,n;if(s>=e)this.removeRow(s);else{const i=this.model.getRow(s);(n=(o=this.model).areRowsEqual)!=null&&n.call(o,t.value,i)?this.componentUpdater(i,t.rowComponent):this.removeRow(s)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}};function Ne(e,t,s,o){const n=t.getCol(s);e.groupData||(e.groupData={});const i=n.getColId(),r=e.groupData[i];r!==o&&(e.groupData[i]=o,e.dispatchCellChangedEvent(n,o,r))}function gs(e,t,s){var o;e.group!==s&&(e.group,e.group=s,e.updateHasChildren(),(o=t.selectionSvc)==null||o.updateRowSelectable(e),e.dispatchRowEvent("groupChanged"))}function fs(e,t){const{gos:s,rowGroupColsSvc:o}=t;if(!o||!e)return!1;const n=s.get("groupLockGroupColumns");if(!e.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;const i=o.columns.findIndex(r=>r.getColId()===e.getColId());return n>i}var ms=".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:1px solid var(--ag-border-color)}";function Oe(e,t,s){e==null||t==null||e.splice(s,0,...t)}var Cs=class extends V{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),J(this.ePillDropList,"listbox"),this.registerCSS(ms)}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:t,dragSource:s}=e;return t.contains(s.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Ge(this.getGui()),Ge(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new Kt(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new $t(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),we(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(e){const t=Qt(this.getFocusableElement(),null,!0),s=t.length;if(s===0)return;const{shiftKey:o}=e,n=Ie(this.beans),i=n===t[0],r=n===ae(t);s===1||i&&o||r&&!o||t[o?0:s-1].focus()}onKeyDown(e){const{key:t}=e,s=!this.horizontal;let o=t===L.DOWN,n=t===L.UP;if(!s){const r=this.gos.get("enableRtl");o=!r&&t===L.RIGHT||r&&t===L.LEFT,n=!r&&t===L.LEFT||r&&t===L.RIGHT}if(!o&&!n)return;const i=de(this.beans,this.getFocusableElement(),!1,n);i&&(e.preventDefault(),i.focus())}addElementClasses(e,t){t=t?`-${t}`:"";const s=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${s}${t}`)}setupDropTarget(){var e;this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},(e=this.beans.dragAndDrop)==null||e.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const t=this.getNewInsertIndex(e);if(t<0)return!1;const s=this.minimumAllowedNewInsertIndex(),o=Math.max(s,t),n=o!==this.insertIndex;return n&&(this.insertIndex=o),n}getNewInsertIndex(e){const t=e.event,s=this.horizontal?t.clientX:t.clientY,o=this.childPillComponents.map(i=>i.getGui().getBoundingClientRect()),n=o.findIndex(i=>this.horizontal?i.right>s&&i.left<s:i.top<s&&i.bottom>s);if(n===-1){const i=this.gos.get("enableRtl");return o.every(l=>s>(this.horizontal?l.right:l.bottom))?i&&this.horizontal?0:this.childPillComponents.length:o.every(l=>s<(this.horizontal?l.left:l.top))?i&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=n?n+1:n}checkDragStartedBySelf(e){this.state==="notDragging"&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const t=this.getItems(e.dragSource.getDragItem());this.state="newItemsIn";const s=t.filter(n=>this.isItemDroppable(n,e)),o=s.every(n=>this.childPillComponents.map(i=>i.getItem()).indexOf(n)!==-1);if(s.length!==0){if(this.potentialDndItems=s,o){this.state="notDragging";return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){var e;return!!((e=this.potentialDndItems)!=null&&e.length)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state==="rearrangeItems"){const t=this.getItems(e.dragSource.getDragItem());this.removeItems(t)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(e){this.isPotentialDndItems()&&(this.state==="newItemsIn"&&this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&(this.state==="newItemsIn"?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(e){const t=this.getExistingItems().filter(s=>!e.includes(s));this.updateItems(t)}addItems(e){if(!e)return;const t=this.getExistingItems().slice(),s=e.filter(o=>t.indexOf(o)<0);Oe(t,s,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const t=this.getNonGhostItems().slice();return Oe(t,e,this.insertIndex),ne(t,this.getExistingItems())?!1:(this.updateItems(t),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,t=this.resizeEnabled,s=this.getFocusedItem(),{eGridDiv:o}=this.beans;let n=de(this.beans,o);n||(n=de(this.beans,o,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.horizontal||(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),ns()&&this.restoreFocus(s,n)}getFocusedItem(){const e=this.getGui(),t=Ie(this.beans);return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}restoreFocus(e,t){const s=this.getGui(),o=Array.from(s.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;o.length===0&&t.focus();const n=Math.min(o.length-1,e),i=o[n];i&&i.focus()}focusList(e){const t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(t=>!this.potentialDndItems.includes(t)):e}addItemsToGui(){const t=this.getNonGhostItems().map(s=>this.createItemComponent(s,!1));if(this.isPotentialDndItems()){const s=this.potentialDndItems.map(o=>this.createItemComponent(o,!0));this.insertIndex>=t.length?t.push(...s):t.splice(this.insertIndex,0,...s)}this.appendChild(this.ePillDropList),t.forEach((s,o)=>{o>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(s.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,t)=>{const s=e.getGui();$e(s,t+1),Qe(s,this.childPillComponents.length)})}createItemComponent(e,t){const s=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return s.addEventListener("columnRemove",this.removeItems.bind(this,[e])),this.createBean(s),this.guiDestroyFunctions.push(()=>this.destroyBean(s)),t||this.childPillComponents.push(s),s}addIconAndTitleToGui(){const{title:e,icon:t}=this.params;if(!e||!t)return;const s=document.createElement("div");if(Xt(s,!0),this.addElementClasses(s,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),s.appendChild(t),!this.horizontal){const o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=e,s.appendChild(o)}this.appendChild(s)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const t=document.createElement("span");t.innerHTML=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){const t=this.gos.get("enableRtl"),s=Z(t?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(s,"cell-separator"),e.appendChild(s)}}},ws=class extends V{constructor(e,t,s,o,n){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=s,this.template=o,this.agComponents=n,this.eText=z,this.eDragHandle=z,this.eButton=z}postConstruct(){this.setTemplate(this.template??`
            <span role="option">
              <span data-ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
              <span data-ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
              <span data-ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
            </span>`,this.agComponents);const e=this.getGui(),{beans:t,eDragHandle:s,eText:o,eButton:n}=this;this.addElementClasses(e),this.addElementClasses(s,"drag-handle"),this.addElementClasses(o,"text"),this.addElementClasses(n,"button"),s.appendChild(Z("columnDrag",t)),n.appendChild(Z("cancel",t)),this.tooltipFeature=this.createOptionalManagedBean(t.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),we(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){const s=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(s)}}setupTooltip(){const e=()=>{var t;return(t=this.tooltipFeature)==null?void 0:t.setTooltipAndRefresh(this.getTooltip())};e(),this.addManagedEventListeners({newColumnsLoaded:e})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){const{beans:{dragAndDrop:e},eDragHandle:t}=this,s=this.createGetDragItem(),o=this.getDefaultIconName(),n={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>o,getDragItem:s,dragItemName:this.getDisplayName()};e==null||e.addDragSource(n,!0),this.addDestroyFunc(()=>e==null?void 0:e.removeDragSource(n))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){fe(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:"columnRemove"};this.addGuiEventListener("keydown",s=>this.onKeyDown(s)),this.addManagedElementListeners(this.eButton,{click:s=>{this.dispatchLocalEvent(e),s.stopPropagation()}});const t=new is(this.eButton);this.addManagedListeners(t,{tap:()=>this.dispatchLocalEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}onKeyDown(e){e.key===L.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),t=rs(e);this.eText.innerHTML=t}addElementClasses(e,t){t=t?`-${t}`:"";const s=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${s}-cell${t}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}},vs=class extends ws{constructor(e,t,s,o,n){super(t,s,n),this.column=e,this.dropZonePurpose=o,this.eSortIndicator=z,this.popupShowing=!1}postConstruct(){const{sortSvc:e,colNames:t}=this.beans;this.template=`
            <span role="option">
                <span data-ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
                <span data-ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
                ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
                <span data-ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
            </span>
        `,e&&(this.agComponents=[e.getSortIndicatorSelector()]),this.displayName=t.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),e&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()})}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(e,t){const s=this.gos.get("rowGroupPanelSuppressSort"),o=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!o){const n=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");e.push(n)}if(this.isGroupingZone()&&this.column.isSortable()&&!s){const n=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");e.push(n)}super.addAdditionalAriaInstructions(e,t)}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){const e=this.getLocaleTextFunc(),{name:t,aggFuncName:s}=this.getColumnAndAggFuncName(),o=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),n={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},i=this.column.getSort(),r=this.gos.get("rowGroupPanelSuppressSort");return[s&&`${s}${o}`,t,this.isGroupingZone()&&!r&&i&&`, ${n[i]}`].filter(a=>!!a).join("")}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const s=this.column.getAggFunc(),o=typeof s=="string"?s:"agg";t=this.getLocaleTextFunc()(o,o)}return{name:e,aggFuncName:t}}setupSort(){if(!(!this.column.isSortable()||!this.isGroupingZone())&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const e=t=>{t.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,t)};this.addGuiEventListener("click",e),this.addGuiEventListener("keydown",t=>{t.key===L.ENTER&&this.isGroupingZone()&&e(t)})}}getDefaultIconName(){return"hide"}createGetDragItem(){const{column:e}=this;return()=>{const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(e){super.onKeyDown(e),e.key===L.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName();return this.isAggregationZone()?`${t}(${e})`:e}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const{aggFuncSvc:e,popupSvc:t}=this.beans,s=new ps({cssIdentifier:"select-agg-func"}),o=e.getFuncNames(this.column),n=this.getGui(),i=s.getGui();s.setModel({getRow:function(h){return o[h]},getRowCount:function(){return o.length}}),this.createBean(s);const r=qt('<div class="ag-select-agg-func-popup"></div>');r.style.top="0px",r.style.left="0px",r.appendChild(i),r.style.width=`${n.clientWidth}px`;const[a]=this.addManagedElementListeners(r,{focusout:h=>{!r.contains(h.relatedTarget)&&d&&d.hideFunc()}}),l=h=>{this.destroyBean(s),this.popupShowing=!1,(h==null?void 0:h.key)==="Escape"&&n.focus(),a&&a()},u=this.getLocaleTextFunc(),d=t.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:l,ariaLabel:u("ariaLabelAggregationFunction","Aggregation Function")});d&&s.setComponentCreator(this.createAggSelect.bind(this,d.hideFunc)),s.addGuiEventListener("keydown",h=>{if(h.key===L.ENTER||h.key===L.SPACE){const p=s.getLastFocusedRow();if(p==null)return;const g=s.getComponentAt(p);g&&g.selectItem()}}),t.positionPopupByComponent({type:"aggFuncSelect",eventSource:n,ePopup:r,keepWithinBounds:!0,column:this.column,position:"under"}),s.refresh();let c=o.findIndex(h=>h===this.column.getAggFunc());c===-1&&(c=0),s.focusRow(c)}createAggSelect(e,t){const s=()=>{var a,l;e(),this.getGui().focus(),(l=(a=this.beans.valueColsSvc)==null?void 0:a.setColumnAggFunc)==null||l.call(a,this.column,t,"toolPanelDragAndDrop")},o=this.getLocaleTextFunc(),n=t.toString(),i=o(n,n);return new ys(s,i)}isGroupingAndLocked(){return this.isGroupingZone()&&fs(this.column,this.beans)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}getDragSourceType(){return ge.ToolPanel}destroy(){super.destroy(),this.column=null}},ys=class extends V{constructor(e,t){super('<div class="ag-select-agg-func-item"/>'),this.selectItem=e,this.getGui().innerText=t,this.addGuiEventListener("click",this.selectItem)}},qe=class extends Cs{constructor(e,t){super(e),this.dropZonePurpose=t,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(e){super.init(e),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(e){return e.columns??[]}isInterestedIn(e){return e===ge.HeaderCell||e===ge.ToolPanel}minimumAllowedNewInsertIndex(){const{gos:e,rowGroupColsSvc:t}=this.beans,s=e.get("groupLockGroupColumns"),o=(t==null?void 0:t.columns.length)??0;return s===-1?o:Math.min(s,o)}showOrHideColumnOnExit(e){return this.isRowGroupPanel()&&We(this.gos,!0)&&!e.fromNudge}handleDragEnterEnd(e){if(this.showOrHideColumnOnExit(e)){const o=e.dragSource.getDragItem().columns;this.setColumnsVisible(o,!1,"uiColumnDragged")}}handleDragLeaveEnd(e){if(this.showOrHideColumnOnExit(e)){const s=e.dragSource.getDragItem();this.setColumnsVisible(s.columns,!0,"uiColumnDragged")}}setColumnsVisible(e,t,s){if(e){const o=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(o,t,s)}}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}createPillComponent(e,t,s,o){return new vs(e,t,s,this.dropZonePurpose,o)}},As=class extends qe{constructor(e){super(e,"pivot")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),s=e("pivots","Column Labels");super.init({icon:Z("pivotPanel",this.beans,null),emptyMessage:t,title:s}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.beans.colModel,t=e.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":{const s=e.isPivotActive();this.setDisplayed(t&&s);break}default:this.setDisplayed(!1);break}else this.setDisplayed(t)}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.pivotColsSvc)==null||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){var e;return((e=this.beans.pivotColsSvc)==null?void 0:e.columns)??[]}},Ss=class extends qe{constructor(e){super(e,"rowGroup")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),s=e("groups","Row Groups");super.init({icon:Z("rowGroupPanel",this.beans,null),emptyMessage:t,title:s}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.rowGroupColsSvc)==null||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){var e;return((e=this.beans.rowGroupColsSvc)==null?void 0:e.columns)??[]}},xs=class extends O{constructor(){super(...arguments),this.beanName="aggColNameSvc"}getHeaderName(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const{valueColsSvc:s,colModel:o,rowGroupColsSvc:n}=this.beans,i=e.getColDef().pivotValueColumn,r=H(i);let a=null,l;if(r){const u=(s==null?void 0:s.columns)??[],d=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&u.length===1,c=e.getColDef().pivotTotalColumnIds!==void 0;if(d&&!c)return t;a=i?i.getAggFunc():null,l=!0}else{const u=e.isValueActive(),d=o.isPivotMode()||(n==null?void 0:n.columns.length)!==0;u&&d?(a=e.getAggFunc(),l=!0):l=!1}if(l){const u=typeof a=="string"?a:"func";return`${this.getLocaleTextFunc()(u,u)}(${t})`}return t}},Ms={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},Ds=class extends O{constructor(){super(...arguments),this.beanName="aggFuncSvc",this.aggFuncsMap={},this.initialised=!1}postConstruct(){this.init()}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gos.get("aggFuncs")))}initialiseWithDefaultAggregations(){const e=this.aggFuncsMap;e.sum=bs,e.first=Rs,e.last=Ls,e.min=Ts,e.max=Gs,e.count=Is,e.avg=Es,this.initialised=!0}isAggFuncPossible(e,t){const o=this.getFuncNames(e).includes(t),n=H(this.aggFuncsMap[t]);return o&&n}getDefaultFuncLabel(e){return Ms[e]??e}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if(H(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,"sum"))return"sum";const s=this.getFuncNames(e);return s!=null&&s.length?s[0]:null}addAggFuncs(e){this.init(),e&&Object.entries(e).forEach(([t,s])=>{this.aggFuncsMap[t]=s})}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return t??Object.keys(this.aggFuncsMap).sort()}clear(){this.aggFuncsMap={}}};function bs(e){const{values:t}=e;let s=null;for(let o=0;o<t.length;o++){const n=t[o];typeof n=="number"?s===null?s=n:s+=typeof s=="number"?n:BigInt(n):typeof n=="bigint"&&(s===null?s=n:s=(typeof s=="bigint"?s:BigInt(s))+n)}return s}function Rs(e){return e.values.length>0?e.values[0]:null}function Ls(e){return e.values.length>0?ae(e.values):null}function Ts(e){const{values:t}=e;let s=null;for(let o=0;o<t.length;o++){const n=t[o];(typeof n=="number"||typeof n=="bigint")&&(s===null||s>n)&&(s=n)}return s}function Gs(e){const{values:t}=e;let s=null;for(let o=0;o<t.length;o++){const n=t[o];(typeof n=="number"||typeof n=="bigint")&&(s===null||s<n)&&(s=n)}return s}function Is(e){var n,i;const{values:t}=e;let s=0;for(let r=0;r<t.length;r++){const a=t[r];s+=a!=null&&typeof a.value=="number"?a.value:1}const o=(i=(n=e.rowNode)==null?void 0:n.aggData)==null?void 0:i[e.column.getColId()];return o&&o.value===s?o:{value:s,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function Es(e){var r,a,l;const{values:t}=e;let s=0,o=0;for(let u=0;u<t.length;u++){const d=t[u];let c=null;typeof d=="number"||typeof d=="bigint"?(c=d,o++):d!=null&&(typeof d.value=="number"||typeof d.value=="bigint")&&typeof d.count=="number"&&(c=d.value*(typeof d.value=="number"?d.count:BigInt(d.count)),o+=d.count),typeof c=="number"?s+=typeof s=="number"?c:BigInt(c):typeof c=="bigint"&&(s=(typeof s=="bigint"?s:BigInt(s))+c)}let n=null;o>0&&(n=s/(typeof s=="number"?o:BigInt(o)));const i=(l=(r=e.rowNode)==null?void 0:r.aggData)==null?void 0:l[(a=e.column)==null?void 0:a.getColId()];return i&&i.count===o&&i.value===n?i:{count:o,value:n,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}function Ps(e,t){e.aggFuncSvc&&e.aggFuncSvc.addAggFuncs(t)}function Ns(e){e.aggFuncSvc&&e.aggFuncSvc.clear()}function Os(e,t,s){var o,n;(n=(o=e.valueColsSvc)==null?void 0:o.setColumnAggFunc)==null||n.call(o,t,s,"api")}var Fs=class extends O{constructor(){super(...arguments),this.beanName="aggStage",this.refreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","suppressAggFilteredOnly","grandTotalRow"]),this.step="aggregate"}wireBeans(e){this.colModel=e.colModel,this.aggFuncSvc=e.aggFuncSvc,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotResultCols=e.pivotResultCols,this.valueSvc=e.valueSvc}execute(e){var n,i,r;const t=!((i=(n=this.valueColsSvc)==null?void 0:n.columns)!=null&&i.length),s=!this.gos.getCallback("getGroupRowAgg");if(t&&s&&((r=e.changedPath)!=null&&r.active))return;const o=this.createAggDetails(e);this.recursivelyCreateAggData(o)}createAggDetails(e){var i;const t=this.colModel.isPivotActive(),s=(i=this.valueColsSvc)==null?void 0:i.columns,o=t&&this.pivotColsSvc?this.pivotColsSvc.columns:[];return{alwaysAggregateAtRootLevel:this.gos.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:!!re(this.gos),changedPath:e.changedPath,valueColumns:s??[],pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return Be(this.gos)!==void 0||this.gos.get("suppressAggFilteredOnly")}recursivelyCreateAggData(e){const t=s=>{if(!s.hasChildren()){s.aggData&&this.setAggData(s,null);return}if(s.level===-1&&!e.groupIncludeTotalFooter){const i=!this.colModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&i){this.setAggData(s,null);return}}this.aggregateRowNode(s,e)};e.changedPath.forEachChangedNodeDepthFirst(t,!0)}aggregateRowNode(e,t){const s=t.valueColumns.length===0,o=t.pivotColumns.length===0;let n;t.userAggFunc?n=t.userAggFunc({nodes:e.childrenAfterFilter}):s?n=null:o?n=this.aggregateRowNodeUsingValuesOnly(e,t):n=this.aggregateRowNodeUsingValuesAndPivot(e),this.setAggData(e,n),e.sibling&&this.setAggData(e.sibling,n)}aggregateRowNodeUsingValuesAndPivot(e){var n,i;const t={},s=((i=(n=this.pivotResultCols)==null?void 0:n.getPivotResultCols())==null?void 0:i.list)??[];let o=!0;for(let r=0;r<s.length;r++){const a=s[r],l=a.getColDef();if(l.pivotTotalColumnIds!=null){o=!1;continue}const u=l.pivotKeys??[];let d;e.leafGroup?d=this.getValuesFromMappedSet(e.childrenMapped,u,l.pivotValueColumn):d=this.getValuesPivotNonLeaf(e,l.colId),t[l.colId]=this.aggregateValues(d,l.pivotValueColumn.getAggFunc(),l.pivotValueColumn,e,a)}if(!o)for(let r=0;r<s.length;r++){const a=s[r],l=a.getColDef();if(l.pivotTotalColumnIds==null||!l.pivotTotalColumnIds.length)continue;const u=l.pivotTotalColumnIds.map(d=>t[d]);t[l.colId]=this.aggregateValues(u,l.pivotValueColumn.getAggFunc(),l.pivotValueColumn,e,a)}return t}aggregateRowNodeUsingValuesOnly(e,t){const s={},{changedPath:o,valueColumns:n,filteredOnly:i}=t,r=o.active?o.getValueColumnsForNode(e,n):n,a=o.active?o.getNotValueColumnsForNode(e,n):null,l=this.getValuesNormal(e,r,i),u=e.aggData;return r.forEach((d,c)=>{s[d.getId()]=this.aggregateValues(l[c],d.getAggFunc(),d,e)}),a&&u&&a.forEach(d=>{s[d.getId()]=u[d.getId()]}),s}getValuesPivotNonLeaf(e,t){return e.childrenAfterFilter.map(s=>s.aggData[t])}getValuesFromMappedSet(e,t,s){let o=e;for(let n=0;n<t.length;n++){const i=t[n];o=o?o[i]:null}return o?o.map(n=>this.valueSvc.getValue(s,n)):[]}getValuesNormal(e,t,s){const o=[];t.forEach(()=>o.push([]));const n=t.length,i=s?e.childrenAfterFilter:e.childrenAfterGroup,r=i.length;for(let a=0;a<r;a++){const l=i[a];for(let u=0;u<n;u++){const d=t[u],c=this.valueSvc.getValue(d,l);o[u].push(c)}}return o}aggregateValues(e,t,s,o,n){const i=typeof t=="string"?this.aggFuncSvc.getAggFunc(t):t;if(typeof i!="function")return me(109,{aggFuncOrString:t}),null;const r=i,a=this.gos.addGridCommonParams({values:e,column:s,colDef:s?s.getColDef():void 0,pivotResultColumn:n,rowNode:o,data:o?o.data:void 0});return r(a)}setAggData(e,t){const s=e.aggData;if(e.aggData=t,e.__localEventService){const o=n=>{const i=e.aggData?e.aggData[n]:void 0,r=s?s[n]:void 0;if(i===r)return;const a=this.colModel.getCol(n);a&&e.dispatchCellChangedEvent(a,i,r)};if(s)for(const n of Object.keys(s))o(n);if(t)for(const n of Object.keys(t))(!s||!(n in s))&&o(n)}}},ks=class extends O{constructor(){super(...arguments),this.beanName="filterAggStage",this.refreshProps=new Set([]),this.step="filter_aggregates"}wireBeans(e){this.filterManager=e.filterManager}execute(e){var u,d;const t=this.beans.colModel.isPivotMode(),s=((u=this.filterManager)==null?void 0:u.isAggregateFilterPresent())||((d=this.filterManager)==null?void 0:d.isAggregateQuickFilterPresent()),o=c=>!c.node.group,n=c=>c.node.leafGroup,i=Be(this.gos)||(t?n:o),{changedPath:r}=e,a=(c,h=!1)=>{c.childrenAfterFilter&&(c.childrenAfterAggFilter=c.childrenAfterFilter,h&&c.childrenAfterAggFilter.forEach(p=>a(p,h)),this.setAllChildrenCount(c)),c.sibling&&(c.sibling.childrenAfterAggFilter=c.childrenAfterAggFilter)},l=c=>{var h;c.childrenAfterAggFilter=((h=c.childrenAfterFilter)==null?void 0:h.filter(p=>{var m;return i({node:p})&&this.filterManager.doesRowPassAggregateFilters({rowNode:p})?(a(p,!0),!0):(m=p.childrenAfterAggFilter)==null?void 0:m.length}))||null,this.setAllChildrenCount(c),c.sibling&&(c.sibling.childrenAfterAggFilter=c.childrenAfterAggFilter)};r.forEachChangedNodeDepthFirst(s?l:a,!0)}setAllChildrenCountTreeData(e){const t=e.childrenAfterAggFilter;let s=0;if(t){const o=t.length;s=o;for(let n=0;n<o;++n)s+=t[n].allChildrenCount??0}e.setAllChildrenCount(s===0&&e.level>=0?null:s)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach(s=>{s.group?t+=s.allChildrenCount:t++}),e.setAllChildrenCount(t)}setAllChildrenCount(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gos.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)}},js=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced"]);function q(e,t){if(e.sibling)return;const s=new _e(t);Object.keys(e).forEach(o=>{js.has(o)||(s[o]=e[o])}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,s.id="rowGroupFooter_"+e.id,s.sibling=e,e.sibling=s}function zs(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}var _s=class extends O{constructor(){super(...arguments),this.beanName="footerSvc"}addNodes(e,t,s,o,n,i){var h;const r=(h=t[0])==null?void 0:h.parent;if(!r)return;let{index:a}=e;const l=o&&re(this.gos),u=Ve(this.gos),d=o&&u({node:r});if(r===n){l===i&&(q(r,this.beans),s(r.sibling,a++));return}d===i&&(q(r,this.beans),s(r.sibling,a++))}getTopDisplayIndex(e,t,s,o){let n=t;if(e[0].footer){if(t===0)return 0;n-=1}const i=e[e.length-1],r=n>=s.length;return i.footer&&r?i.rowIndex:o(n)}},Je=class extends Ce{constructor(){super(...arguments),this.beanName="valueColsSvc",this.eventName="columnValueChanged",this.columnProcessors={set:(e,t,s)=>this.setValueActive(t,e,s),add:(e,t,s)=>this.setValueActive(!0,e,s),remove:(e,t,s)=>this.setValueActive(!1,e,s)},this.columnExtractors={setFlagFunc:(e,t,s)=>this.setColValueActive(e,t,s),getIndexFunc:()=>{},getInitialIndexFunc:()=>{},getValueFunc:e=>{const t=e.aggFunc;if(t===null||t==="")return null;if(t!==void 0)return!!t},getInitialValueFunc:e=>e.initialAggFunc!=null&&e.initialAggFunc!=""},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>ie(this.columns,e)}}extractCols(e,t){return this.columns=super.extractCols(e,t),this.columns.forEach(s=>{const o=s.getColDef();o.aggFunc!=null&&o.aggFunc!=""?this.setColAggFunc(s,o.aggFunc):s.getAggFunc()||this.setColAggFunc(s,o.initialAggFunc)}),this.columns}setColumnAggFunc(e,t,s){if(!e)return;const o=this.colModel.getColDefCol(e);o&&(this.setColAggFunc(o,t),this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[o],s))}syncColumnWithState(e,t,s){const o=s("aggFunc").value1;o!==void 0&&(typeof o=="string"?(this.setColAggFunc(e,o),e.isValueActive()||(this.setColValueActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e))):(H(o)&&ee(33),e.isValueActive()&&(this.setColValueActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e))))}setValueActive(e,t,s){if(e!==t.isValueActive()&&(this.setColValueActive(t,e,s),e&&!t.getAggFunc()&&this.aggFuncSvc)){const o=this.aggFuncSvc.getDefaultAggFunc(t);this.setColAggFunc(t,o)}}setColAggFunc(e,t){e.aggFunc=t,e.dispatchStateUpdatedEvent("aggFunc")}setColValueActive(e,t,s){e.aggregationActive!==t&&(e.aggregationActive=t,e.dispatchColEvent("columnValueChanged",s))}},et={moduleName:"SharedAggregation",version:_,beans:[Ds,xs,_s,Je],apiFunctions:{addAggFuncs:Ps,clearAggFuncs:Ns,setColumnAggFunc:Os},dependsOn:[K]},Bs={moduleName:"Aggregation",version:_,beans:[Fs,ks],rowModels:["clientSide"],dependsOn:[et]},Hs=class extends Ce{constructor(){super(...arguments),this.beanName="pivotColsSvc",this.eventName="columnPivotChanged",this.columnProcessors={set:(e,t,s)=>this.setColPivotActive(e,t,s),add:(e,t,s)=>this.setColPivotActive(e,!0,s),remove:(e,t,s)=>this.setColPivotActive(e,!1,s)},this.columnOrdering={enableProp:"pivot",initialEnableProp:"initialPivot",indexProp:"pivotIndex",initialIndexProp:"initialPivotIndex"},this.columnExtractors={setFlagFunc:(e,t,s)=>this.setColPivotActive(e,t,s),getIndexFunc:e=>e.pivotIndex,getInitialIndexFunc:e=>e.initialPivotIndex,getValueFunc:e=>e.pivot,getInitialValueFunc:e=>e.initialPivot},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>ie(this.columns,e)}}syncColumnWithState(e,t,s,o){const{value1:n,value2:i}=s("pivot","pivotIndex");(n!==void 0||i!==void 0)&&(typeof i=="number"||n?(e.isPivotActive()||(this.setColPivotActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),o&&typeof i=="number"&&(o[e.getId()]=i)):e.isPivotActive()&&(this.setColPivotActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setColPivotActive(e,t,s){e.pivotActive!==t&&(e.pivotActive=t,e.dispatchColEvent("columnPivotChanged",s)),e.dispatchStateUpdatedEvent("pivot")}},Vs=class extends Ce{constructor(){super(...arguments),this.beanName="rowGroupColsSvc",this.eventName="columnRowGroupChanged",this.columnProcessors={set:(e,t,s)=>this.setActive(t,e,s),add:(e,t,s)=>this.setActive(!0,e,s),remove:(e,t,s)=>this.setActive(!1,e,s)},this.columnOrdering={enableProp:"rowGroup",initialEnableProp:"initialRowGroup",indexProp:"rowGroupIndex",initialIndexProp:"initialRowGroupIndex"},this.columnExtractors={setFlagFunc:(e,t,s)=>this.setColRowGroupActive(e,t,s),getIndexFunc:e=>e.rowGroupIndex,getInitialIndexFunc:e=>e.initialRowGroupIndex,getValueFunc:e=>e.rowGroup,getInitialValueFunc:e=>e.initialRowGroup},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>ie(this.columns,e)}}moveColumn(e,t,s){if(this.columns.length===0)return;const o=this.columns[e],n=this.columns.slice(e,t);this.columns.splice(e,1),this.columns.splice(t,0,o),this.eventSvc.dispatchEvent({type:this.eventName,columns:n,column:n.length===1?n[0]:null,source:s})}syncColumnWithState(e,t,s,o){const{value1:n,value2:i}=s("rowGroup","rowGroupIndex");(n!==void 0||i!==void 0)&&(typeof i=="number"||n?(e.isRowGroupActive()||(this.setColRowGroupActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),o&&typeof i=="number"&&(o[e.getId()]=i)):e.isRowGroupActive()&&(this.setColRowGroupActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setActive(e,t,s){e!==t.isRowGroupActive()&&(this.setColRowGroupActive(t,e,s),We(this.gos,e)&&this.colModel.setColsVisible([t],!e,s))}setColRowGroupActive(e,t,s){e.rowGroupActive!==t&&(e.rowGroupActive=t,e.dispatchColEvent("columnRowGroupChanged",s)),e.dispatchStateUpdatedEvent("rowGroup")}},Ws=class extends O{constructor(){super(...arguments),this.beanName="autoColSvc"}postConstruct(){this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(Gt(e.source)))}addAutoCols(e){this.autoCols!=null&&(e.list=this.autoCols.list.concat(e.list),e.tree=this.autoCols.tree.concat(e.tree),It(e))}createAutoCols(e,t){var x;const s=this.beans,{colModel:o,gos:n,rowGroupColsSvc:i,colGroupSvc:r}=s,a=o.isPivotMode(),l=Et(n,a),u=a?n.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),d=i==null?void 0:i.columns,h=!(d&&d.length>0||n.get("treeData"))||u||l,p=()=>{this.autoCols&&(Re(s,this.autoCols.tree),this.autoCols=null)};if(h){p();return}const g=this.generateAutoCols(d),f=Pt(g,((x=this.autoCols)==null?void 0:x.list)||null),m=e.treeDepth,w=(this.autoCols?this.autoCols.treeDepth:-1)==m;if(f&&w)return;p();const y=(r==null?void 0:r.findDepth(e.tree))??0,v=(r==null?void 0:r.balanceTreeForAutoCols(g,y))??[];this.autoCols={list:g,tree:v,treeDepth:y,map:{}},t(M=>{if(!M)return null;const D=M.filter(b=>!Ht(b));return[...g,...D]})}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(s=>Nt(s,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}generateAutoCols(e=[]){const t=[],s=this.gos.get("treeData");let o=He(this.gos);return s&&o&&(ee(182),o=!1),o?e.forEach((n,i)=>{t.push(this.createOneAutoCol(n,i))}):t.push(this.createOneAutoCol()),t}updateAutoCols(e){var t;(t=this.autoCols)==null||t.list.forEach((s,o)=>this.updateOneAutoCol(s,o,e))}isSuppressAutoCol(){const e=this.gos;return e.get("groupDisplayType")==="custom"?!0:e.get("treeDataDisplayType")==="custom"}createOneAutoCol(e,t){let s;e?s=`${be}-${e.getId()}`:s=be;const o=this.createAutoColDef(s,e,t);o.colId=s;const n=new Ot(o,null,s,!0);return this.createBean(n),n}updateOneAutoCol(e,t,s){const o=e.getColDef(),n=typeof o.showRowGroup=="string"?o.showRowGroup:void 0,i=this.beans,r=n!=null?i.colModel.getColDefCol(n):void 0,a=this.createAutoColDef(e.getId(),r??void 0,t);e.setColDef(a,null,s),Ft(i,e,a,s)}createAutoColDef(e,t,s){let o=this.createBaseColDef(t);const n=this.gos.get("autoGroupColumnDef");kt(o,n),o=jt(this.beans,o,e,!0),this.gos.get("treeData")||X(o.field)&&X(o.valueGetter)&&X(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter"&&(o.filter=!1),s&&s>0&&(o.headerCheckboxSelection=!1);const i=zt(this.gos),r=o.valueGetter||o.field!=null;return i&&!r&&(o.sortIndex=void 0,o.initialSort=void 0),o}createBaseColDef(e){const t=this.gos.get("autoGroupColumnDef"),o={headerName:this.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){const i=e.getColDef();Object.assign(o,{headerName:this.beans.colNames.getDisplayNameForColumn(e,"header"),headerValueGetter:i.headerValueGetter}),i.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:i.cellRenderer,innerRendererParams:i.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o}onAutoGroupColumnDefChanged(e){this.updateAutoCols(e)}destroy(){var e;Re(this.beans,(e=this.autoCols)==null?void 0:e.tree),super.destroy()}},Us=class extends O{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,s=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:s,hasChildrenChanged:s}}setExpanded(e,t,s,o){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const n={..._t(e,this.gos,"rowGroupOpened"),expanded:t,event:s||null};this.dispatchExpandedEvent(n,o),this.beans.rowRenderer.refreshCells({rowNodes:[e]})}isExpandable(e){return e.footer?!1:this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master}updateExpandedCss(e,t){const s=t.isExpandable(),o=t.expanded==!0;e.forEachGui(void 0,n=>{const i=n.rowComp;i.addOrRemoveCssClass("ag-row-group",s),i.addOrRemoveCssClass("ag-row-group-expanded",s&&o),i.addOrRemoveCssClass("ag-row-group-contracted",s&&!o),Ue(n.element,s&&o)})}},Ys=class extends Us{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=[]}wireBeans(e){this.rowModel=e.rowModel}expandRows(e){const t=new Set(e);this.rowModel.forEachNode(s=>{s.id&&t.has(s.id)&&(s.expanded=!0)}),this.onGroupExpandedOrCollapsed()}expandAll(e){const{gos:t,colModel:s,eventSvc:o}=this.beans,n=this.rowModel,i=t.get("treeData"),r=s.isPivotActive(),a=u=>{u&&u.forEach(d=>{const c=()=>{d.expanded=e,a(d.childrenAfterGroup)};if(i){H(d.childrenAfterGroup)&&c();return}if(r){!d.leafGroup&&c();return}d.group&&c()})},l=n.rootNode;l&&a(l.childrenAfterGroup),n.refreshModel({step:"map"}),o.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:"map"})}dispatchExpandedEvent(e,t){this.events.push(e);const s=()=>{this.rowModel.onRowGroupOpened(),this.events.forEach(o=>this.eventSvc.dispatchEvent(o)),this.events=[]};t?s():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.debounce(s)),this.dispatchExpandedDebounced())}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let s=!1;return()=>{if(!t.active){window.setTimeout(e,0);return}s||(s=!0,t.addDestroyTask(()=>{s=!1,e()}))}}},Zs=class extends O{constructor(){super(...arguments),this.beanName="flattenStage",this.refreshProps=new Set(["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]),this.step="map"}execute(e){const t=e.rowNode,s=[],o=this.beans.colModel.isPivotMode(),n=o&&t.leafGroup,i=n?[t]:t.childrenAfterSort,r=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(r,i,s,o,0);const a=s.length>0;if(!n&&a&&r.grandTotalRow){q(t,this.beans);const u=r.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(r,t.sibling,s,0,u)}return s}getFlattenDetails(){let e=this.gos.get("groupHideParentOfSingleChild");return e||(e=this.gos.get("groupRemoveSingleChildren"),!e&&this.gos.get("groupRemoveLowestSingleChildren")&&(e="leafGroupsOnly")),{groupHideParentOfSingleChild:e,isGroupMultiAutoColumn:He(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:re(this.gos),groupTotalRow:Ve(this.gos)}}recursivelyAddToRowsToDisplay(e,t,s,o,n){var i;if(t!=null&&t.length)for(let r=0;r<t.length;r++){const a=t[r],l=a.hasChildren(),u=o&&!l,d=e.groupHideParentOfSingleChild===!0&&l&&a.childrenAfterGroup.length===1,c=e.groupHideParentOfSingleChild==="leafGroupsOnly"&&l&&a.leafGroup&&a.childrenAfterGroup.length===1,h=o&&a.leafGroup,p=e.hideOpenParents&&a.expanded&&!a.master&&!h;if(!u&&!p&&!d&&!c&&this.addRowNodeToRowsToDisplay(e,a,s,n),!(o&&a.leafGroup))if(l){const f=d||c;if(a.expanded||f){const m=e.groupTotalRow({node:a});m||zs(a);const C=f?n:n+1;m==="top"&&(q(a,this.beans),this.addRowNodeToRowsToDisplay(e,a.sibling,s,C)),this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,s,o,C),m==="bottom"&&(q(a,this.beans),this.addRowNodeToRowsToDisplay(e,a.sibling,s,C))}}else{const f=(i=this.beans.masterDetailSvc)==null?void 0:i.getDetail(a);f&&this.addRowNodeToRowsToDisplay(e,f,s,n)}}}addRowNodeToRowsToDisplay(e,t,s,o,n){n?s.unshift(t):s.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:o)}},tt=class extends O{wireBeans(e){this.expressionSvc=e.expressionSvc,this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.userCompFactory=e.userCompFactory,this.ctrlsSvc=e.ctrlsSvc,this.rowGroupColsSvc=e.rowGroupColsSvc,this.selectionSvc=e.selectionSvc,this.groupHideOpenParentsSvc=e.groupHideOpenParentsSvc}init(e,t,s,o,n,i,r){var d,c,h;this.params=r,this.eGui=t,this.eCheckbox=s,this.eExpanded=o,this.eContracted=n,this.comp=e,this.compClass=i;const{node:a,colDef:l}=r,u=this.isTopLevelFooter();if(!u){if(this.isEmbeddedRowMismatch())return;if(a.footer&&this.gos.get("groupHideOpenParents")){const g=l==null?void 0:l.showRowGroup,f=(d=a.rowGroupColumn)==null?void 0:d.getColId();if(g!==f)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!u){const p=this.rowGroupColsSvc&&a.footer&&a.rowGroupIndex===this.rowGroupColsSvc.columns.findIndex(v=>v.getColId()===(l==null?void 0:l.showRowGroup)),f=this.gos.get("groupDisplayType")!="multipleColumns"||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&this.rowGroupColsSvc&&!a.footer&&(!a.group||a.rowGroupIndex!=null&&a.rowGroupIndex>((c=this.rowGroupColsSvc)==null?void 0:c.columns.findIndex(v=>v.getColId()===(l==null?void 0:l.showRowGroup)))),m=!a.group&&((l==null?void 0:l.field)||(l==null?void 0:l.valueGetter)),C=this.isExpandable(),w=this.colModel.isPivotMode()&&a.leafGroup&&((h=a.rowGroupColumn)==null?void 0:h.getColId())===(l==null?void 0:l.showRowGroup);if(!this.showingValueForOpenedParent&&!C&&!m&&!f&&!p&&!w)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded(),this.addManagedPropertyListener("rowSelection",({currentValue:p,previousValue:g})=>{const f=typeof p=="object"?p:void 0,m=typeof g=="object"?g:void 0;(f==null?void 0:f.checkboxLocation)!==(m==null?void 0:m.checkboxLocation)&&this.refreshCheckbox()})}getCellAriaRole(){var s,o;const e=(s=this.params.colDef)==null?void 0:s.cellAriaRole,t=(o=this.params.column)==null?void 0:o.getColDef().cellAriaRole;return e||t||"gridcell"}destroy(){super.destroy(),this.expandListener=null,this.destroyCheckbox()}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){Vt(t);return}const s=()=>{Ue(t,this.showingValueForOpenedParent||!!e.expanded)};[this.expandListener]=this.addManagedListeners(e,{expandedChanged:s})||null,s()}isTopLevelFooter(){var n;if(!re(this.gos)||this.params.value!=null||this.params.node.level!=-1)return!1;const t=this.params.colDef;if(t==null||t.showRowGroup===!0)return!0;const o=(n=this.rowGroupColsSvc)==null?void 0:n.columns;return!o||o.length===0?!0:o[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",s=!e&&!t;return this.gos.get("enableRtl")?this.visibleCols.isPinningLeft()?!t:!s:this.visibleCols.isPinningLeft()?!e:!s}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let s=t.parent;for(;s!=null;){if(s.rowGroupColumn&&e.isRowGroupDisplayed(s.rowGroupColumn.getId())){this.displayedGroupNode=s;break}s=s.parent}}X(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){var e;this.showingValueForOpenedParent=((e=this.groupHideOpenParentsSvc)==null?void 0:e.isShowingValueForOpenedParent(this.params.node,this.params.column))??!1}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var i;const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:s,value:o}=e;let n=s;if(n==null){const r=this.displayedGroupNode.rowGroupColumn&&((i=this.params.column)==null?void 0:i.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&r?n=this.getLocaleTextFunc()("blanks","(Blanks)"):n=o??null}this.comp.setInnerRenderer(t,n)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const o=this.params,{value:n,node:i}=this.params,r=this.valueSvc.formatValue(e,i,n);return{...o,valueFormatted:r}}addFooterValue(){const e=this.params.totalValueGetter;let t="";if(e){const o={...this.params,value:this.params.value};typeof e=="function"?t=e(o):typeof e=="string"?t=this.expressionSvc?this.expressionSvc.evaluate(e,o):"":ee(179)}else t=this.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,t)}getInnerCompDetails(e){if(e.fullWidth)return ue(this.userCompFactory,this.gos.get("groupRowRendererParams"),e);const t=ue(this.userCompFactory,e,e),s=r=>r&&r.componentClass==this.compClass;if(t&&!s(t))return t;const o=this.displayedGroupNode.rowGroupColumn,n=o==null?void 0:o.getColDef();if(!n)return;const i=Wt(this.userCompFactory,n,e);if(i&&!s(i))return i;if(s(i)&&n.cellRendererParams&&n.cellRendererParams.innerRenderer)return ue(this.userCompFactory,n.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListeners(this.displayedGroupNode,{allChildrenCountChanged:this.updateChildCount.bind(this)}),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(o)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var i;const e=this.params,t=(r,a)=>{const l=Z(r,this.beans,null);l&&(a.appendChild(l),this.addDestroyFunc(()=>a.removeChild(l)))};t("groupExpanded",this.eExpanded),t("groupContracted",this.eContracted);const s=e.eGridCell;!(((i=this.params.column)==null?void 0:i.isCellEditable(e.node))&&this.gos.get("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListeners(s,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(s,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(e.node,{expandedChanged:this.showExpandAndContractIcons.bind(this)}),this.showExpandAndContractIcons();const n=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListeners(this.displayedGroupNode,{allChildrenCountChanged:n,masterChanged:n,groupChanged:n,hasChildrenChanged:n})}onExpandClicked(e){Le(e)||(Ke(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,s=!t.expanded;!s&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(s,e)}scrollToStickyNode(e){this.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.colModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const o=this.params.column;return o!=null&&typeof o.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,colModel:s}=this,{node:o}=e,n=this.isExpandable();if(n){const u=this.showingValueForOpenedParent?!0:o.expanded;this.comp.setExpandedDisplayed(u),this.comp.setContractedDisplayed(!u)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const i=s.isPivotMode(),r=i&&t.leafGroup,a=n&&!r,l=o.footer&&o.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),i?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",!!r):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListeners(e,{uiLevelChanged:this.setIndent.bind(this)}),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;const e=this.params,t=e.node,s=!!e.colDef,o=this.gos.get("treeData"),i=!s||o||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+i,this.comp.addOrRemoveCssClass(this.indentClass,!0),this.eGui.style.setProperty("--ag-indentation-level",String(i))}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag||!this.rowDragSvc)return;const e=this.rowDragSvc.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(e),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.gos.get("rowSelection"),s=Ut(t),o=typeof t=="object"?s==="autoGroupColumn"&&Yt(t):this.params.checkbox,i=(typeof o=="function"||o===!0)&&!e.footer&&!e.rowPinned&&!e.detail&&!!this.selectionSvc&&Zt(this.gos);if(i){const r=this.selectionSvc.createCheckboxSelectionComponent();this.cbComp=r,this.createBean(r),r.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:o,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(r.getGui())}this.comp.setCheckboxVisible(i)}destroyCheckbox(){this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui()),this.cbComp=this.destroyBean(this.cbComp)}refreshCheckbox(){this.destroyCheckbox(),this.addCheckboxIfNeeded()}onKeyDown(e){!(e.key===L.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Le(e))return;Te(this.eExpanded,e)||Te(this.eContracted,e)||this.onExpandOrContract(e)}},Ks=`<span class="ag-cell-wrapper">
        <span class="ag-group-expanded" data-ref="eExpanded"></span>
        <span class="ag-group-contracted" data-ref="eContracted"></span>
        <span class="ag-group-checkbox ag-invisible" data-ref="eCheckbox"></span>
        <span class="ag-group-value" data-ref="eValue"></span>
        <span class="ag-group-child-count" data-ref="eChildCount"></span>
    </span>`,Fe=class extends V{constructor(){super(Ks),this.eExpanded=z,this.eContracted=z,this.eCheckbox=z,this.eValue=z,this.eChildCount=z}init(e){const t={setInnerRenderer:(i,r)=>this.setRenderDetails(i,r),setChildCount:i=>this.eChildCount.textContent=i,addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),setContractedDisplayed:i=>fe(this.eContracted,i),setExpandedDisplayed:i=>fe(this.eExpanded,i),setCheckboxVisible:i=>this.eCheckbox.classList.toggle("ag-invisible",!i)},s=this.createManagedBean(new tt),o=!e.colDef,n=this.getGui();s.init(t,n,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),o&&J(n,s.getCellAriaRole())}setRenderDetails(e,t){e?e.newAgStackInstance().then(s=>{if(!s)return;const o=()=>this.destroyBean(s);this.isAlive()?(this.eValue.appendChild(s.getGui()),this.addDestroyFunc(o)):o()}):this.eValue.innerText=t}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},$s=class extends O{constructor(){super(...arguments),this.beanName="showRowGroupCols"}refresh(){this.showRowGroupCols=[],this.showRowGroupColsMap={};const{colModel:e,rowGroupColsSvc:t}=this.beans;e.getCols().forEach(s=>{const n=s.getColDef().showRowGroup,i=typeof n=="string";!i&&!(n===!0)||(this.showRowGroupCols.push(s),i?this.showRowGroupColsMap[n]=s:t&&t.columns.forEach(a=>{this.showRowGroupColsMap[a.getId()]=s}))})}getShowRowGroupCols(){return this.showRowGroupCols}getShowRowGroupCol(e){return this.showRowGroupColsMap[e]}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;const{rowGroupColsSvc:s,colModel:o}=this.beans;if(t===!0&&s)return s.columns.slice(0);const n=o.getColDefCol(t);return n?[n]:null}isRowGroupDisplayed(e,t){const{colDef:s}=e;if((s==null?void 0:s.showRowGroup)==null)return!1;const o=s.showRowGroup===!0,n=s.showRowGroup===t;return o||n}},Qs=class extends O{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=Ze(this.gos),this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?qs(e):Xs(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t=e==="top";let s=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,s);const{rowModel:o,rowRenderer:n}=this.beans,i=t?n.firstVisibleVPixel-this.extraTopHeight:n.lastVisibleVPixel-this.extraTopHeight,r=new Set,a=c=>{if(r.add(c),t){const h=this.getLastPixelOfGroup(c),p=i+s+c.rowHeight;h<p?c.stickyRowTop=s+(h-p):c.stickyRowTop=s}else{const h=this.getFirstPixelOfGroup(c),p=i-(s+c.rowHeight);h>p?c.stickyRowTop=s-(h-p):c.stickyRowTop=s}s=0,r.forEach(h=>{const p=h.stickyRowTop+h.rowHeight;s<p&&(s=p)})},l=this.areFooterRowsStickySuppressed(),u=this.gos.get("suppressGroupRowsSticky"),d=c=>{if(!c.displayed)return!1;if(c.footer){if(l===!0||l==="grand"&&c.level===-1||l==="group"&&c.level>-1)return!1;const h=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return e==="bottom"&&h?!1:!r.has(c)}return c.isExpandable()?u===!0||e==="bottom"?!1:!r.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let h=i+s;t||(h=i-s);const p=o.getRowIndexAtPixel(h),g=o.getRow(p);if(g==null)break;const m=this.getStickyAncestors(g).find(w=>(t?w.rowIndex<p:w.rowIndex>p)&&d(w));if(m){a(m);continue}if((t?g.rowTop<h:g.rowTop+g.rowHeight>h)&&d(g)){a(g);continue}break}return t||r.forEach(c=>{c.stickyRowTop=s-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,s)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=e==="group",s=e==="grand";return t&&s?!0:s?"grand":t?"group":!1}canRowsBeSticky(){const e=Ye(this.gos),t=this.areFooterRowsStickySuppressed(),s=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!s)}getStickyAncestors(e){const t=[];let s=e.footer?e.sibling:e.parent;for(;s;)s.sibling&&t.push(s.sibling),t.push(s),s=s.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(s=>s.rowNode===e)){for(let s=0;s<this.stickyTopRowCtrls.length;s++){const o=this.stickyTopRowCtrls[s].rowNode;o!==e&&t.add(o)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let s=0;s<this.stickyBottomRowCtrls.length;s++){const o=this.stickyBottomRowCtrls[s].rowNode;o!==e&&t.add(o)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,s){const o=e==="top",n=o?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,i={},r=[];for(let p=0;p<n.length;p++){const g=n[p].rowNode;if(!t.has(g)){i[g.id]=n[p],g.sticky=!1;continue}r.push(n[p])}const a=new Set;for(let p=0;p<r.length;p++)a.add(r[p].rowNode);const l=[];t.forEach(p=>{a.has(p)||(p.sticky=!0,l.push(this.createRowCon(p,!1,!1)))});let u=!!l.length||r.length!==n.length;o?this.topContainerHeight!==s&&(this.topContainerHeight=s,this.gridBodyCtrl.setStickyTopHeight(s),u=!0):this.bottomContainerHeight!==s&&(this.bottomContainerHeight=s,this.gridBodyCtrl.setStickyBottomHeight(s),u=!0),this.destroyRowCtrls(i,!1);const d=[...r,...l];d.sort((p,g)=>g.rowNode.rowIndex-p.rowNode.rowIndex),o||d.reverse(),d.forEach(p=>p.setRowTop(p.rowNode.stickyRowTop));const c=this.beans.pageBounds;let h=0;return o?(t.forEach(p=>{p.rowIndex<c.getFirstRow()&&(h+=p.rowHeight)}),h>this.topContainerHeight&&(h=this.topContainerHeight),this.setOffsetTop(h)):(t.forEach(p=>{p.rowIndex>c.getLastRow()&&(h+=p.rowHeight)}),h>this.bottomContainerHeight&&(h=this.bottomContainerHeight),this.setOffsetBottom(h)),u?(o?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let e=!1;const t=s=>{const o=s.rowNode;if(o.rowHeightEstimated){const n=Jt(this.beans,o);o.setRowHeight(n.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}};function Xs(e){var t,s;if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(n=(s=e.sibling.childStore)==null?void 0:s.getStoreBounds()),((n==null?void 0:n.heightPx)??0)+((n==null?void 0:n.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}function qs(e){if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let o=e.footer?e.sibling:e;for(;o.isExpandable()&&o.expanded;)if(o.master)o=o.detailNode;else if(o.childrenAfterSort){if(o.childrenAfterSort.length===0)break;o=ae(o.childrenAfterSort)}return o.rowTop+o.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}var Js=class extends O{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,s){const o=this.gos;if(Ye(o)&&Ze(o)||Bt(o))return e.createManagedBean(new Qs(t,s))}},eo={moduleName:"GroupCellRenderer",version:_,userComponents:{agGroupRowRenderer:Fe,agGroupCellRenderer:Fe},dynamicBeans:{groupCellRendererCtrl:tt},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},dependsOn:[K]},to={moduleName:"GroupColumn",version:_,beans:[Ws,$s,Vs,Hs,Je],dependsOn:[K,eo]},so={moduleName:"ClientSideRowModelHierarchy",version:_,rowModels:["clientSide"],beans:[Zs,Ys],dependsOn:[K]},oo={moduleName:"StickyRow",version:_,beans:[Js]},no=class extends V{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel());const e=this.onRowGroupChanged.bind(this);this.addManagedEventListeners({columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedPropertyListener("rowGroupPanelShow",e),this.addManagedPropertyListener("pivotPanelShow",()=>this.onPivotPanelShow()),this.onRowGroupChanged()}createNorthPanel(){const e=document.createElement("div");e.classList.add("ag-column-drop-wrapper"),J(e,"presentation");const t=new Ss(!0);this.rowGroupComp=this.createManagedBean(t);const s=new As(!0);this.pivotComp=this.createManagedBean(s),e.appendChild(t.getGui()),e.appendChild(s.getGui());const o=this.onDropPanelVisible.bind(this);return this.addManagedListeners(t,{displayChanged:o}),this.addManagedListeners(s,{displayChanged:o}),this.onDropPanelVisible(),e}onDropPanelVisible(){const{rowGroupComp:e,pivotComp:t}=this,s=e.isDisplayed()&&t.isDisplayed(),o="ag-column-drop-horizontal-half-width";e.addOrRemoveCssClass(o,s),t.addOrRemoveCssClass(o,s)}onRowGroupChanged(){var s,o;const e=this.rowGroupComp;if(!e)return;const t=this.gos.get("rowGroupPanelShow");if(t==="always")e.setDisplayed(!0);else if(t==="onlyWhenGrouping"){const n=((o=(s=this.beans.rowGroupColsSvc)==null?void 0:s.columns)==null?void 0:o.length)!==0;e.setDisplayed(n)}else e.setDisplayed(!1)}onPivotPanelShow(){const e=this.pivotComp;if(!e)return;const t=this.gos.get("pivotPanelShow");if(t==="always")e.setDisplayed(!0);else if(t==="onlyWhenPivoting"){const s=this.beans.colModel.isPivotActive();e.setDisplayed(s)}else e.setDisplayed(!1)}},io={selector:"AG-GRID-HEADER-DROP-ZONES",component:no},ro=class extends O{constructor(){super(...arguments),this.beanName="groupHideOpenParentsSvc"}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents")||this.gos.get("treeData"))return;const t=s=>{this.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(o=>{o.hasChildren()&&t(o)})};e&&e.executeFromRootNode(s=>t(s))}pullDownGroupDataForHideOpenParents(e,t){if(!this.gos.get("groupHideOpenParents")||X(e))return;const{colModel:s,showRowGroupCols:o}=this.beans;e.forEach(n=>{((o==null?void 0:o.getShowRowGroupCols())??[]).forEach(r=>{const a=r.getColDef().showRowGroup;if(typeof a!="string"){me(110);return}const l=a,u=s.getColDefCol(l);if(u!==n.rowGroupColumn)if(t)Ne(n,s,r.getId(),void 0);else{const c=this.getFirstChildOfFirstChild(n,u);c&&Ne(n,s,r.getId(),c.key)}})})}isShowingValueForOpenedParent(e,t){if(!this.gos.get("groupHideOpenParents")||!e.groupData)return!1;if(e.rowGroupColumn!=null){const o=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(o))return!1}return e.groupData[t.getId()]!=null}getFirstChildOfFirstChild(e,t){let s=e;for(;s;){const o=s.parent;if(o!=null&&o.childrenAfterSort&&s===o.childrenAfterSort[0]){if(o.rowGroupColumn===t)return o}else return null;s=o}return null}},he=class{constructor(){this.allSets={},this.allParents=[]}removeFromChildrenAfterGroup(e,t){const s=this.getSet(e);s.removeFromChildrenAfterGroup[t.id]=!0}isRemoveFromAllLeafChildren(e,t){return!!this.getSet(e).removeFromAllLeafChildren[t.id]}preventRemoveFromAllLeafChildren(e,t){const s=this.getSet(e);delete s.removeFromAllLeafChildren[t.id]}removeFromAllLeafChildren(e,t){const s=this.getSet(e);s.removeFromAllLeafChildren[t.id]=!0}getSet(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]}getAllParents(){return this.allParents}flush(){this.allParents.forEach(e=>{var o;const t=this.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(n=>!t.removeFromChildrenAfterGroup[n.id]),e.allLeafChildren=((o=e.allLeafChildren)==null?void 0:o.filter(n=>!t.removeFromAllLeafChildren[n.id]))??null,e.updateHasChildren();const s=e.sibling;s&&(s.childrenAfterGroup=e.childrenAfterGroup,s.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0}};function ao(e){if(!e)return!1;const t=e.length;if(t<2)return!1;let s=!1;for(let o=1;o<t;o++)if(ke(e[o-1],e[o])>0){s=!0;break}return s?(e.sort(ke),!0):!1}function ke(e,t){const s=e.sourceRowIndex,o=t.sourceRowIndex,n=s>=0,i=o>=0,r=n&&i,a=!n&&!i;return r?s-o:a?e.__objectId-t.__objectId:n?1:-1}var lo=class extends O{constructor(){super(...arguments),this.beanName="groupStage",this.refreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),this.step="group"}wireBeans(e){this.colModel=e.colModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc,this.selectionSvc=e.selectionSvc,this.showRowGroupCols=e.showRowGroupCols}execute(e){var o;const t=this.createGroupingDetails(e);if(t.transactions)this.handleTransaction(t);else{const n=e.afterColumnsChanged===!0;this.shotgunResetEverything(t,n)}const s=e.changedPath;this.positionLeafsAndGroups(s),this.orderGroups(t),(o=this.selectionSvc)==null||o.updateSelectableAfterGrouping(s)}positionLeafsAndGroups(e){e.forEachChangedNodeDepthFirst(t=>{if(t.childrenAfterGroup){const s=[],o=[];let n;t.childrenAfterGroup.forEach(i=>{var r;(r=i.childrenAfterGroup)!=null&&r.length?i.key===""&&!n?n=i:o.push(i):s.push(i)}),n&&o.push(n),t.childrenAfterGroup=[...s,...o]}},!1)}createGroupingDetails(e){var a;const{rowNode:t,changedPath:s,rowNodeTransactions:o,rowNodesOrderChanged:n}=e,i=(a=this.rowGroupColsSvc)==null?void 0:a.columns;return{expandByDefault:this.gos.get("groupDefaultExpanded"),groupedCols:i,rootNode:t,pivotMode:this.colModel.isPivotMode(),groupedColCount:(i==null?void 0:i.length)??0,transactions:o,rowNodesOrderChanged:!!n,changedPath:s,groupAllowUnbalanced:this.gos.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gos.getCallback("initialGroupOrderComparator"),keyCreators:(i==null?void 0:i.map(l=>l.getColDef().keyCreator))??[]}}handleTransaction(e){e.transactions.forEach(t=>{var n,i,r;const s=new he;(n=t.remove)!=null&&n.length&&this.removeNodes(t.remove,e,s),(i=t.update)!=null&&i.length&&this.moveNodesInWrongPath(t.update,e,s),(r=t.add)!=null&&r.length&&this.insertNodes(t.add,e);const o=s.getAllParents().slice();s.flush(),this.removeEmptyGroups(o,e)}),e.rowNodesOrderChanged&&this.sortChildren(e)}sortChildren(e){e.changedPath.forEachChangedNodeDepthFirst(t=>{ao(t.childrenAfterGroup)&&e.changedPath.addParentNode(t)},!1,!0)}orderGroups(e){const t=e.initialGroupOrderComparator;H(t)&&s(e.rootNode);function s(o){H(o.childrenAfterGroup)&&!o.leafGroup&&(o.childrenAfterGroup.sort((i,r)=>t({nodeA:i,nodeB:r})),o.childrenAfterGroup.forEach(i=>s(i)))}}getExistingPathForNode(e,t){const s=[];let o=e.parent;for(;o&&o!==t.rootNode;)s.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return s.reverse(),s}moveNodesInWrongPath(e,t,s){e.forEach(o=>{t.changedPath.active&&t.changedPath.addParentNode(o.parent);const n=l=>l.key,i=this.getExistingPathForNode(o,t).map(n),r=this.getGroupInfo(o,t).map(n);ne(i,r)||this.moveNode(o,t,s)})}moveNode(e,t,s){if(this.removeNodesFromParents([e],t,s),this.insertOneNode(e,t,s),e.setData(e.data),t.changedPath.active){const o=e.parent;t.changedPath.addParentNode(o)}}removeNodes(e,t,s){this.removeNodesFromParents(e,t,s),t.changedPath.active&&e.forEach(o=>t.changedPath.addParentNode(o.parent))}forEachParentGroup(e,t,s){let o=t;for(;o&&o!==e.rootNode;)s(o),o=o.parent}removeNodesFromParents(e,t,s){const o=s==null,n=s||new he;e.forEach(i=>{this.removeFromParent(i,n),this.forEachParentGroup(t,i.parent,r=>{n.removeFromAllLeafChildren(r,i)})}),o&&n.flush()}removeEmptyGroups(e,t){let s=!0;const o=n=>{var l;const i=this.getChildrenMappedKey(n.key,n.rowGroupColumn),r=n.parent;return(r!=null&&r.childrenMapped?!r.childrenMapped[i]:!0)?!1:!!n.group&&(((l=n.childrenAfterGroup)==null?void 0:l.length)??0)===0};for(;s;){s=!1;const n=new he;e.forEach(i=>{this.forEachParentGroup(t,i,r=>{var a;o(r)&&(s=!0,this.removeFromParent(r,n),(a=this.selectionSvc)==null||a.setNodesSelected({nodes:[r],newValue:!1,source:"rowGroupChanged"}))})}),n.flush()}}removeFromParent(e,t){var o;e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(ie(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));const s=this.getChildrenMappedKey(e.key,e.rowGroupColumn);(o=e.parent)!=null&&o.childrenMapped&&delete e.parent.childrenMapped[s],e.setRowTop(null),e.setRowIndex(null)}addToParent(e,t){const s=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t!=null&&t.childrenMapped&&t.childrenMapped[s]!==e&&(t.childrenMapped[s]=e,t.childrenAfterGroup.push(e),gs(t,this.beans,!0))}areGroupColsEqual(e,t){return e==null||t==null||e.pivotMode!==t.pivotMode?!1:ne(e.groupedCols,t.groupedCols)&&ne(e.keyCreators,t.keyCreators)}checkAllGroupDataAfterColsChanged(e){const t=s=>{s&&s.forEach(o=>{var r;if(!o.group)return;const i={field:o.field,key:o.key,rowGroupColumn:o.rowGroupColumn,leafNode:(r=o.allLeafChildren)==null?void 0:r[0]};this.setGroupData(o,i),t(o.childrenAfterGroup)})};t(e.rootNode.childrenAfterGroup)}shotgunResetEverything(e,t){var i,r;if(this.noChangeInGroupingColumns(e,t))return;(r=(i=this.selectionSvc)==null?void 0:i.filterFromSelection)==null||r.call(i,a=>!a.group);const{groupedCols:s}=e,o=e.rootNode;o.leafGroup=s.length===0,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();const n=o.sibling;n&&(n.childrenAfterGroup=o.childrenAfterGroup,n.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e)}noChangeInGroupingColumns(e,t){let s=!1;const o=this.showRowGroupCols.getShowRowGroupCols(),n=o?o.map(i=>i.getId()).join("-"):"";return t&&(s=this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==n&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=n,s}insertNodes(e,t){e.forEach(s=>{this.insertOneNode(s,t),t.changedPath.active&&t.changedPath.addParentNode(s.parent)})}insertOneNode(e,t,s){const o=this.getGroupInfo(e,t),n=this.findParentForNode(e,o,t,s);n.group||ee(184,{parentGroupData:n.data,childNodeData:e.data}),e.parent=n,e.level=o.length,n.childrenAfterGroup.push(e),n.updateHasChildren()}findParentForNode(e,t,s,o){let n=s.rootNode;return t.forEach((i,r)=>{n=this.getOrCreateNextNode(n,i,r,s),o!=null&&o.isRemoveFromAllLeafChildren(n,e)?o==null||o.preventRemoveFromAllLeafChildren(n,e):n.allLeafChildren.push(e)}),n}getOrCreateNextNode(e,t,s,o){var r;const n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);let i=(r=e==null?void 0:e.childrenMapped)==null?void 0:r[n];return i||(i=this.createGroup(t,e,s,o),this.addToParent(i,e)),i}createGroup(e,t,s,o){const n=new _e(this.beans);return n.group=!0,n.field=e.field,n.rowGroupColumn=e.rowGroupColumn,this.setGroupData(n,e),n.key=e.key,n.id=this.createGroupId(n,t,s),n.level=s,n.leafGroup=s===o.groupedColCount-1,n.allLeafChildren=[],n.setAllChildrenCount(0),n.rowGroupIndex=s,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren(),n.parent=t,this.setExpandedInitialValue(o,n),n}createGroupId(e,t,s){const o=(n,i)=>{if(!n.rowGroupColumn)return null;const r=i?o(i,i.parent):null;return`${r==null?"":r+"-"}${n.rowGroupColumn.getColId()}-${n.key}`};return Lt+o(e,t)}setGroupData(e,t){e.groupData={},this.showRowGroupCols.getShowRowGroupCols().forEach(o=>{const n=e.rowGroupColumn;n!==null&&o.isRowGroupDisplayed(n.getId())&&(e.groupData[o.getColId()]=this.valueSvc.getValue(n,t.leafNode))})}getChildrenMappedKey(e,t){return t?t.getId()+"-"+e:e}setExpandedInitialValue(e,t){if(e.pivotMode&&t.leafGroup){t.expanded=!1;return}const s=e.isGroupOpenByDefault;if(s){const o={rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn};t.expanded=s(o)==!0;return}if(e.expandByDefault===-1){t.expanded=!0;return}t.expanded=t.level<e.expandByDefault}getGroupInfo(e,t){const s=[];return t.groupedCols.forEach(o=>{let n=this.valueSvc.getKeyForNode(o,e),i=n!=null&&n!=="";if((t.pivotMode||!t.groupAllowUnbalanced)&&!i&&(n="",i=!0),i){const a={key:n,field:o.getColDef().field,rowGroupColumn:o,leafNode:e};s.push(a)}}),s}};function co(e,t){var s;(s=e.rowGroupColsSvc)==null||s.setColumns(t,"api")}function uo(e,t){var s;(s=e.rowGroupColsSvc)==null||s.removeColumns(t,"api")}function ho(e,t){var s;(s=e.rowGroupColsSvc)==null||s.addColumns(t,"api")}function po(e,t,s){var o,n;(n=(o=e.rowGroupColsSvc)==null?void 0:o.moveColumn)==null||n.call(o,t,s,"api")}function go(e){var t;return((t=e.rowGroupColsSvc)==null?void 0:t.columns)??[]}var fo={moduleName:"SharedRowGrouping",version:_,beans:[ro],apiFunctions:{setRowGroupColumns:co,removeRowGroupColumns:uo,addRowGroupColumns:ho,getRowGroupColumns:go,moveRowGroupColumn:po},dependsOn:[K,et,to,oo]},Yo={moduleName:"RowGrouping",version:_,beans:[lo],rowModels:["clientSide"],dependsOn:[fo,Bs,so]},Zo={moduleName:"RowGroupingPanel",version:_,selectors:[io],icons:{pivotPanel:"pivot",rowGroupPanel:"group",panelDelimiter:"small-right",panelDelimiterRtl:"small-left"},dependsOn:[K,bt]};Rt.values();var mo=["number","category","grouped-category","log","time"];mo.reduce((e,t)=>({...e,[t]:{title:{_enabledFromTheme:!0}}}),{});function te(e){const{stacked:t,size:s,padding:o,xScalePadding:n,xScaleDomain:i,yScaleDomain:r,agChartsExports:{_Scene:a}}=e,l=new a.BandScale;l.domain=i,l.range=[o,s-o],l.paddingInner=n,l.paddingOuter=n;const u=new a.LinearScale;u.domain=r,u.range=[s-o,o];const d=(c,h,p)=>c.map((g,f)=>{const m=p.convert(g),C=new a.Rect;return C.x=h.convert(f),C.y=m,C.width=h.bandwidth,C.height=p.convert(0)-m,C.strokeWidth=0,C.crisp=!0,C});return t?e.data.map(c=>d(c,l,u)):d(e.data,l,u)}function st(e,t,s,o){const n=[0,t[0].length-1],i=t.reduce((l,u)=>(u.forEach(d=>{d<l[0]&&(l[0]=d),d>l[1]&&(l[1]=d)}),l),[1/0,-1/0]);i[0]--,i[i.length-1]++;const r=new e.LinearScale;r.domain=n,r.range=[o,s-o];const a=new e.LinearScale;return a.domain=i,a.range=[s-o,o],{xScale:r,yScale:a}}function ot(e,t,s){return e.map(o=>o.map((n,i)=>[i>0?"lineTo":"moveTo",t.convert(i),s.convert(n)]))}function nt(e,t){const s=new e.Path;return t.forEach(([o,n,i])=>s.path[o](n,i)),s}function Co(e,t,s){return e.map((o,n,i)=>{const a=[...s?wo(i,n,t):it(o,t)].reverse().map(([d,c,h])=>["lineTo",c,h]),l=o[0],u=ae(a);return(l[1]!==u[1]||l[2]!==u[2])&&a.push(["lineTo",l[1],l[2]]),[...o,...a]})}function wo(e,t,s){return t===0?it(e[t],s):[...e[t-1]]}function it(e,t){return e.map(([s,o])=>[s,o,t.convert(0)])}function ve({_Scene:e},t,s,o,n){const{xScale:i,yScale:r}=st(e,s,o,n),l=ot(s,i,r).map(d=>{const c=nt(e,d);return c.strokeWidth=3,c.lineCap="round",c.fill=void 0,c}),u=new e.Group;return u.setClipRect(new e.BBox(n,n,o-n*2,o-n*2)),u.append(l),t.append(u),l}function vo(e,t,s,o,n,i=!1){const{xScale:r,yScale:a}=st(e,s,o,n),l=Co(ot(s,r,a),a,i),u=new e.Group;u.setClipRect(new e.BBox(n,n,o-n*2,o-n*2));const d=l.map(c=>nt(e,c));return u.append(d),t.append(u),d}function rt(e){return e.map((t,s,o)=>t.map((n,i)=>o.slice(0,s+1).reduce((r,a)=>r+a[i],0)))}function at(e){const t=e.map((s,o)=>e.reduce((n,i)=>Math.max(n,i[o]),0));return e.map(s=>s.map((o,n)=>o/t[n]*19))}function lt(e,t,s,o,n,i,r=0){const{_Scene:a}=e,l=new a.LinearScale;l.domain=[0,7],l.range=[-Math.PI,Math.PI].map(g=>g+Math.PI/2);const u=new a.LinearScale;u.domain=[0,10],u.range=[n,i];const d=[],c=o/2,h=s.map(g=>{const f=new a.Path;return f.strokeWidth=1,f.strokeOpacity=.5,f.lineCap="round",f.fill=void 0,f.fillOpacity=.8,g.forEach((m,C)=>{const w=l.convert(C),y=n+i-u.convert(m),v=y*Math.cos(w)+c,A=y*Math.sin(w)+c;if(f.path[C>0?"lineTo":"moveTo"](v,A),r>0){const x=new a.Circle;x.x=v,x.y=A,x.size=r,d.push(x)}}),f.path.closePath(),f}),p=new a.Group;return p.append([...h,...d]),t.append(p),{paths:h,markers:d}}function le(e){let[t,s]=[1/0,-1/0];return{processedData:e.reduce((n,i,r)=>{const a=r>0?n[r-1]:void 0;n[r]??(n[r]=[]);const l=n[r];return i.forEach((u,d)=>{a&&(u+=a[d]),l[d]=u,l[d]<t&&(t=l[d]),l[d]>s&&(s=l[d])}),n},[]),min:t,max:s}}var yo="ag-chart-mini-thumbnail-canvas",$=class extends V{constructor(e,t,s){super(),this.agChartsExports=t,this.tooltipName=s,this.size=58,this.padding=5;const{_Scene:o}=t;this.root=new o.Group;const n=new o.Scene({width:this.size,height:this.size});n.canvas.element.classList.add(yo),n.setRoot(this.root),n.setContainer(e),this.scene=n}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.scene.canvas.element.title=this.chartTranslation.translate(this.tooltipName);try{this.scene.render()}catch(e){me(108,{e})}}},F=class extends ${constructor(e,t,s){super(e,t,s),this.stroke="gray",this.axisOvershoot=3}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,s=this.padding,o=new e.Line;o.x1=s,o.y1=s,o.x2=s,o.y2=t-s+this.axisOvershoot,o.stroke=this.stroke;const n=new e.Line;n.x1=s-this.axisOvershoot+1,n.y1=t-s,n.x2=t-s+1,n.y2=t-s,n.stroke=this.stroke;const i=this.root;i.append(o),i.append(n),super.postConstruct()}},Ao=class extends F{constructor(e,t,s,o){super(e,t,"groupedColumnTooltip"),this.columnData=[2,3,4];const{root:n,columnData:i,size:r,padding:a}=this;this.columns=te({stacked:!1,root:n,data:i,size:r,padding:a,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3,agChartsExports:t}),n.append(this.columns),this.updateColors(s,o)}updateColors(e,t){this.columns.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]})}};Ao.chartType="groupedColumn";var ye=class ct extends F{constructor(t,s,o,n,i,r,a=ct.data,l=[0,16],u="stackedColumnTooltip"){super(t,s,u);const{root:d,size:c,padding:h}=this;this.stackedColumns=te({stacked:!0,root:d,data:a,size:c,padding:h,xScaleDomain:[0,1,2],yScaleDomain:l,xScalePadding:.3,agChartsExports:s}),d.append([].concat.apply([],this.stackedColumns)),this.updateColors(o,n)}updateColors(t,s){this.stackedColumns.forEach((o,n)=>o.forEach(i=>{i.fill=t[n],i.stroke=s[n]}))}};ye.chartType="stackedColumn";ye.data=[[8,12,16],[6,9,12],[2,3,4]];var So=ye,ut=class dt extends So{constructor(t,s,o,n,i,r){super(t,s,o,n,i,r,dt.data,[0,10],"normalizedColumnTooltip")}};ut.chartType="normalizedColumn";ut.data=[[10,10,10],[6,7,8],[2,4,6]];var xo=class extends F{constructor(e,t,s,o){super(e,t,"groupedBarTooltip");const{_Scene:n}=t,i=this.padding,r=this.size,a=[2,3,4],l=new n.BandScale;l.domain=[0,1,2],l.range=[i,r-i],l.paddingInner=.3,l.paddingOuter=.3;const u=new n.LinearScale;u.domain=[0,4],u.range=[r-i,i];const d=u.convert(0),c=l.bandwidth;this.bars=a.map((h,p)=>{const g=new n.Rect;return g.x=i,g.y=l.convert(p),g.width=d-u.convert(h),g.height=c,g.strokeWidth=0,g.crisp=!0,g}),this.updateColors(s,o),this.root.append(this.bars)}updateColors(e,t){this.bars.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]})}};xo.chartType="groupedBar";var Ae=class ht extends F{constructor(t,s,o,n,i,r,a=ht.data,l=[0,16],u="stackedBarTooltip"){super(t,s,u);const{_Scene:d}=s,c=this.size,h=this.padding,p=new d.BandScale;p.domain=[0,1,2],p.range=[h,c-h],p.paddingInner=.3,p.paddingOuter=.3;const g=new d.LinearScale;g.domain=l,g.range=[c-h,h];const f=g.convert(0),m=p.bandwidth;this.bars=a.map(C=>C.map((w,y)=>{const v=new d.Rect;return v.x=h,v.y=p.convert(y),v.width=f-g.convert(w),v.height=m,v.strokeWidth=0,v.crisp=!0,v})),this.updateColors(o,n),this.root.append([].concat.apply([],this.bars))}updateColors(t,s){this.bars.forEach((o,n)=>o.forEach(i=>{i.fill=t[n],i.stroke=s[n]}))}};Ae.chartType="stackedBar";Ae.data=[[8,12,16],[6,9,12],[2,3,4]];var Mo=Ae,pt=class gt extends Mo{constructor(t,s,o,n,i,r){super(t,s,o,n,i,r,gt.data,[0,10],"normalizedBarTooltip")}};pt.chartType="normalizedBar";pt.data=[[10,10,10],[6,7,8],[2,4,6]];var ft=class extends ${constructor(e,t,s,o,n,i,r=.6,a="donutTooltip"){super(e,t,a);const{size:l,padding:u,agChartsExports:{_Scene:d}}=this,c=(l-u*2)/2,h=c+u,p=d.toRadians,g=[[p(-90),p(30)],[p(30),p(120)],[p(120),p(180)],[p(180),p(210)],[p(210),p(240)],[p(240),p(270)]];this.sectors=g.map(([f,m])=>{const C=new d.Sector;return C.centerX=h,C.centerY=h,C.innerRadius=c*r,C.outerRadius=c,C.startAngle=f,C.endAngle=m,C.stroke=void 0,C.strokeWidth=0,C.inset=.75,C}),this.updateColors(s,o),this.root.append(this.sectors)}updateColors(e,t){this.sectors.forEach((s,o)=>{s.fill=e[o%e.length],s.stroke=t[o%t.length]})}};ft.chartType="donut";var Do=class extends ft{constructor(e,t,s,o,n,i){super(e,t,s,o,n,i,0,"pieTooltip")}};Do.chartType="pie";var Se=class mt extends F{constructor(t,s,o,n,i,r,a=mt.data,l="lineTooltip"){super(t,s,l);const{size:u,padding:d,root:c}=this;this.lines=ve(s,c,a,u,d),this.updateColors(o,n)}updateColors(t,s){this.lines.forEach((o,n)=>{o.stroke=t[n]})}};Se.chartType="line";Se.data=[[1,3,5],[2,6,4],[5,3,1]];var ce=Se,xe=class Ct extends ce{constructor(t,s,o,n,i,r,a=Ct.data,l="stackedLineTooltip"){super(t,s,o,n,i,r,a,l)}};xe.chartType="stackedLine";xe.data=rt(ce.data);var bo=xe,wt=class vt extends ce{constructor(t,s,o,n,i,r,a=vt.data,l="normalizedLineTooltip"){super(t,s,o,n,i,r,a,l)}};wt.chartType="normalizedLine";wt.data=at(bo.data);var Ro=class extends F{constructor(e,t,s,o){super(e,t,"scatterTooltip");const{size:n,padding:i,agChartsExports:{_Scene:r}}=this,a=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],l=new r.LinearScale;l.domain=[-.5,4],l.range=[i*2,n-i];const u=new r.LinearScale;u.domain=[-.5,3.5],u.range=[n-i,i];const d=[];a.forEach(h=>{h.forEach(([p,g])=>{const f=new r.Arc;f.strokeWidth=0,f.centerX=l.convert(p),f.centerY=u.convert(g),f.radius=2.5,d.push(f)})}),this.points=d,this.updateColors(s,o);const c=new r.Group;c.setClipRect(new r.BBox(i,i,n-i*2,n-i*2)),c.append(this.points),this.root.append(c)}updateColors(e,t){this.points.forEach((s,o)=>{s.stroke=t[o%t.length],s.fill=e[o%e.length]})}};Ro.chartType="scatter";var Lo=class extends F{constructor(e,t,s,o){super(e,t,"bubbleTooltip");const{size:n,padding:i,agChartsExports:{_Scene:r}}=this,a=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],l=new r.LinearScale;l.domain=[0,1],l.range=[i*2,n-i];const u=new r.LinearScale;u.domain=[0,1],u.range=[n-i,i];const d=[];a.forEach(h=>{h.forEach(([p,g,f])=>{const m=new r.Arc;m.strokeWidth=0,m.centerX=l.convert(p),m.centerY=u.convert(g),m.radius=f,m.fillOpacity=.7,d.push(m)})}),this.points=d,this.updateColors(s,o);const c=new r.Group;c.setClipRect(new r.BBox(i,i,n-i*2,n-i*2)),c.append(this.points),this.root.append(c)}updateColors(e,t){this.points.forEach((s,o)=>{s.stroke=t[o%t.length],s.fill=e[o%e.length]})}};Lo.chartType="bubble";var Me=class yt extends F{constructor(t,s,o,n,i,r,a=yt.data,l="groupedAreaTooltip",u=!1){super(t,s,l),this.areas=vo(s._Scene,this.root,a,this.size,this.padding,u),this.updateColors(o,n)}updateColors(t,s){this.areas.forEach((o,n)=>{o.fill=t[n],o.stroke=s[n],o.strokeWidth=1,o.strokeOpacity=.75,o.fillOpacity=.7})}};Me.chartType="area";Me.data=ce.data;var At=Me,De=class St extends At{constructor(t,s,o,n,i,r,a=St.data,l="stackedAreaTooltip"){super(t,s,o,n,i,r,a,l,!0)}updateColors(t,s){this.areas.forEach((o,n)=>{o.fill=t[n],o.stroke=s[n]})}};De.chartType="stackedArea";De.data=rt(At.data);var xt=De,Mt=class Dt extends xt{constructor(t,s,o,n,i,r,a=Dt.data,l="normalizedAreaTooltip"){super(t,s,o,n,i,r,a,l)}};Mt.chartType="normalizedArea";Mt.data=at(xt.data);var To=class extends F{constructor(e,t,s,o){super(e,t,"histogramTooltip");const{padding:n,size:i,agChartsExports:{_Scene:r}}=this,a=[2,5,11,13,10,6,1],l=new r.LinearScale;l.domain=[0,a.length],l.range=[n,i-n];const u=new r.LinearScale;u.domain=[0,a.reduce((c,h)=>Math.max(c,h),0)],u.range=[i-n,n];const d=u.convert(0);this.bars=a.map((c,h)=>{const p=u.convert(c),g=l.convert(h),f=l.convert(h+1),m=new r.Rect;return m.x=g,m.y=p,m.width=f-g,m.height=d-p,m.strokeWidth=1,m.strokeOpacity=.75,m.crisp=!0,m}),this.updateColors(s,o),this.root.append(this.bars)}updateColors([e],[t]){this.bars.forEach(s=>{s.fill=e,s.stroke=t})}};To.chartType="histogram";var Q=class extends ${constructor(e,t,s){super(e,t,s),this.stroke="gray",this.showRadiusAxisLine=!0,this.showAngleAxisLines=!0}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,s=this.padding,o=s*2,n=(t-o)/2,i=this.showAngleAxisLines?[n,n*.8,n*.6,n*.4]:[],r=new e.Line;r.x1=t/2,r.y1=s,r.x2=t/2,r.y2=t-s-n-i[i.length-1],r.stroke=this.stroke,r.strokeOpacity=.5,r.fill=void 0,r.visible=this.showRadiusAxisLine;const a=s+n;this.gridLines=i.map((u,d)=>{const c=new e.Path;return c.path.arc(a,a,u,0,2*Math.PI),c.strokeWidth=1,c.stroke=this.stroke,c.strokeOpacity=d===0?.5:.2,c.fill=void 0,c});const l=this.root;l.append(r),this.gridLines.length>0&&l.append(this.gridLines),super.postConstruct()}},Go=class extends Q{constructor(e,t,s,o){super(e,t,"radialColumnTooltip"),this.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],this.showRadiusAxisLine=!1;const{padding:n,size:i,data:r,agChartsExports:{_Scene:a}}=this,l=(i-n*2)/2,d=l*.4,c=new a.BandScale;c.domain=r[0].map((C,w)=>w),c.range=[0,2*Math.PI],c.paddingInner=0,c.paddingOuter=0;const h=c.bandwidth*.7,{processedData:p,max:g}=le(r),f=new a.LinearScale;f.domain=[0,g],f.range=[d,l];const m=this.size/2;this.series=p.map((C,w)=>{const v=w===0?void 0:p[w-1],A=new a.TranslatableGroup({zIndex:1e6}),x=C.map((M,D)=>{const b=v==null?void 0:v[D],G=f.convert(M),R=f.convert(b??0),E=c.convert(D),P=E+h,T=a.getRadialColumnWidth(E,P,l,.5,.5),S=new a.RadialColumnShape;return S.columnWidth=T,S.innerRadius=R,S.outerRadius=G,S.startAngle=E,S.endAngle=P,S.isBeveled=!0,S.axisInnerRadius=d,S.axisOuterRadius=l,S.stroke=void 0,S.strokeWidth=0,S});return A.append(x),A.translationX=m,A.translationY=m,A}),this.root.append(this.series),this.updateColors(s,o)}updateColors(e,t){this.series.forEach((s,o)=>{for(const n of s.children())n.fill=e[o%e.length],n.stroke=t[o%t.length]})}};Go.chartType="radialColumn";var Io=class extends Q{constructor(e,t,s,o){super(e,t,"radialBarTooltip"),this.data=[[6,8,10],[4,4,3],[5,4,2]],this.showRadiusAxisLine=!1;const{size:n,padding:i,data:r,agChartsExports:{_Scene:a}}=this,l=(n-i)/2,d=l*.4,c=new a.BandScale;c.domain=r[0].map((y,v)=>v),c.range=[d,l],c.paddingInner=.5,c.paddingOuter=0;const h=c.bandwidth,{processedData:p,max:g}=le(r),f=new a.LinearScale;f.domain=[0,Math.ceil(g*1.5)];const m=3/2*Math.PI,C=m+2*Math.PI;f.range=[m,C];const w=n/2;this.series=p.map((y,v)=>{const A=v<0?void 0:p[v-1],x=new a.Group({zIndex:1e6}),M=y.map((D,b)=>{const G=(A==null?void 0:A[b])??0,R=c.convert(b),E=R-h,P=f.convert(G),T=f.convert(D),S=new a.Sector;return S.centerX=w,S.centerY=w,S.innerRadius=E,S.outerRadius=R,S.startAngle=P,S.endAngle=T,S.stroke=void 0,S.strokeWidth=0,S});return x.append(M),x}),this.root.append(this.series),this.updateColors(s,o)}updateColors(e,t){this.series.forEach((s,o)=>{for(const n of s.children())n.fill=e[o%e.length],n.stroke=t[o%t.length]})}};Io.chartType="radialBar";var Eo=class extends Q{constructor(e,t,s,o){super(e,t,"radarLineTooltip"),this.markerSize=4,this.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],this.showRadiusAxisLine=!1;const{size:n,padding:i,root:r,data:a}=this,l=(n-i*2)/2,u=0,{paths:d,markers:c}=lt(t,r,a,n,l,u,this.markerSize);this.lines=d,this.markers=c,this.updateColors(s,o)}updateColors(e,t){this.lines.forEach((s,o)=>{const n=this.data[o].length;s.stroke=e[o];const i=o*n,r=i+n;this.markers.slice(i,r).forEach(l=>{l.stroke=t[o],l.fill=e[o]})})}};Eo.chartType="radarLine";var Po=class extends Q{constructor(e,t,s,o){super(e,t,"radarAreaTooltip"),this.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]];const{size:n,padding:i,root:r,data:a}=this;this.showRadiusAxisLine=!1;const l=(n-i*2)/2,u=l-n*.3;this.areas=lt(t,r,a,n,l,u).paths,this.updateColors(s,o)}updateColors(e,t){this.areas.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]})}};Po.chartType="radarArea";var No=class extends Q{constructor(e,t,s,o){super(e,t,"nightingaleTooltip"),this.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],this.showRadiusAxisLine=!1;const{size:n,padding:i,data:r,agChartsExports:{_Scene:a}}=this,l=(n-i*2)/2,u=new a.BandScale;u.domain=r[0].map((f,m)=>m),u.range=[-Math.PI,Math.PI],u.paddingInner=0,u.paddingOuter=0;const d=u.bandwidth*.7,{processedData:c,max:h}=le(r),p=new a.LinearScale;p.domain=[0,h],p.range=[0,l];const g=n/2;this.series=c.map((f,m)=>{const C=m<0?void 0:c[m-1],w=new a.Group({zIndex:1e6}),y=f.map((v,A)=>{const x=C==null?void 0:C[A],M=p.convert(v),D=p.convert(x??0),b=u.convert(A),G=b+d,R=new a.Sector;return R.centerX=g,R.centerY=g,R.innerRadius=D,R.outerRadius=M,R.startAngle=b,R.endAngle=G,R.stroke=void 0,R.strokeWidth=0,R});return w.append(y),w}),this.root.append(this.series),this.updateColors(s,o)}updateColors(e,t){this.series.forEach((s,o)=>{for(const n of s.children())n.fill=e[o%e.length],n.stroke=t[o%t.length]})}};No.chartType="nightingale";var Oo=class extends F{constructor(e,t,s,o){super(e,t,"rangeBarTooltip");const n=[3,3.5,3];this.bars=this.createRangeBar(this.root,n,this.size,this.padding,"vertical"),this.updateColors(s,o)}updateColors(e,t){this.bars.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]})}createRangeBar(e,t,s,o,n){const i=n==="horizontal",r=2*o,{_Scene:a}=this.agChartsExports,l=new a.BandScale;l.domain=t.map((g,f)=>f),l.range=[o,s-o],l.paddingInner=.3,l.paddingOuter=.3;const u=.7,d=1.3,c=new a.LinearScale;c.domain=[t.reduce((g,f)=>Math.min(g,f),1/0)*u,t.reduce((g,f)=>Math.max(g,f),0)*d],c.range=[r,s-r];const h=l.bandwidth,p=t.map((g,f)=>{const[m,C]=[g*u,g*d],w=l.convert(f),y=c.convert(m),v=c.convert(C)-y,A=new a.Rect;return A.x=i?y:w,A.y=i?w:y,A.width=i?v:h,A.height=i?h:v,A.strokeWidth=0,A.crisp=!0,A});return e.append(p),p}};Oo.chartType="rangeBar";var Fo=class extends F{constructor(e,t,s,o){super(e,t,"rangeAreaTooltip");const n=4,i=[pe({offset:.375*n,length:n,pattern:{low:3,high:5,period:n}}),pe({offset:.375*n,length:n,pattern:{low:2.25,high:4.25,period:n}}),pe({offset:.75*n,length:n,pattern:{low:2.5,high:4.5,period:n}})],r=1.75,a=i.map(d=>d.map(([c,h])=>({x:c,low:h-.5*r,high:h+.5*r}))),{lines:l,areas:u}=this.createRangeArea(this.root,a,this.size,this.padding);this.lines=l,this.areas=u,this.updateColors(s,o)}updateColors(e,t){e=ze(e,1,2),t=ze(t,1,2),this.lines.forEach(([s,o],n)=>{s.fill=void 0,s.stroke=t[n],o.fill=void 0,o.stroke=t[n]}),this.areas.forEach((s,o)=>{s.fill=e[o]})}createRangeArea(e,t,s,o){const n=t.reduce((f,m)=>m.reduce((C,{x:w})=>Math.min(C,w),f),1/0),i=t.reduce((f,m)=>m.reduce((C,{x:w})=>Math.max(C,w),f),-1/0),r=t.reduce((f,m)=>m.reduce((C,{low:w})=>Math.min(C,w),f),1/0),a=t.reduce((f,m)=>m.reduce((C,{high:w})=>Math.max(C,w),f),-1/0),{_Scene:l}=this.agChartsExports,u=new l.LinearScale;u.domain=[n,i],u.range=[o,s-o];const d=2*o,c=new l.LinearScale;c.domain=[r,a],c.range=[s-d,d];const h=[],p=[];return t.map(f=>{const m=new l.Path,C=new l.Path,w=new l.Path;return h.push([m,C]),p.push(w),m.strokeWidth=0,C.strokeWidth=0,w.strokeWidth=0,w.fillOpacity=.8,m.path.clear(),C.path.clear(),w.path.clear(),f.map((y,v)=>{const{x:A,low:x,high:M}=y,D=u.convert(A),b=c.convert(x),G=c.convert(M),R=v>0?"lineTo":"moveTo";return m.path[R](D,G),C.path[R](D,b),w.path[R](D,G),[D,b]})}).forEach((f,m)=>{const C=f.length-1,w=p[m];for(let y=C;y>=0;y--){const[v,A]=f[y];w.path.lineTo(v,A)}}),e.append(p.concat(...h)),{lines:h,areas:p}}};Fo.chartType="rangeArea";function pe(e){const{offset:t,length:s,pattern:o}=e,n=a(t,s,o),i=0,r=s;return(n.length===0||n[0][0]!==i)&&n.unshift(l(i,t,o)),n[n.length-1][0]!==r&&n.push(l(r,t,o)),n;function a(d,c,h){const{period:p}=h,g=d/p,m=[0,.5].map(w=>w-g).map(je).sort((w,y)=>w-y);return Array.from({length:Math.floor(m.length*(p/c))},(w,y)=>m[y%m.length]+Math.floor(y/m.length)).map(w=>w*p).map(w=>l(w,d,h))}function l(d,c,h){return[d,u(c+d,h)]}function u(d,c){const{low:h,high:p,period:g}=c,f=je(d/g),m=f>.5?1-2*(f-.5):2*f;return h+(p-h)*m}}function je(e){const t=e%1;return t<0?t+1:t}function ze(e,t,s){const o=[...e],n=o[t];return o[t]=o[s],o[s]=n,o}var ko=class extends F{constructor(e,t,s,o,n,i){super(e,t,"boxPlotTooltip");const{size:r,padding:a,agChartsExports:{_Scene:l}}=this,u=[11,11.5,10.5],d=1.2,c=1.1,h=.9,p=.8,g=new l.LinearScale;g.domain=[u.reduce((w,y)=>Math.min(w,y),1/0)*p,u.reduce((w,y)=>Math.max(w,y),0)*d],g.range=[r-1.5*a,a];const f=new l.BandScale;f.domain=u.map((w,y)=>y),f.range=[a,r-a],f.paddingInner=.4,f.paddingOuter=.2;const m=Math.round(f.bandwidth),C=Math.round(f.bandwidth/2);this.boxPlotGroups=u.map((w,y)=>{const[v,A,x,M]=[w*p,w*h,w*c,w*d],D=Math.round(g.convert(x)),b=Math.round(f.convert(y)),G=Math.round(b+m),R=Math.round(g.convert(A)),E=Math.round(g.convert(v)),P=Math.round(g.convert(w)),T=Math.round(g.convert(M)),S=b+C,I=new l.Group,N=new l.Rect,W=new l.Line,U=new l.Line,B=new l.Line,Y=new l.Line,j=new l.Line;return N.x=b,N.y=D,N.width=m,N.height=R-D,N.strokeWidth=1,N.strokeOpacity=.75,N.crisp=!0,this.setLineProperties(W,b,G,P,P),this.setLineProperties(U,S,S,T,D),this.setLineProperties(B,S,S,E,R),this.setLineProperties(Y,b,G,T,T),this.setLineProperties(j,b,G,E,E),I.append([N,W,U,B,Y,j]),I}),this.updateColors(s,o,n,i),this.root.append(this.boxPlotGroups)}updateColors(e,t,s,o){const{agChartsExports:{_Util:n,_Theme:i}}=this,r=s==null?void 0:s.get(i.themeSymbols.DEFAULT_BACKGROUND_COLOUR),a=(Array.isArray(r)?r[0]:r)??"white";this.boxPlotGroups.forEach((l,u)=>{for(const d of l.children()){const c=e[u%e.length];d.fill=o?c:n.interpolateColor(c,a)(.7),d.stroke=t[u%t.length]}})}setLineProperties(e,t,s,o,n){e.x1=t,e.x2=s,e.y1=o,e.y2=n,e.strokeOpacity=.75}};ko.chartType="boxPlot";var jo=class extends ${constructor(e,t,s,o,n,i){super(e,t,"treemapTooltip");const{size:r,padding:a,agChartsExports:{_Scene:l}}=this,u=[[1,1],[3,2,1]],c=u.length%2===0?.3:.2,h=[a,r-a],p=u.length,g=p*(p+1)/2,f=c/(p-1),m=h[1]-h[0],C=m-c;let w=h[0];this.rects=u.reduce((v,A,x)=>{v??(v=[]);const M=(p-x)/g,D=C*M,b=A.length,G=A.reduce((S,I)=>S+=I,0),R=c/(b-1||1),E=b>1?m-c:m;let P=h[0];const T=A.map(S=>{const I=new l.Rect,N=E*S/G;return I.x=w,I.y=P,I.width=D,I.height=N,I.strokeWidth=.75,I.crisp=!0,P+=N+R,I});return w+=D+f,v.push(...T),v},[]),this.updateColors(s,o,n,i);const y=new l.Group;y.setClipRect(new l.BBox(a,a,r-a,r-a)),y.append(this.rects),this.root.append(y)}updateColors(e,t,s,o){const n=s==null?void 0:s.get(this.agChartsExports._Theme.themeSymbols.DEFAULT_BACKGROUND_COLOUR),i=(Array.isArray(n)?n[0]:n)??"white";this.rects.forEach((r,a)=>{r.fill=e[a%t.length],r.stroke=o?t[a%t.length]:i})}};jo.chartType="treemap";var zo=class extends Q{constructor(e,t,s,o){super(e,t,"sunburstTooltip"),this.data=[[[],[]],[[],[]],[[],[]]],this.angleOffset=-Math.PI/2,this.innerRadiusRatio=0,this.showRadiusAxisLine=!1,this.showAngleAxisLines=!1;const{data:n,size:i,padding:r,angleOffset:a,innerRadiusRatio:l,agChartsExports:{_Scene:u}}=this,d=(i-r*2)/2,c=[a+0,a+2*Math.PI],h=Math.abs(c[1]-c[0]),p=[d*l,d],g=Math.abs(p[1]-p[0]);let f=0;const m=(A,x)=>{A.forEach(M=>{const D=x+1;f=Math.max(f,D),m(M,D)})};m(n,0);const C=g/f,w=this.size/2,y=c[0];this.series=[];const v=(A,x,M,D,b)=>{if(!Array.isArray(A))return;const R=x+1;let E=M;A.forEach((P,T,S)=>{let I=b;I||(I=new u.Group,this.series.push(I));const N=p[0]+x*C,W=p[0]+R*C,U=1/S.length,B=E,Y=B+D*U,j=new u.Sector;j.centerX=w,j.centerY=w,j.innerRadius=N,j.outerRadius=W,j.startAngle=B,j.endAngle=Y,j.stroke=void 0,j.strokeWidth=0,j.inset=.75,E=Y,I.append(j),v(P,R,B,Math.abs(Y-B),I)})};v(n,0,y,h),this.root.append(this.series),this.updateColors(s,o)}updateColors(e,t){this.series.forEach((s,o)=>{for(const n of s.children())n.fill=e[o%e.length],n.stroke=t[o%t.length]})}};zo.chartType="sunburst";var _o=class extends ${constructor(e,t,s,o,n,i){super(e,t,"heatmapTooltip");const{size:r,padding:a,agChartsExports:{_Scene:l}}=this,u=3,d=Array.from({length:u},(C,w)=>Array.from({length:u},(y,v)=>v)),c=d.map((C,w)=>w),h=new l.BandScale;h.domain=c,h.range=[a,r-a],h.paddingInner=.01,h.paddingOuter=.1;const p=new l.BandScale;p.domain=c,p.range=[a,r-a],p.paddingInner=.01,p.paddingOuter=.1;const g=h.bandwidth??0,f=p.bandwidth??0;this.rects=d.reduce((C,w,y)=>{C??(C=[]);const v=w.map((A,x)=>{const M=new l.Rect;return M.x=h.convert(y),M.y=p.convert(x),M.width=g,M.height=f,M.strokeWidth=0,M.crisp=!0,M});return C.push(...v),C},[]),this.updateColors(s,o,n,i);const m=new l.Group;m.setClipRect(new l.BBox(a,a,r-a,r-a)),m.append(this.rects),this.root.append(m)}updateColors(e,t,s,o){const{_Theme:n,_Util:i}=this.agChartsExports,r=s==null?void 0:s.get(n.themeSymbols.DEFAULT_DIVERGING_SERIES_COLOR_RANGE),a=s==null?void 0:s.get(n.themeSymbols.DEFAULT_BACKGROUND_COLOUR),l=(Array.isArray(a)?a[0]:a)??"white",u=o?[e[0],e[1]]:r,d=o?t[0]:l,c=i.interpolateColor(u[0],u[1]);this.rects.forEach((h,p)=>{h.fill=c(p*.2),h.stroke=d})}};_o.chartType="heatmap";var Bo=class extends F{constructor(e,t,s,o,n,i){super(e,t,"waterfallTooltip"),this.data=[4,3,-3,6,-3],this.bars=this.createWaterfall(this.root,this.data,this.size,this.padding,"vertical").bars,this.updateColors(s,o,n,i)}updateColors(e,t,s,o){const{data:n,agChartsExports:{_Theme:{themeSymbols:i}}}=this,r={fill:o?e[0]:s==null?void 0:s.get(i.PALETTE_ALT_UP_FILL),stroke:o?t[0]:s==null?void 0:s.get(i.PALETTE_ALT_UP_STROKE)},a={fill:o?e[1]:s==null?void 0:s.get(i.PALETTE_ALT_DOWN_FILL),stroke:o?t[1]:s==null?void 0:s.get(i.PALETTE_ALT_DOWN_STROKE)};this.bars.forEach((l,u)=>{const d=n[u]>=0;l.fill=d?r.fill:a.fill,l.stroke=d?r.stroke:a.stroke})}createWaterfall(e,t,s,o,n){const i=2*o,{processedData:r,min:a,max:l}=le(t.map(y=>[y])),u=r.reduce((y,v)=>y.concat(v),[]),{_Scene:d}=this.agChartsExports,c=new d.LinearScale;c.domain=[Math.min(a,0),l],c.range=[s-i,i];const h=new d.BandScale;h.domain=t.map((y,v)=>v),h.range=[o,s-o],h.paddingInner=.2,h.paddingOuter=.3;const p=h.bandwidth,g=new d.Path;g.stroke="#575757",g.strokeWidth=0;const f=Math.floor(g.strokeWidth)%2/2,m=g.path;m.clear();const C=n==="horizontal",w=u.map((y,v)=>{const A=v>0?u[v-1]:0,M=t[v]>0,D=Math.round(c.convert(y)),b=Math.round(c.convert(A)),G=(M?D:b)-f,R=(M?b:D)+f,E=Math.abs(R-G),P=h.convert(v),T=new d.Rect;T.x=C?G:P,T.y=C?P:G,T.width=C?E:p,T.height=C?p:E,T.strokeWidth=0,T.crisp=!0;const S=D+f,I=b+f;if(v>0){const U=C?I:T.x,B=C?T.y:I;m.lineTo(U,B)}const N=C?S:T.x,W=C?T.y:S;return m.moveTo(N,W),T});return e.append([g,...w]),{bars:w}}};Bo.chartType="waterfall";var Ho=class extends F{constructor(e,t,s,o){super(e,t,"columnLineComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:n,columnData:i,lineData:r,size:a,padding:l}=this;this.columns=te({stacked:!1,root:n,data:i,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),n.append(this.columns),this.lines=ve(t,n,r,a,l),this.updateColors(s,o)}updateColors(e,t){this.columns.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]}),this.lines.forEach((s,o)=>{s.stroke=e[o+2]})}};Ho.chartType="columnLineCombo";var Vo=class extends F{constructor(e,t,s,o){super(e,t,"areaColumnComboTooltip"),this.columnData=[3,4.5],this.areaData=[[5,4,6,5,4]];const{root:n,columnData:i,areaData:r,size:a,padding:l,agChartsExports:{_Scene:u}}=this;this.columns=te({stacked:!1,root:n,data:i,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5,agChartsExports:t});const d=new u.BandScale;d.range=[l,a-l],d.domain=[0,1,2,3,4],d.paddingInner=1,d.paddingOuter=0;const c=new u.LinearScale;c.range=[a-l,l],c.domain=[0,6];const h=[],p=c.convert(0),g=d.convert(0);r.forEach((C,w)=>{const y=h[w]||(h[w]=[]);C.forEach((A,x)=>{const M=A,D=x,b=d.convert(D),G=c.convert(M);y[x]={x:b,y:G}});const v=d.convert(C.length-1);h[w].push({x:v,y:p},{x:g,y:p})}),this.areas=h.map(C=>{const w=new u.Path;w.strokeWidth=0,w.fillOpacity=.8;const y=w.path;return C.forEach((v,A)=>y[A>0?"lineTo":"moveTo"](v.x,v.y)),w});const f=new u.Group;f.setClipRect(new u.BBox(l,l,a-l*2,a-l*2));const m=new u.Group;m.setClipRect(new u.BBox(l,l,a-l*2,a-l*2)),f.append(this.areas),m.append(this.columns),n.append(f),n.append(m),this.updateColors(s,o)}updateColors(e,t){this.areas.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]}),this.columns.forEach((s,o)=>{s.fill=e[o+1],s.stroke=t[o+1]})}};Vo.chartType="areaColumnCombo";var Wo=class extends ${constructor(e,t,s,o){super(e,t,"customComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:n,columnData:i,lineData:r,size:a,padding:l,agChartsExports:{_Scene:u}}=this;this.columns=te({stacked:!1,root:n,data:i,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),n.append(this.columns),this.lines=ve(this.agChartsExports,n,r,a,l);const d="grey",c=3,h=new u.Line;h.x1=l,h.y1=l,h.x2=l,h.y2=a-l+c,h.stroke=d;const p=new u.Line;p.x1=l-c+1,p.y1=a-l,p.x2=a-l+1,p.y2=a-l,p.stroke=d;const g=new u.Path;this.buildPenIconPath(g),g.fill="whitesmoke",g.stroke="darkslategrey",g.strokeWidth=1,n.append([p,h,g]),this.updateColors(s,o)}updateColors(e,t){this.columns.forEach((s,o)=>{s.fill=e[o],s.stroke=t[o]}),this.lines.forEach((s,o)=>{s.stroke=e[o+2]})}buildPenIconPath(e){const{path:t}=e;t.moveTo(25.76,43.46),t.lineTo(31.27,48.53),t.moveTo(49.86,22),t.lineTo(49.86,22),t.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),t.lineTo(46.86,21.41),t.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),t.lineTo(25.51,43.8),t.lineTo(25.43,43.89),t.lineTo(23.01,51.89),t.lineTo(22.83,52.46),t.lineTo(31.02,48.86),t.lineTo(49.02,28.52),t.lineTo(49.02,28.52),t.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),t.lineTo(50.75,24.93),t.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),t.closePath(),t.moveTo(41.76,25.5),t.lineTo(47.34,30.5),t.moveTo(40.74,26.65),t.lineTo(46.25,31.71)}};Wo.chartType="customCombo";export{Yo as R,Zo as a};
