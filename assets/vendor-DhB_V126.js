function HE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ch={exports:{}},ra={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function BE(){if(xv)return ra;xv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:s,key:l,ref:i!==void 0?i:null,props:a}}return ra.Fragment=t,ra.jsx=n,ra.jsxs=n,ra}var Ev;function zE(){return Ev||(Ev=1,Ch.exports=BE()),Ch.exports}var le=zE(),vh={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function VE(){if(Dv)return Fe;Dv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=m&&P[m]||P["@@iterator"],typeof P=="function"?P:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function R(P,j,$){this.props=P,this.context=j,this.refs=b,this.updater=$||y}R.prototype.isReactComponent={},R.prototype.setState=function(P,j){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,j,"setState")},R.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=R.prototype;function D(P,j,$){this.props=P,this.context=j,this.refs=b,this.updater=$||y}var A=D.prototype=new E;A.constructor=D,S(A,R.prototype),A.isPureReactComponent=!0;var M=Array.isArray,T={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function O(P,j,$,ae,ne,ve){return $=ve.ref,{$$typeof:e,type:P,key:j,ref:$!==void 0?$:null,props:ve}}function z(P,j){return O(P.type,j,void 0,void 0,void 0,P.props)}function N(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function V(P){var j={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function($){return j[$]})}var _=/\/+/g;function Z(P,j){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):j.toString(36)}function ie(){}function re(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ie,ie):(P.status="pending",P.then(function(j){P.status==="pending"&&(P.status="fulfilled",P.value=j)},function(j){P.status==="pending"&&(P.status="rejected",P.reason=j)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ee(P,j,$,ae,ne){var ve=typeof P;(ve==="undefined"||ve==="boolean")&&(P=null);var de=!1;if(P===null)de=!0;else switch(ve){case"bigint":case"string":case"number":de=!0;break;case"object":switch(P.$$typeof){case e:case t:de=!0;break;case p:return de=P._init,ee(de(P._payload),j,$,ae,ne)}}if(de)return ne=ne(P),de=ae===""?"."+Z(P,0):ae,M(ne)?($="",de!=null&&($=de.replace(_,"$&/")+"/"),ee(ne,j,$,"",function(Ce){return Ce})):ne!=null&&(N(ne)&&(ne=z(ne,$+(ne.key==null||P&&P.key===ne.key?"":(""+ne.key).replace(_,"$&/")+"/")+de)),j.push(ne)),1;de=0;var he=ae===""?".":ae+":";if(M(P))for(var ge=0;ge<P.length;ge++)ae=P[ge],ve=he+Z(ae,ge),de+=ee(ae,j,$,ve,ne);else if(ge=v(P),typeof ge=="function")for(P=ge.call(P),ge=0;!(ae=P.next()).done;)ae=ae.value,ve=he+Z(ae,ge++),de+=ee(ae,j,$,ve,ne);else if(ve==="object"){if(typeof P.then=="function")return ee(re(P),j,$,ae,ne);throw j=String(P),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(P,j,$){if(P==null)return P;var ae=[],ne=0;return ee(P,ae,"","",function(ve){return j.call($,ve,ne++)}),ae}function J(P){if(P._status===-1){var j=P._result;j=j(),j.then(function($){(P._status===0||P._status===-1)&&(P._status=1,P._result=$)},function($){(P._status===0||P._status===-1)&&(P._status=2,P._result=$)}),P._status===-1&&(P._status=0,P._result=j)}if(P._status===1)return P._result.default;throw P._result}var Y=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ce(){}return Fe.Children={map:H,forEach:function(P,j,$){H(P,function(){j.apply(this,arguments)},$)},count:function(P){var j=0;return H(P,function(){j++}),j},toArray:function(P){return H(P,function(j){return j})||[]},only:function(P){if(!N(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Fe.Component=R,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=D,Fe.StrictMode=s,Fe.Suspense=h,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Fe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Fe.cache=function(P){return function(){return P.apply(null,arguments)}},Fe.cloneElement=function(P,j,$){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ae=S({},P.props),ne=P.key,ve=void 0;if(j!=null)for(de in j.ref!==void 0&&(ve=void 0),j.key!==void 0&&(ne=""+j.key),j)!G.call(j,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&j.ref===void 0||(ae[de]=j[de]);var de=arguments.length-2;if(de===1)ae.children=$;else if(1<de){for(var he=Array(de),ge=0;ge<de;ge++)he[ge]=arguments[ge+2];ae.children=he}return O(P.type,ne,void 0,void 0,ve,ae)},Fe.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},Fe.createElement=function(P,j,$){var ae,ne={},ve=null;if(j!=null)for(ae in j.key!==void 0&&(ve=""+j.key),j)G.call(j,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ne[ae]=j[ae]);var de=arguments.length-2;if(de===1)ne.children=$;else if(1<de){for(var he=Array(de),ge=0;ge<de;ge++)he[ge]=arguments[ge+2];ne.children=he}if(P&&P.defaultProps)for(ae in de=P.defaultProps,de)ne[ae]===void 0&&(ne[ae]=de[ae]);return O(P,ve,void 0,void 0,null,ne)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(P){return{$$typeof:u,render:P}},Fe.isValidElement=N,Fe.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:J}},Fe.memo=function(P,j){return{$$typeof:f,type:P,compare:j===void 0?null:j}},Fe.startTransition=function(P){var j=T.T,$={};T.T=$;try{var ae=P(),ne=T.S;ne!==null&&ne($,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ce,Y)}catch(ve){Y(ve)}finally{T.T=j}},Fe.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Fe.use=function(P){return T.H.use(P)},Fe.useActionState=function(P,j,$){return T.H.useActionState(P,j,$)},Fe.useCallback=function(P,j){return T.H.useCallback(P,j)},Fe.useContext=function(P){return T.H.useContext(P)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(P,j){return T.H.useDeferredValue(P,j)},Fe.useEffect=function(P,j){return T.H.useEffect(P,j)},Fe.useId=function(){return T.H.useId()},Fe.useImperativeHandle=function(P,j,$){return T.H.useImperativeHandle(P,j,$)},Fe.useInsertionEffect=function(P,j){return T.H.useInsertionEffect(P,j)},Fe.useLayoutEffect=function(P,j){return T.H.useLayoutEffect(P,j)},Fe.useMemo=function(P,j){return T.H.useMemo(P,j)},Fe.useOptimistic=function(P,j){return T.H.useOptimistic(P,j)},Fe.useReducer=function(P,j,$){return T.H.useReducer(P,j,$)},Fe.useRef=function(P){return T.H.useRef(P)},Fe.useState=function(P){return T.H.useState(P)},Fe.useSyncExternalStore=function(P,j,$){return T.H.useSyncExternalStore(P,j,$)},Fe.useTransition=function(){return T.H.useTransition()},Fe.version="19.0.0",Fe}var Av;function Hf(){return Av||(Av=1,vh.exports=VE()),vh.exports}var w=Hf();const Q=Nf(w),WE=HE({__proto__:null,default:Q},[w]);var yh={exports:{}},aa={},wh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function _E(){return Fv||(Fv=1,function(e){function t(H,J){var Y=H.length;H.push(J);e:for(;0<Y;){var ce=Y-1>>>1,P=H[ce];if(0<i(P,J))H[ce]=J,H[Y]=P,Y=ce;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var J=H[0],Y=H.pop();if(Y!==J){H[0]=Y;e:for(var ce=0,P=H.length,j=P>>>1;ce<j;){var $=2*(ce+1)-1,ae=H[$],ne=$+1,ve=H[ne];if(0>i(ae,Y))ne<P&&0>i(ve,ae)?(H[ce]=ve,H[ne]=Y,ce=ne):(H[ce]=ae,H[$]=Y,ce=$);else if(ne<P&&0>i(ve,Y))H[ce]=ve,H[ne]=Y,ce=ne;else break e}}return J}function i(H,J){var Y=H.sortIndex-J.sortIndex;return Y!==0?Y:H.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,m=null,v=3,y=!1,S=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var J=n(f);J!==null;){if(J.callback===null)s(f);else if(J.startTime<=H)s(f),J.sortIndex=J.expirationTime,t(h,J);else break;J=n(f)}}function M(H){if(b=!1,A(H),!S)if(n(h)!==null)S=!0,re();else{var J=n(f);J!==null&&ee(M,J.startTime-H)}}var T=!1,G=-1,O=5,z=-1;function N(){return!(e.unstable_now()-z<O)}function V(){if(T){var H=e.unstable_now();z=H;var J=!0;try{e:{S=!1,b&&(b=!1,E(G),G=-1),y=!0;var Y=v;try{t:{for(A(H),m=n(h);m!==null&&!(m.expirationTime>H&&N());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,v=m.priorityLevel;var P=ce(m.expirationTime<=H);if(H=e.unstable_now(),typeof P=="function"){m.callback=P,A(H),J=!0;break t}m===n(h)&&s(h),A(H)}else s(h);m=n(h)}if(m!==null)J=!0;else{var j=n(f);j!==null&&ee(M,j.startTime-H),J=!1}}break e}finally{m=null,v=Y,y=!1}J=void 0}}finally{J?_():T=!1}}}var _;if(typeof D=="function")_=function(){D(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=V,_=function(){ie.postMessage(null)}}else _=function(){R(V,0)};function re(){T||(T=!0,_())}function ee(H,J){G=R(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,re())},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(H){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var Y=v;v=J;try{return H()}finally{v=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=v;v=H;try{return J()}finally{v=Y}},e.unstable_scheduleCallback=function(H,J,Y){var ce=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ce+Y:ce):Y=ce,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Y+P,H={id:p++,callback:J,priorityLevel:H,startTime:Y,expirationTime:P,sortIndex:-1},Y>ce?(H.sortIndex=Y,t(f,H),n(h)===null&&H===n(f)&&(b?(E(G),G=-1):b=!0,ee(M,Y-ce))):(H.sortIndex=P,t(h,H),S||y||(S=!0,re())),H},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(H){var J=v;return function(){var Y=v;v=J;try{return H.apply(this,arguments)}finally{v=Y}}}}(bh)),bh}var Mv;function UE(){return Mv||(Mv=1,wh.exports=_E()),wh.exports}var Sh={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function jE(){if(Tv)return Et;Tv=1;var e=Hf();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Et.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},Et.flushSync=function(h){var f=l.T,p=s.p;try{if(l.T=null,s.p=2,h)return h()}finally{l.T=f,s.p=p,s.d.f()}},Et.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},Et.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Et.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):p==="script"&&s.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Et.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},Et.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);s.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Et.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},Et.requestFormReset=function(h){s.d.r(h)},Et.unstable_batchedUpdates=function(h,f){return h(f)},Et.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Et.useFormStatus=function(){return l.H.useHostTransitionStatus()},Et.version="19.0.0",Et}var Pv;function lw(){if(Pv)return Sh.exports;Pv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sh.exports=jE(),Sh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function KE(){if(Lv)return aa;Lv=1;var e=UE(),t=Hf(),n=lw();function s(o){var r="https://react.dev/errors/"+o;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=T&&o[T]||o["@@iterator"],typeof o=="function"?o:null)}var O=Symbol.for("react.client.reference");function z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===O?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case R:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case y:return(o.displayName||"Context")+".Provider";case v:return(o._context.displayName||"Context")+".Consumer";case S:var r=o.render;return o=o.displayName,o||(o=r.displayName||r.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case E:return r=o.displayName||null,r!==null?r:z(o.type)||"Memo";case D:r=o._payload,o=o._init;try{return z(o(r))}catch{}}return null}var N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,_,Z;function ie(o){if(_===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);_=r&&r[1]||"",Z=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_+o+Z}var re=!1;function ee(o,r){if(!o||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(q){var U=q}Reflect.construct(o,[],oe)}else{try{oe.call()}catch(q){U=q}o.call(oe.prototype)}}else{try{throw Error()}catch(q){U=q}(oe=o())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=d.DetermineComponentFrameRoot(),x=C[0],F=C[1];if(x&&F){var L=x.split(`
`),k=F.split(`
`);for(g=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;g<k.length&&!k[g].includes("DetermineComponentFrameRoot");)g++;if(d===L.length||g===k.length)for(d=L.length-1,g=k.length-1;1<=d&&0<=g&&L[d]!==k[g];)g--;for(;1<=d&&0<=g;d--,g--)if(L[d]!==k[g]){if(d!==1||g!==1)do if(d--,g--,0>g||L[d]!==k[g]){var X=`
`+L[d].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=d&&0<=g);break}}}finally{re=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?ie(c):""}function H(o){switch(o.tag){case 26:case 27:case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function J(o){try{var r="";do r+=H(o),o=o.return;while(o);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Y(o){var r=o,c=o;if(o.alternate)for(;r.return;)r=r.return;else{o=r;do r=o,r.flags&4098&&(c=r.return),o=r.return;while(o)}return r.tag===3?c:null}function ce(o){if(o.tag===13){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function P(o){if(Y(o)!==o)throw Error(s(188))}function j(o){var r=o.alternate;if(!r){if(r=Y(o),r===null)throw Error(s(188));return r!==o?null:o}for(var c=o,d=r;;){var g=c.return;if(g===null)break;var C=g.alternate;if(C===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===C.child){for(C=g.child;C;){if(C===c)return P(g),o;if(C===d)return P(g),r;C=C.sibling}throw Error(s(188))}if(c.return!==d.return)c=g,d=C;else{for(var x=!1,F=g.child;F;){if(F===c){x=!0,c=g,d=C;break}if(F===d){x=!0,d=g,c=C;break}F=F.sibling}if(!x){for(F=C.child;F;){if(F===c){x=!0,c=C,d=g;break}if(F===d){x=!0,d=C,c=g;break}F=F.sibling}if(!x)throw Error(s(189))}}if(c.alternate!==d)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?o:r}function $(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o;for(o=o.child;o!==null;){if(r=$(o),r!==null)return r;o=o.sibling}return null}var ae=Array.isArray,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},de=[],he=-1;function ge(o){return{current:o}}function Ce(o){0>he||(o.current=de[he],de[he]=null,he--)}function ue(o,r){he++,de[he]=o.current,o.current=r}var be=ge(null),pe=ge(null),Ae=ge(null),Ne=ge(null);function Ie(o,r){switch(ue(Ae,r),ue(pe,o),ue(be,null),o=r.nodeType,o){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?JC(r):0;break;default:if(o=o===8?r.parentNode:r,r=o.tagName,o=o.namespaceURI)o=JC(o),r=ev(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ce(be),ue(be,r)}function ot(){Ce(be),Ce(pe),Ce(Ae)}function Ut(o){o.memoizedState!==null&&ue(Ne,o);var r=be.current,c=ev(r,o.type);r!==c&&(ue(pe,o),ue(be,c))}function Ss(o){pe.current===o&&(Ce(be),Ce(pe)),Ne.current===o&&(Ce(Ne),ta._currentValue=ve)}var Mn=Object.prototype.hasOwnProperty,qn=e.unstable_scheduleCallback,Mt=e.unstable_cancelCallback,_i=e.unstable_shouldYield,lr=e.unstable_requestPaint,St=e.unstable_now,Na=e.unstable_getCurrentPriorityLevel,Ha=e.unstable_ImmediatePriority,cr=e.unstable_UserBlockingPriority,ze=e.unstable_NormalPriority,Tt=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,wx=e.log,bx=e.unstable_setDisableYieldValue,ur=null,jt=null;function Sx(o){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ur,o,void 0,(o.current.flags&128)===128)}catch{}}function Rs(o){if(typeof wx=="function"&&bx(o),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ur,o)}catch{}}var Kt=Math.clz32?Math.clz32:Ex,Rx=Math.log,xx=Math.LN2;function Ex(o){return o>>>=0,o===0?32:31-(Rx(o)/xx|0)|0}var za=128,Va=4194304;function ri(o){var r=o&42;if(r!==0)return r;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Wa(o,r){var c=o.pendingLanes;if(c===0)return 0;var d=0,g=o.suspendedLanes,C=o.pingedLanes,x=o.warmLanes;o=o.finishedLanes!==0;var F=c&134217727;return F!==0?(c=F&~g,c!==0?d=ri(c):(C&=F,C!==0?d=ri(C):o||(x=F&~x,x!==0&&(d=ri(x))))):(F=c&~g,F!==0?d=ri(F):C!==0?d=ri(C):o||(x=c&~x,x!==0&&(d=ri(x)))),d===0?0:r!==0&&r!==d&&!(r&g)&&(g=d&-d,x=r&-r,g>=x||g===32&&(x&4194176)!==0)?r:d}function dr(o,r){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&r)===0}function Dx(o,r){switch(o){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jg(){var o=za;return za<<=1,!(za&4194176)&&(za=128),o}function Kg(){var o=Va;return Va<<=1,!(Va&62914560)&&(Va=4194304),o}function hu(o){for(var r=[],c=0;31>c;c++)r.push(o);return r}function hr(o,r){o.pendingLanes|=r,r!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ax(o,r,c,d,g,C){var x=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var F=o.entanglements,L=o.expirationTimes,k=o.hiddenUpdates;for(c=x&~c;0<c;){var X=31-Kt(c),oe=1<<X;F[X]=0,L[X]=-1;var U=k[X];if(U!==null)for(k[X]=null,X=0;X<U.length;X++){var q=U[X];q!==null&&(q.lane&=-536870913)}c&=~oe}d!==0&&Yg(o,d,0),C!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=C&~(x&~r))}function Yg(o,r,c){o.pendingLanes|=r,o.suspendedLanes&=~r;var d=31-Kt(r);o.entangledLanes|=r,o.entanglements[d]=o.entanglements[d]|1073741824|c&4194218}function qg(o,r){var c=o.entangledLanes|=r;for(o=o.entanglements;c;){var d=31-Kt(c),g=1<<d;g&r|o[d]&r&&(o[d]|=r),c&=~g}}function $g(o){return o&=-o,2<o?8<o?o&134217727?32:268435456:8:2}function Xg(){var o=ne.p;return o!==0?o:(o=window.event,o===void 0?32:vv(o.type))}function Fx(o,r){var c=ne.p;try{return ne.p=o,r()}finally{ne.p=c}}var xs=Math.random().toString(36).slice(2),Rt="__reactFiber$"+xs,Gt="__reactProps$"+xs,Ui="__reactContainer$"+xs,fu="__reactEvents$"+xs,Mx="__reactListeners$"+xs,Tx="__reactHandles$"+xs,Zg="__reactResources$"+xs,fr="__reactMarker$"+xs;function gu(o){delete o[Rt],delete o[Gt],delete o[fu],delete o[Mx],delete o[Tx]}function ai(o){var r=o[Rt];if(r)return r;for(var c=o.parentNode;c;){if(r=c[Ui]||c[Rt]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(o=sv(o);o!==null;){if(c=o[Rt])return c;o=sv(o)}return r}o=c,c=o.parentNode}return null}function ji(o){if(o=o[Rt]||o[Ui]){var r=o.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return o}return null}function gr(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o.stateNode;throw Error(s(33))}function Ki(o){var r=o[Zg];return r||(r=o[Zg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(o){o[fr]=!0}var Qg=new Set,Jg={};function li(o,r){Yi(o,r),Yi(o+"Capture",r)}function Yi(o,r){for(Jg[o]=r,o=0;o<r.length;o++)Qg.add(r[o])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Px=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ep={},tp={};function Lx(o){return Mn.call(tp,o)?!0:Mn.call(ep,o)?!1:Px.test(o)?tp[o]=!0:(ep[o]=!0,!1)}function _a(o,r,c){if(Lx(r))if(c===null)o.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(r);return}}o.setAttribute(r,""+c)}}function Ua(o,r,c){if(c===null)o.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(r);return}o.setAttribute(r,""+c)}}function Xn(o,r,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(r,c,""+d)}}function nn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function np(o){var r=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ox(o){var r=np(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,r),d=""+o[r];if(!o.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,C=c.set;return Object.defineProperty(o,r,{configurable:!0,get:function(){return g.call(this)},set:function(x){d=""+x,C.call(this,x)}}),Object.defineProperty(o,r,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){o._valueTracker=null,delete o[r]}}}}function ja(o){o._valueTracker||(o._valueTracker=Ox(o))}function sp(o){if(!o)return!1;var r=o._valueTracker;if(!r)return!0;var c=r.getValue(),d="";return o&&(d=np(o)?o.checked?"true":"false":o.value),o=d,o!==c?(r.setValue(o),!0):!1}function Ka(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ix=/[\n"\\]/g;function sn(o){return o.replace(Ix,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pu(o,r,c,d,g,C,x,F){o.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?o.type=x:o.removeAttribute("type"),r!=null?x==="number"?(r===0&&o.value===""||o.value!=r)&&(o.value=""+nn(r)):o.value!==""+nn(r)&&(o.value=""+nn(r)):x!=="submit"&&x!=="reset"||o.removeAttribute("value"),r!=null?mu(o,x,nn(r)):c!=null?mu(o,x,nn(c)):d!=null&&o.removeAttribute("value"),g==null&&C!=null&&(o.defaultChecked=!!C),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?o.name=""+nn(F):o.removeAttribute("name")}function ip(o,r,c,d,g,C,x,F){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),r!=null||c!=null){if(!(C!=="submit"&&C!=="reset"||r!=null))return;c=c!=null?""+nn(c):"",r=r!=null?""+nn(r):c,F||r===o.value||(o.value=r),o.defaultValue=r}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=F?o.checked:!!d,o.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.name=x)}function mu(o,r,c){r==="number"&&Ka(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function qi(o,r,c,d){if(o=o.options,r){r={};for(var g=0;g<c.length;g++)r["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=r.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&d&&(o[c].defaultSelected=!0)}else{for(c=""+nn(c),r=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,d&&(o[g].defaultSelected=!0);return}r!==null||o[g].disabled||(r=o[g])}r!==null&&(r.selected=!0)}}function op(o,r,c){if(r!=null&&(r=""+nn(r),r!==o.value&&(o.value=r),c==null)){o.defaultValue!==r&&(o.defaultValue=r);return}o.defaultValue=c!=null?""+nn(c):""}function rp(o,r,c,d){if(r==null){if(d!=null){if(c!=null)throw Error(s(92));if(ae(d)){if(1<d.length)throw Error(s(93));d=d[0]}c=d}c==null&&(c=""),r=c}c=nn(r),o.defaultValue=c,d=o.textContent,d===c&&d!==""&&d!==null&&(o.value=d)}function $i(o,r){if(r){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=r;return}}o.textContent=r}var kx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(o,r,c){var d=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?o.setProperty(r,""):r==="float"?o.cssFloat="":o[r]="":d?o.setProperty(r,c):typeof c!="number"||c===0||kx.has(r)?r==="float"?o.cssFloat=c:o[r]=(""+c).trim():o[r]=c+"px"}function lp(o,r,c){if(r!=null&&typeof r!="object")throw Error(s(62));if(o=o.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var g in r)d=r[g],r.hasOwnProperty(g)&&c[g]!==d&&ap(o,g,d)}else for(var C in r)r.hasOwnProperty(C)&&ap(o,C,r[C])}function Cu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(o){return Nx.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var vu=null;function yu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Xi=null,Zi=null;function cp(o){var r=ji(o);if(r&&(o=r.stateNode)){var c=o[Gt]||null;e:switch(o=r.stateNode,r.type){case"input":if(pu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+sn(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var d=c[r];if(d!==o&&d.form===o.form){var g=d[Gt]||null;if(!g)throw Error(s(90));pu(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<c.length;r++)d=c[r],d.form===o.form&&sp(d)}break e;case"textarea":op(o,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&qi(o,!!c.multiple,r,!1)}}}var wu=!1;function up(o,r,c){if(wu)return o(r,c);wu=!0;try{var d=o(r);return d}finally{if(wu=!1,(Xi!==null||Zi!==null)&&(Tl(),Xi&&(r=Xi,o=Zi,Zi=Xi=null,cp(r),o)))for(r=0;r<o.length;r++)cp(o[r])}}function pr(o,r){var c=o.stateNode;if(c===null)return null;var d=c[Gt]||null;if(d===null)return null;c=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(s(231,r,typeof c));return c}var bu=!1;if($n)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){bu=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{bu=!1}var Es=null,Su=null,qa=null;function dp(){if(qa)return qa;var o,r=Su,c=r.length,d,g="value"in Es?Es.value:Es.textContent,C=g.length;for(o=0;o<c&&r[o]===g[o];o++);var x=c-o;for(d=1;d<=x&&r[c-d]===g[C-d];d++);return qa=g.slice(o,1<d?1-d:void 0)}function $a(o){var r=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&r===13&&(o=13)):o=r,o===10&&(o=13),32<=o||o===13?o:0}function Xa(){return!0}function hp(){return!1}function Nt(o){function r(c,d,g,C,x){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=C,this.target=x,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(c=o[F],this[F]=c?c(C):C[F]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Xa:hp,this.isPropagationStopped=hp,this}return V(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),r}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Nt(ci),Cr=V({},ci,{view:0,detail:0}),Hx=Nt(Cr),Ru,xu,vr,Qa=V({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vr&&(vr&&o.type==="mousemove"?(Ru=o.screenX-vr.screenX,xu=o.screenY-vr.screenY):xu=Ru=0,vr=o),Ru)},movementY:function(o){return"movementY"in o?o.movementY:xu}}),fp=Nt(Qa),Bx=V({},Qa,{dataTransfer:0}),zx=Nt(Bx),Vx=V({},Cr,{relatedTarget:0}),Eu=Nt(Vx),Wx=V({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),_x=Nt(Wx),Ux=V({},ci,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),jx=Nt(Ux),Kx=V({},ci,{data:0}),gp=Nt(Kx),Yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(o){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(o):(o=$x[o])?!!r[o]:!1}function Du(){return Xx}var Zx=V({},Cr,{key:function(o){if(o.key){var r=Yx[o.key]||o.key;if(r!=="Unidentified")return r}return o.type==="keypress"?(o=$a(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?qx[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(o){return o.type==="keypress"?$a(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?$a(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Qx=Nt(Zx),Jx=V({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=Nt(Jx),e0=V({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),t0=Nt(e0),n0=V({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=Nt(n0),i0=V({},Qa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=Nt(i0),r0=V({},ci,{newState:0,oldState:0}),a0=Nt(r0),l0=[9,13,27,32],Au=$n&&"CompositionEvent"in window,yr=null;$n&&"documentMode"in document&&(yr=document.documentMode);var c0=$n&&"TextEvent"in window&&!yr,mp=$n&&(!Au||yr&&8<yr&&11>=yr),Cp=" ",vp=!1;function yp(o,r){switch(o){case"keyup":return l0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qi=!1;function u0(o,r){switch(o){case"compositionend":return wp(r);case"keypress":return r.which!==32?null:(vp=!0,Cp);case"textInput":return o=r.data,o===Cp&&vp?null:o;default:return null}}function d0(o,r){if(Qi)return o==="compositionend"||!Au&&yp(o,r)?(o=dp(),qa=Su=Es=null,Qi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return mp&&r.locale!=="ko"?null:r.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r==="input"?!!h0[o.type]:r==="textarea"}function Sp(o,r,c,d){Xi?Zi?Zi.push(d):Zi=[d]:Xi=d,r=kl(r,"onChange"),0<r.length&&(c=new Za("onChange","change",null,c,d),o.push({event:c,listeners:r}))}var wr=null,br=null;function f0(o){qC(o,0)}function Ja(o){var r=gr(o);if(sp(r))return o}function Rp(o,r){if(o==="change")return r}var xp=!1;if($n){var Fu;if($n){var Mu="oninput"in document;if(!Mu){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Mu=typeof Ep.oninput=="function"}Fu=Mu}else Fu=!1;xp=Fu&&(!document.documentMode||9<document.documentMode)}function Dp(){wr&&(wr.detachEvent("onpropertychange",Ap),br=wr=null)}function Ap(o){if(o.propertyName==="value"&&Ja(br)){var r=[];Sp(r,br,o,yu(o)),up(f0,r)}}function g0(o,r,c){o==="focusin"?(Dp(),wr=r,br=c,wr.attachEvent("onpropertychange",Ap)):o==="focusout"&&Dp()}function p0(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ja(br)}function m0(o,r){if(o==="click")return Ja(r)}function C0(o,r){if(o==="input"||o==="change")return Ja(r)}function v0(o,r){return o===r&&(o!==0||1/o===1/r)||o!==o&&r!==r}var Yt=typeof Object.is=="function"?Object.is:v0;function Sr(o,r){if(Yt(o,r))return!0;if(typeof o!="object"||o===null||typeof r!="object"||r===null)return!1;var c=Object.keys(o),d=Object.keys(r);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!Mn.call(r,g)||!Yt(o[g],r[g]))return!1}return!0}function Fp(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Mp(o,r){var c=Fp(o);o=0;for(var d;c;){if(c.nodeType===3){if(d=o+c.textContent.length,o<=r&&d>=r)return{node:c,offset:r-o};o=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Fp(c)}}function Tp(o,r){return o&&r?o===r?!0:o&&o.nodeType===3?!1:r&&r.nodeType===3?Tp(o,r.parentNode):"contains"in o?o.contains(r):o.compareDocumentPosition?!!(o.compareDocumentPosition(r)&16):!1:!1}function Pp(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var r=Ka(o.document);r instanceof o.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)o=r.contentWindow;else break;r=Ka(o.document)}return r}function Tu(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r&&(r==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||r==="textarea"||o.contentEditable==="true")}function y0(o,r){var c=Pp(r);r=o.focusedElem;var d=o.selectionRange;if(c!==r&&r&&r.ownerDocument&&Tp(r.ownerDocument.documentElement,r)){if(d!==null&&Tu(r)){if(o=d.start,c=d.end,c===void 0&&(c=o),"selectionStart"in r)r.selectionStart=o,r.selectionEnd=Math.min(c,r.value.length);else if(c=(o=r.ownerDocument||document)&&o.defaultView||window,c.getSelection){c=c.getSelection();var g=r.textContent.length,C=Math.min(d.start,g);d=d.end===void 0?C:Math.min(d.end,g),!c.extend&&C>d&&(g=d,d=C,C=g),g=Mp(r,C);var x=Mp(r,d);g&&x&&(c.rangeCount!==1||c.anchorNode!==g.node||c.anchorOffset!==g.offset||c.focusNode!==x.node||c.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),c.removeAllRanges(),C>d?(c.addRange(o),c.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),c.addRange(o)))}}for(o=[],c=r;c=c.parentNode;)c.nodeType===1&&o.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<o.length;r++)c=o[r],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var w0=$n&&"documentMode"in document&&11>=document.documentMode,Ji=null,Pu=null,Rr=null,Lu=!1;function Lp(o,r,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lu||Ji==null||Ji!==Ka(d)||(d=Ji,"selectionStart"in d&&Tu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Rr&&Sr(Rr,d)||(Rr=d,d=kl(Pu,"onSelect"),0<d.length&&(r=new Za("onSelect","select",null,r,c),o.push({event:r,listeners:d}),r.target=Ji)))}function ui(o,r){var c={};return c[o.toLowerCase()]=r.toLowerCase(),c["Webkit"+o]="webkit"+r,c["Moz"+o]="moz"+r,c}var eo={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Ou={},Op={};$n&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function di(o){if(Ou[o])return Ou[o];if(!eo[o])return o;var r=eo[o],c;for(c in r)if(r.hasOwnProperty(c)&&c in Op)return Ou[o]=r[c];return o}var Ip=di("animationend"),kp=di("animationiteration"),Gp=di("animationstart"),b0=di("transitionrun"),S0=di("transitionstart"),R0=di("transitioncancel"),Np=di("transitionend"),Hp=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vn(o,r){Hp.set(o,r),li(r,[o])}var on=[],to=0,Iu=0;function el(){for(var o=to,r=Iu=to=0;r<o;){var c=on[r];on[r++]=null;var d=on[r];on[r++]=null;var g=on[r];on[r++]=null;var C=on[r];if(on[r++]=null,d!==null&&g!==null){var x=d.pending;x===null?g.next=g:(g.next=x.next,x.next=g),d.pending=g}C!==0&&zp(c,g,C)}}function tl(o,r,c,d){on[to++]=o,on[to++]=r,on[to++]=c,on[to++]=d,Iu|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function ku(o,r,c,d){return tl(o,r,c,d),nl(o)}function Ds(o,r){return tl(o,null,null,r),nl(o)}function zp(o,r,c){o.lanes|=c;var d=o.alternate;d!==null&&(d.lanes|=c);for(var g=!1,C=o.return;C!==null;)C.childLanes|=c,d=C.alternate,d!==null&&(d.childLanes|=c),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(g=!0)),o=C,C=C.return;g&&r!==null&&o.tag===3&&(C=o.stateNode,g=31-Kt(c),C=C.hiddenUpdates,o=C[g],o===null?C[g]=[r]:o.push(r),r.lane=c|536870912)}function nl(o){if(50<qr)throw qr=0,Vd=null,Error(s(185));for(var r=o.return;r!==null;)o=r,r=o.return;return o.tag===3?o.stateNode:null}var no={},Vp=new WeakMap;function rn(o,r){if(typeof o=="object"&&o!==null){var c=Vp.get(o);return c!==void 0?c:(r={value:o,source:r,stack:J(r)},Vp.set(o,r),r)}return{value:o,source:r,stack:J(r)}}var so=[],io=0,sl=null,il=0,an=[],ln=0,hi=null,Zn=1,Qn="";function fi(o,r){so[io++]=il,so[io++]=sl,sl=o,il=r}function Wp(o,r,c){an[ln++]=Zn,an[ln++]=Qn,an[ln++]=hi,hi=o;var d=Zn;o=Qn;var g=32-Kt(d)-1;d&=~(1<<g),c+=1;var C=32-Kt(r)+g;if(30<C){var x=g-g%5;C=(d&(1<<x)-1).toString(32),d>>=x,g-=x,Zn=1<<32-Kt(r)+g|c<<g|d,Qn=C+o}else Zn=1<<C|c<<g|d,Qn=o}function Gu(o){o.return!==null&&(fi(o,1),Wp(o,1,0))}function Nu(o){for(;o===sl;)sl=so[--io],so[io]=null,il=so[--io],so[io]=null;for(;o===hi;)hi=an[--ln],an[ln]=null,Qn=an[--ln],an[ln]=null,Zn=an[--ln],an[ln]=null}var Pt=null,yt=null,He=!1,yn=null,Tn=!1,Hu=Error(s(519));function gi(o){var r=Error(s(418,""));throw Dr(rn(r,o)),Hu}function _p(o){var r=o.stateNode,c=o.type,d=o.memoizedProps;switch(r[Rt]=o,r[Gt]=d,c){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(c=0;c<Xr.length;c++)Le(Xr[c],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),ip(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ja(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),rp(r,d.value,d.defaultValue,d.children),ja(r)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||d.suppressHydrationWarning===!0||QC(r.textContent,c)?(d.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),d.onScroll!=null&&Le("scroll",r),d.onScrollEnd!=null&&Le("scrollend",r),d.onClick!=null&&(r.onclick=Gl),r=!0):r=!1,r||gi(o)}function Up(o){for(Pt=o.return;Pt;)switch(Pt.tag){case 3:case 27:Tn=!0;return;case 5:case 13:Tn=!1;return;default:Pt=Pt.return}}function xr(o){if(o!==Pt)return!1;if(!He)return Up(o),He=!0,!1;var r=!1,c;if((c=o.tag!==3&&o.tag!==27)&&((c=o.tag===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||ih(o.type,o.memoizedProps)),c=!c),c&&(r=!0),r&&yt&&gi(o),Up(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));e:{for(o=o.nextSibling,r=0;o;){if(o.nodeType===8)if(c=o.data,c==="/$"){if(r===0){yt=bn(o.nextSibling);break e}r--}else c!=="$"&&c!=="$!"&&c!=="$?"||r++;o=o.nextSibling}yt=null}}else yt=Pt?bn(o.stateNode.nextSibling):null;return!0}function Er(){yt=Pt=null,He=!1}function Dr(o){yn===null?yn=[o]:yn.push(o)}var Ar=Error(s(460)),jp=Error(s(474)),Bu={then:function(){}};function Kp(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ol(){}function Yp(o,r,c){switch(c=o[c],c===void 0?o.push(r):c!==r&&(r.then(ol,ol),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,o===Ar?Error(s(483)):o;default:if(typeof r.status=="string")r.then(ol,ol);else{if(o=je,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=r,o.status="pending",o.then(function(d){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=d}},function(d){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,o===Ar?Error(s(483)):o}throw Fr=r,Ar}}var Fr=null;function qp(){if(Fr===null)throw Error(s(459));var o=Fr;return Fr=null,o}var oo=null,Mr=0;function rl(o){var r=Mr;return Mr+=1,oo===null&&(oo=[]),Yp(oo,o,r)}function Tr(o,r){r=r.props.ref,o.ref=r!==void 0?r:null}function al(o,r){throw r.$$typeof===a?Error(s(525)):(o=Object.prototype.toString.call(r),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":o)))}function $p(o){var r=o._init;return r(o._payload)}function Xp(o){function r(B,I){if(o){var W=B.deletions;W===null?(B.deletions=[I],B.flags|=16):W.push(I)}}function c(B,I){if(!o)return null;for(;I!==null;)r(B,I),I=I.sibling;return null}function d(B){for(var I=new Map;B!==null;)B.key!==null?I.set(B.key,B):I.set(B.index,B),B=B.sibling;return I}function g(B,I){return B=Hs(B,I),B.index=0,B.sibling=null,B}function C(B,I,W){return B.index=W,o?(W=B.alternate,W!==null?(W=W.index,W<I?(B.flags|=33554434,I):W):(B.flags|=33554434,I)):(B.flags|=1048576,I)}function x(B){return o&&B.alternate===null&&(B.flags|=33554434),B}function F(B,I,W,te){return I===null||I.tag!==6?(I=Od(W,B.mode,te),I.return=B,I):(I=g(I,W),I.return=B,I)}function L(B,I,W,te){var fe=W.type;return fe===h?X(B,I,W.props.children,te,W.key):I!==null&&(I.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===D&&$p(fe)===I.type)?(I=g(I,W.props),Tr(I,W),I.return=B,I):(I=El(W.type,W.key,W.props,null,B.mode,te),Tr(I,W),I.return=B,I)}function k(B,I,W,te){return I===null||I.tag!==4||I.stateNode.containerInfo!==W.containerInfo||I.stateNode.implementation!==W.implementation?(I=Id(W,B.mode,te),I.return=B,I):(I=g(I,W.children||[]),I.return=B,I)}function X(B,I,W,te,fe){return I===null||I.tag!==7?(I=xi(W,B.mode,te,fe),I.return=B,I):(I=g(I,W),I.return=B,I)}function oe(B,I,W){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Od(""+I,B.mode,W),I.return=B,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case l:return W=El(I.type,I.key,I.props,null,B.mode,W),Tr(W,I),W.return=B,W;case u:return I=Id(I,B.mode,W),I.return=B,I;case D:var te=I._init;return I=te(I._payload),oe(B,I,W)}if(ae(I)||G(I))return I=xi(I,B.mode,W,null),I.return=B,I;if(typeof I.then=="function")return oe(B,rl(I),W);if(I.$$typeof===y)return oe(B,Sl(B,I),W);al(B,I)}return null}function U(B,I,W,te){var fe=I!==null?I.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return fe!==null?null:F(B,I,""+W,te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case l:return W.key===fe?L(B,I,W,te):null;case u:return W.key===fe?k(B,I,W,te):null;case D:return fe=W._init,W=fe(W._payload),U(B,I,W,te)}if(ae(W)||G(W))return fe!==null?null:X(B,I,W,te,null);if(typeof W.then=="function")return U(B,I,rl(W),te);if(W.$$typeof===y)return U(B,I,Sl(B,W),te);al(B,W)}return null}function q(B,I,W,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(W)||null,F(I,B,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return B=B.get(te.key===null?W:te.key)||null,L(I,B,te,fe);case u:return B=B.get(te.key===null?W:te.key)||null,k(I,B,te,fe);case D:var Te=te._init;return te=Te(te._payload),q(B,I,W,te,fe)}if(ae(te)||G(te))return B=B.get(W)||null,X(I,B,te,fe,null);if(typeof te.then=="function")return q(B,I,W,rl(te),fe);if(te.$$typeof===y)return q(B,I,W,Sl(I,te),fe);al(I,te)}return null}function we(B,I,W,te){for(var fe=null,Te=null,Se=I,Re=I=0,mt=null;Se!==null&&Re<W.length;Re++){Se.index>Re?(mt=Se,Se=null):mt=Se.sibling;var Be=U(B,Se,W[Re],te);if(Be===null){Se===null&&(Se=mt);break}o&&Se&&Be.alternate===null&&r(B,Se),I=C(Be,I,Re),Te===null?fe=Be:Te.sibling=Be,Te=Be,Se=mt}if(Re===W.length)return c(B,Se),He&&fi(B,Re),fe;if(Se===null){for(;Re<W.length;Re++)Se=oe(B,W[Re],te),Se!==null&&(I=C(Se,I,Re),Te===null?fe=Se:Te.sibling=Se,Te=Se);return He&&fi(B,Re),fe}for(Se=d(Se);Re<W.length;Re++)mt=q(Se,B,Re,W[Re],te),mt!==null&&(o&&mt.alternate!==null&&Se.delete(mt.key===null?Re:mt.key),I=C(mt,I,Re),Te===null?fe=mt:Te.sibling=mt,Te=mt);return o&&Se.forEach(function(js){return r(B,js)}),He&&fi(B,Re),fe}function De(B,I,W,te){if(W==null)throw Error(s(151));for(var fe=null,Te=null,Se=I,Re=I=0,mt=null,Be=W.next();Se!==null&&!Be.done;Re++,Be=W.next()){Se.index>Re?(mt=Se,Se=null):mt=Se.sibling;var js=U(B,Se,Be.value,te);if(js===null){Se===null&&(Se=mt);break}o&&Se&&js.alternate===null&&r(B,Se),I=C(js,I,Re),Te===null?fe=js:Te.sibling=js,Te=js,Se=mt}if(Be.done)return c(B,Se),He&&fi(B,Re),fe;if(Se===null){for(;!Be.done;Re++,Be=W.next())Be=oe(B,Be.value,te),Be!==null&&(I=C(Be,I,Re),Te===null?fe=Be:Te.sibling=Be,Te=Be);return He&&fi(B,Re),fe}for(Se=d(Se);!Be.done;Re++,Be=W.next())Be=q(Se,B,Re,Be.value,te),Be!==null&&(o&&Be.alternate!==null&&Se.delete(Be.key===null?Re:Be.key),I=C(Be,I,Re),Te===null?fe=Be:Te.sibling=Be,Te=Be);return o&&Se.forEach(function(NE){return r(B,NE)}),He&&fi(B,Re),fe}function nt(B,I,W,te){if(typeof W=="object"&&W!==null&&W.type===h&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case l:e:{for(var fe=W.key;I!==null;){if(I.key===fe){if(fe=W.type,fe===h){if(I.tag===7){c(B,I.sibling),te=g(I,W.props.children),te.return=B,B=te;break e}}else if(I.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===D&&$p(fe)===I.type){c(B,I.sibling),te=g(I,W.props),Tr(te,W),te.return=B,B=te;break e}c(B,I);break}else r(B,I);I=I.sibling}W.type===h?(te=xi(W.props.children,B.mode,te,W.key),te.return=B,B=te):(te=El(W.type,W.key,W.props,null,B.mode,te),Tr(te,W),te.return=B,B=te)}return x(B);case u:e:{for(fe=W.key;I!==null;){if(I.key===fe)if(I.tag===4&&I.stateNode.containerInfo===W.containerInfo&&I.stateNode.implementation===W.implementation){c(B,I.sibling),te=g(I,W.children||[]),te.return=B,B=te;break e}else{c(B,I);break}else r(B,I);I=I.sibling}te=Id(W,B.mode,te),te.return=B,B=te}return x(B);case D:return fe=W._init,W=fe(W._payload),nt(B,I,W,te)}if(ae(W))return we(B,I,W,te);if(G(W)){if(fe=G(W),typeof fe!="function")throw Error(s(150));return W=fe.call(W),De(B,I,W,te)}if(typeof W.then=="function")return nt(B,I,rl(W),te);if(W.$$typeof===y)return nt(B,I,Sl(B,W),te);al(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,I!==null&&I.tag===6?(c(B,I.sibling),te=g(I,W),te.return=B,B=te):(c(B,I),te=Od(W,B.mode,te),te.return=B,B=te),x(B)):c(B,I)}return function(B,I,W,te){try{Mr=0;var fe=nt(B,I,W,te);return oo=null,fe}catch(Se){if(Se===Ar)throw Se;var Te=hn(29,Se,null,B.mode);return Te.lanes=te,Te.return=B,Te}finally{}}}var pi=Xp(!0),Zp=Xp(!1),ro=ge(null),ll=ge(0);function Qp(o,r){o=cs,ue(ll,o),ue(ro,r),cs=o|r.baseLanes}function zu(){ue(ll,cs),ue(ro,ro.current)}function Vu(){cs=ll.current,Ce(ro),Ce(ll)}var cn=ge(null),Pn=null;function As(o){var r=o.alternate;ue(dt,dt.current&1),ue(cn,o),Pn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Pn=o)}function Jp(o){if(o.tag===22){if(ue(dt,dt.current),ue(cn,o),Pn===null){var r=o.alternate;r!==null&&r.memoizedState!==null&&(Pn=o)}}else Fs()}function Fs(){ue(dt,dt.current),ue(cn,cn.current)}function Jn(o){Ce(cn),Pn===o&&(Pn=null),Ce(dt)}var dt=ge(0);function cl(o){for(var r=o;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var x0=typeof AbortController<"u"?AbortController:function(){var o=[],r=this.signal={aborted:!1,addEventListener:function(c,d){o.push(d)}};this.abort=function(){r.aborted=!0,o.forEach(function(c){return c()})}},E0=e.unstable_scheduleCallback,D0=e.unstable_NormalPriority,ht={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wu(){return{controller:new x0,data:new Map,refCount:0}}function Pr(o){o.refCount--,o.refCount===0&&E0(D0,function(){o.controller.abort()})}var Lr=null,_u=0,ao=0,lo=null;function A0(o,r){if(Lr===null){var c=Lr=[];_u=0,ao=$d(),lo={status:"pending",value:void 0,then:function(d){c.push(d)}}}return _u++,r.then(em,em),r}function em(){if(--_u===0&&Lr!==null){lo!==null&&(lo.status="fulfilled");var o=Lr;Lr=null,ao=0,lo=null;for(var r=0;r<o.length;r++)(0,o[r])()}}function F0(o,r){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return o.then(function(){d.status="fulfilled",d.value=r;for(var g=0;g<c.length;g++)(0,c[g])(r)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var tm=N.S;N.S=function(o,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A0(o,r),tm!==null&&tm(o,r)};var mi=ge(null);function Uu(){var o=mi.current;return o!==null?o:je.pooledCache}function ul(o,r){r===null?ue(mi,mi.current):ue(mi,r.pool)}function nm(){var o=Uu();return o===null?null:{parent:ht._currentValue,pool:o}}var Ms=0,Me=null,Ve=null,lt=null,dl=!1,co=!1,Ci=!1,hl=0,Or=0,uo=null,M0=0;function rt(){throw Error(s(321))}function ju(o,r){if(r===null)return!1;for(var c=0;c<r.length&&c<o.length;c++)if(!Yt(o[c],r[c]))return!1;return!0}function Ku(o,r,c,d,g,C){return Ms=C,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,N.H=o===null||o.memoizedState===null?vi:Ts,Ci=!1,C=c(d,g),Ci=!1,co&&(C=im(r,c,d,g)),sm(o),C}function sm(o){N.H=Ln;var r=Ve!==null&&Ve.next!==null;if(Ms=0,lt=Ve=Me=null,dl=!1,Or=0,uo=null,r)throw Error(s(300));o===null||gt||(o=o.dependencies,o!==null&&bl(o)&&(gt=!0))}function im(o,r,c,d){Me=o;var g=0;do{if(co&&(uo=null),Or=0,co=!1,25<=g)throw Error(s(301));if(g+=1,lt=Ve=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}N.H=yi,C=r(c,d)}while(co);return C}function T0(){var o=N.H,r=o.useState()[0];return r=typeof r.then=="function"?Ir(r):r,o=o.useState()[0],(Ve!==null?Ve.memoizedState:null)!==o&&(Me.flags|=1024),r}function Yu(){var o=hl!==0;return hl=0,o}function qu(o,r,c){r.updateQueue=o.updateQueue,r.flags&=-2053,o.lanes&=~c}function $u(o){if(dl){for(o=o.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}dl=!1}Ms=0,lt=Ve=Me=null,co=!1,Or=hl=0,uo=null}function Ht(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Me.memoizedState=lt=o:lt=lt.next=o,lt}function ct(){if(Ve===null){var o=Me.alternate;o=o!==null?o.memoizedState:null}else o=Ve.next;var r=lt===null?Me.memoizedState:lt.next;if(r!==null)lt=r,Ve=o;else{if(o===null)throw Me.alternate===null?Error(s(467)):Error(s(310));Ve=o,o={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},lt===null?Me.memoizedState=lt=o:lt=lt.next=o}return lt}var fl;fl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ir(o){var r=Or;return Or+=1,uo===null&&(uo=[]),o=Yp(uo,o,r),r=Me,(lt===null?r.memoizedState:lt.next)===null&&(r=r.alternate,N.H=r===null||r.memoizedState===null?vi:Ts),o}function gl(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ir(o);if(o.$$typeof===y)return xt(o)}throw Error(s(438,String(o)))}function Xu(o){var r=null,c=Me.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var d=Me.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=fl(),Me.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(o),d=0;d<o;d++)c[d]=M;return r.index++,c}function es(o,r){return typeof r=="function"?r(o):r}function pl(o){var r=ct();return Zu(r,Ve,o)}function Zu(o,r,c){var d=o.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=c;var g=o.baseQueue,C=d.pending;if(C!==null){if(g!==null){var x=g.next;g.next=C.next,C.next=x}r.baseQueue=g=C,d.pending=null}if(C=o.baseState,g===null)o.memoizedState=C;else{r=g.next;var F=x=null,L=null,k=r,X=!1;do{var oe=k.lane&-536870913;if(oe!==k.lane?(ke&oe)===oe:(Ms&oe)===oe){var U=k.revertLane;if(U===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),oe===ao&&(X=!0);else if((Ms&U)===U){k=k.next,U===ao&&(X=!0);continue}else oe={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},L===null?(F=L=oe,x=C):L=L.next=oe,Me.lanes|=U,Bs|=U;oe=k.action,Ci&&c(C,oe),C=k.hasEagerState?k.eagerState:c(C,oe)}else U={lane:oe,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},L===null?(F=L=U,x=C):L=L.next=U,Me.lanes|=oe,Bs|=oe;k=k.next}while(k!==null&&k!==r);if(L===null?x=C:L.next=F,!Yt(C,o.memoizedState)&&(gt=!0,X&&(c=lo,c!==null)))throw c;o.memoizedState=C,o.baseState=x,o.baseQueue=L,d.lastRenderedState=C}return g===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function Qu(o){var r=ct(),c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=c.dispatch,g=c.pending,C=r.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do C=o(C,x.action),x=x.next;while(x!==g);Yt(C,r.memoizedState)||(gt=!0),r.memoizedState=C,r.baseQueue===null&&(r.baseState=C),c.lastRenderedState=C}return[C,d]}function om(o,r,c){var d=Me,g=ct(),C=He;if(C){if(c===void 0)throw Error(s(407));c=c()}else c=r();var x=!Yt((Ve||g).memoizedState,c);if(x&&(g.memoizedState=c,gt=!0),g=g.queue,td(lm.bind(null,d,g,o),[o]),g.getSnapshot!==r||x||lt!==null&&lt.memoizedState.tag&1){if(d.flags|=2048,ho(9,am.bind(null,d,g,c,r),{destroy:void 0},null),je===null)throw Error(s(349));C||Ms&60||rm(d,r,c)}return c}function rm(o,r,c){o.flags|=16384,o={getSnapshot:r,value:c},r=Me.updateQueue,r===null?(r=fl(),Me.updateQueue=r,r.stores=[o]):(c=r.stores,c===null?r.stores=[o]:c.push(o))}function am(o,r,c,d){r.value=c,r.getSnapshot=d,cm(r)&&um(o)}function lm(o,r,c){return c(function(){cm(r)&&um(o)})}function cm(o){var r=o.getSnapshot;o=o.value;try{var c=r();return!Yt(o,c)}catch{return!0}}function um(o){var r=Ds(o,2);r!==null&&Lt(r,o,2)}function Ju(o){var r=Ht();if(typeof o=="function"){var c=o;if(o=c(),Ci){Rs(!0);try{c()}finally{Rs(!1)}}}return r.memoizedState=r.baseState=o,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:o},r}function dm(o,r,c,d){return o.baseState=c,Zu(o,Ve,typeof d=="function"?d:es)}function P0(o,r,c,d,g){if(vl(o))throw Error(s(485));if(o=r.action,o!==null){var C={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){C.listeners.push(x)}};N.T!==null?c(!0):C.isTransition=!1,d(C),c=r.pending,c===null?(C.next=r.pending=C,hm(r,C)):(C.next=c.next,r.pending=c.next=C)}}function hm(o,r){var c=r.action,d=r.payload,g=o.state;if(r.isTransition){var C=N.T,x={};N.T=x;try{var F=c(g,d),L=N.S;L!==null&&L(x,F),fm(o,r,F)}catch(k){ed(o,r,k)}finally{N.T=C}}else try{C=c(g,d),fm(o,r,C)}catch(k){ed(o,r,k)}}function fm(o,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){gm(o,r,d)},function(d){return ed(o,r,d)}):gm(o,r,c)}function gm(o,r,c){r.status="fulfilled",r.value=c,pm(r),o.state=c,r=o.pending,r!==null&&(c=r.next,c===r?o.pending=null:(c=c.next,r.next=c,hm(o,c)))}function ed(o,r,c){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=c,pm(r),r=r.next;while(r!==d)}o.action=null}function pm(o){o=o.listeners;for(var r=0;r<o.length;r++)(0,o[r])()}function mm(o,r){return r}function Cm(o,r){if(He){var c=je.formState;if(c!==null){e:{var d=Me;if(He){if(yt){t:{for(var g=yt,C=Tn;g.nodeType!==8;){if(!C){g=null;break t}if(g=bn(g.nextSibling),g===null){g=null;break t}}C=g.data,g=C==="F!"||C==="F"?g:null}if(g){yt=bn(g.nextSibling),d=g.data==="F!";break e}}gi(d)}d=!1}d&&(r=c[0])}}return c=Ht(),c.memoizedState=c.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:r},c.queue=d,c=km.bind(null,Me,d),d.dispatch=c,d=Ju(!1),C=rd.bind(null,Me,!1,d.queue),d=Ht(),g={state:r,dispatch:null,action:o,pending:null},d.queue=g,c=P0.bind(null,Me,g,C,c),g.dispatch=c,d.memoizedState=o,[r,c,!1]}function vm(o){var r=ct();return ym(r,Ve,o)}function ym(o,r,c){r=Zu(o,r,mm)[0],o=pl(es)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Ir(r):r;var d=ct(),g=d.queue,C=g.dispatch;return c!==d.memoizedState&&(Me.flags|=2048,ho(9,L0.bind(null,g,c),{destroy:void 0},null)),[r,C,o]}function L0(o,r){o.action=r}function wm(o){var r=ct(),c=Ve;if(c!==null)return ym(r,c,o);ct(),r=r.memoizedState,c=ct();var d=c.queue.dispatch;return c.memoizedState=o,[r,d,!1]}function ho(o,r,c,d){return o={tag:o,create:r,inst:c,deps:d,next:null},r=Me.updateQueue,r===null&&(r=fl(),Me.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=o.next=o:(d=c.next,c.next=o,o.next=d,r.lastEffect=o),o}function bm(){return ct().memoizedState}function ml(o,r,c,d){var g=Ht();Me.flags|=o,g.memoizedState=ho(1|r,c,{destroy:void 0},d===void 0?null:d)}function Cl(o,r,c,d){var g=ct();d=d===void 0?null:d;var C=g.memoizedState.inst;Ve!==null&&d!==null&&ju(d,Ve.memoizedState.deps)?g.memoizedState=ho(r,c,C,d):(Me.flags|=o,g.memoizedState=ho(1|r,c,C,d))}function Sm(o,r){ml(8390656,8,o,r)}function td(o,r){Cl(2048,8,o,r)}function Rm(o,r){return Cl(4,2,o,r)}function xm(o,r){return Cl(4,4,o,r)}function Em(o,r){if(typeof r=="function"){o=o();var c=r(o);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return o=o(),r.current=o,function(){r.current=null}}function Dm(o,r,c){c=c!=null?c.concat([o]):null,Cl(4,4,Em.bind(null,r,o),c)}function nd(){}function Am(o,r){var c=ct();r=r===void 0?null:r;var d=c.memoizedState;return r!==null&&ju(r,d[1])?d[0]:(c.memoizedState=[o,r],o)}function Fm(o,r){var c=ct();r=r===void 0?null:r;var d=c.memoizedState;if(r!==null&&ju(r,d[1]))return d[0];if(d=o(),Ci){Rs(!0);try{o()}finally{Rs(!1)}}return c.memoizedState=[d,r],d}function sd(o,r,c){return c===void 0||Ms&1073741824?o.memoizedState=r:(o.memoizedState=c,o=TC(),Me.lanes|=o,Bs|=o,c)}function Mm(o,r,c,d){return Yt(c,r)?c:ro.current!==null?(o=sd(o,c,d),Yt(o,r)||(gt=!0),o):Ms&42?(o=TC(),Me.lanes|=o,Bs|=o,r):(gt=!0,o.memoizedState=c)}function Tm(o,r,c,d,g){var C=ne.p;ne.p=C!==0&&8>C?C:8;var x=N.T,F={};N.T=F,rd(o,!1,r,c);try{var L=g(),k=N.S;if(k!==null&&k(F,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var X=F0(L,d);kr(o,r,X,Zt(o))}else kr(o,r,d,Zt(o))}catch(oe){kr(o,r,{then:function(){},status:"rejected",reason:oe},Zt())}finally{ne.p=C,N.T=x}}function O0(){}function id(o,r,c,d){if(o.tag!==5)throw Error(s(476));var g=Pm(o).queue;Tm(o,g,r,ve,c===null?O0:function(){return Lm(o),c(d)})}function Pm(o){var r=o.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ve},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:c},next:null},o.memoizedState=r,o=o.alternate,o!==null&&(o.memoizedState=r),r}function Lm(o){var r=Pm(o).next.queue;kr(o,r,{},Zt())}function od(){return xt(ta)}function Om(){return ct().memoizedState}function Im(){return ct().memoizedState}function I0(o){for(var r=o.return;r!==null;){switch(r.tag){case 24:case 3:var c=Zt();o=Os(c);var d=Is(r,o,c);d!==null&&(Lt(d,r,c),Hr(d,r,c)),r={cache:Wu()},o.payload=r;return}r=r.return}}function k0(o,r,c){var d=Zt();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},vl(o)?Gm(r,c):(c=ku(o,r,c,d),c!==null&&(Lt(c,o,d),Nm(c,r,d)))}function km(o,r,c){var d=Zt();kr(o,r,c,d)}function kr(o,r,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(vl(o))Gm(r,g);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=r.lastRenderedReducer,C!==null))try{var x=r.lastRenderedState,F=C(x,c);if(g.hasEagerState=!0,g.eagerState=F,Yt(F,x))return tl(o,r,g,0),je===null&&el(),!1}catch{}finally{}if(c=ku(o,r,g,d),c!==null)return Lt(c,o,d),Nm(c,r,d),!0}return!1}function rd(o,r,c,d){if(d={lane:2,revertLane:$d(),action:d,hasEagerState:!1,eagerState:null,next:null},vl(o)){if(r)throw Error(s(479))}else r=ku(o,c,d,2),r!==null&&Lt(r,o,2)}function vl(o){var r=o.alternate;return o===Me||r!==null&&r===Me}function Gm(o,r){co=dl=!0;var c=o.pending;c===null?r.next=r:(r.next=c.next,c.next=r),o.pending=r}function Nm(o,r,c){if(c&4194176){var d=r.lanes;d&=o.pendingLanes,c|=d,r.lanes=c,qg(o,c)}}var Ln={readContext:xt,use:gl,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt};Ln.useCacheRefresh=rt,Ln.useMemoCache=rt,Ln.useHostTransitionStatus=rt,Ln.useFormState=rt,Ln.useActionState=rt,Ln.useOptimistic=rt;var vi={readContext:xt,use:gl,useCallback:function(o,r){return Ht().memoizedState=[o,r===void 0?null:r],o},useContext:xt,useEffect:Sm,useImperativeHandle:function(o,r,c){c=c!=null?c.concat([o]):null,ml(4194308,4,Em.bind(null,r,o),c)},useLayoutEffect:function(o,r){return ml(4194308,4,o,r)},useInsertionEffect:function(o,r){ml(4,2,o,r)},useMemo:function(o,r){var c=Ht();r=r===void 0?null:r;var d=o();if(Ci){Rs(!0);try{o()}finally{Rs(!1)}}return c.memoizedState=[d,r],d},useReducer:function(o,r,c){var d=Ht();if(c!==void 0){var g=c(r);if(Ci){Rs(!0);try{c(r)}finally{Rs(!1)}}}else g=r;return d.memoizedState=d.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},d.queue=o,o=o.dispatch=k0.bind(null,Me,o),[d.memoizedState,o]},useRef:function(o){var r=Ht();return o={current:o},r.memoizedState=o},useState:function(o){o=Ju(o);var r=o.queue,c=km.bind(null,Me,r);return r.dispatch=c,[o.memoizedState,c]},useDebugValue:nd,useDeferredValue:function(o,r){var c=Ht();return sd(c,o,r)},useTransition:function(){var o=Ju(!1);return o=Tm.bind(null,Me,o.queue,!0,!1),Ht().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,r,c){var d=Me,g=Ht();if(He){if(c===void 0)throw Error(s(407));c=c()}else{if(c=r(),je===null)throw Error(s(349));ke&60||rm(d,r,c)}g.memoizedState=c;var C={value:c,getSnapshot:r};return g.queue=C,Sm(lm.bind(null,d,C,o),[o]),d.flags|=2048,ho(9,am.bind(null,d,C,c,r),{destroy:void 0},null),c},useId:function(){var o=Ht(),r=je.identifierPrefix;if(He){var c=Qn,d=Zn;c=(d&~(1<<32-Kt(d)-1)).toString(32)+c,r=":"+r+"R"+c,c=hl++,0<c&&(r+="H"+c.toString(32)),r+=":"}else c=M0++,r=":"+r+"r"+c.toString(32)+":";return o.memoizedState=r},useCacheRefresh:function(){return Ht().memoizedState=I0.bind(null,Me)}};vi.useMemoCache=Xu,vi.useHostTransitionStatus=od,vi.useFormState=Cm,vi.useActionState=Cm,vi.useOptimistic=function(o){var r=Ht();r.memoizedState=r.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=rd.bind(null,Me,!0,c),c.dispatch=r,[o,r]};var Ts={readContext:xt,use:gl,useCallback:Am,useContext:xt,useEffect:td,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:xm,useMemo:Fm,useReducer:pl,useRef:bm,useState:function(){return pl(es)},useDebugValue:nd,useDeferredValue:function(o,r){var c=ct();return Mm(c,Ve.memoizedState,o,r)},useTransition:function(){var o=pl(es)[0],r=ct().memoizedState;return[typeof o=="boolean"?o:Ir(o),r]},useSyncExternalStore:om,useId:Om};Ts.useCacheRefresh=Im,Ts.useMemoCache=Xu,Ts.useHostTransitionStatus=od,Ts.useFormState=vm,Ts.useActionState=vm,Ts.useOptimistic=function(o,r){var c=ct();return dm(c,Ve,o,r)};var yi={readContext:xt,use:gl,useCallback:Am,useContext:xt,useEffect:td,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:xm,useMemo:Fm,useReducer:Qu,useRef:bm,useState:function(){return Qu(es)},useDebugValue:nd,useDeferredValue:function(o,r){var c=ct();return Ve===null?sd(c,o,r):Mm(c,Ve.memoizedState,o,r)},useTransition:function(){var o=Qu(es)[0],r=ct().memoizedState;return[typeof o=="boolean"?o:Ir(o),r]},useSyncExternalStore:om,useId:Om};yi.useCacheRefresh=Im,yi.useMemoCache=Xu,yi.useHostTransitionStatus=od,yi.useFormState=wm,yi.useActionState=wm,yi.useOptimistic=function(o,r){var c=ct();return Ve!==null?dm(c,Ve,o,r):(c.baseState=o,[o,c.queue.dispatch])};function ad(o,r,c,d){r=o.memoizedState,c=c(d,r),c=c==null?r:V({},r,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var ld={isMounted:function(o){return(o=o._reactInternals)?Y(o)===o:!1},enqueueSetState:function(o,r,c){o=o._reactInternals;var d=Zt(),g=Os(d);g.payload=r,c!=null&&(g.callback=c),r=Is(o,g,d),r!==null&&(Lt(r,o,d),Hr(r,o,d))},enqueueReplaceState:function(o,r,c){o=o._reactInternals;var d=Zt(),g=Os(d);g.tag=1,g.payload=r,c!=null&&(g.callback=c),r=Is(o,g,d),r!==null&&(Lt(r,o,d),Hr(r,o,d))},enqueueForceUpdate:function(o,r){o=o._reactInternals;var c=Zt(),d=Os(c);d.tag=2,r!=null&&(d.callback=r),r=Is(o,d,c),r!==null&&(Lt(r,o,c),Hr(r,o,c))}};function Hm(o,r,c,d,g,C,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,C,x):r.prototype&&r.prototype.isPureReactComponent?!Sr(c,d)||!Sr(g,C):!0}function Bm(o,r,c,d){o=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,d),r.state!==o&&ld.enqueueReplaceState(r,r.state,null)}function wi(o,r){var c=r;if("ref"in r){c={};for(var d in r)d!=="ref"&&(c[d]=r[d])}if(o=o.defaultProps){c===r&&(c=V({},c));for(var g in o)c[g]===void 0&&(c[g]=o[g])}return c}var yl=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function zm(o){yl(o)}function Vm(o){console.error(o)}function Wm(o){yl(o)}function wl(o,r){try{var c=o.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function _m(o,r,c){try{var d=o.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function cd(o,r,c){return c=Os(c),c.tag=3,c.payload={element:null},c.callback=function(){wl(o,r)},c}function Um(o){return o=Os(o),o.tag=3,o}function jm(o,r,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var C=d.value;o.payload=function(){return g(C)},o.callback=function(){_m(r,c,d)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){_m(r,c,d),typeof g!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function G0(o,r,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=c.alternate,r!==null&&Nr(r,c,g,!0),c=cn.current,c!==null){switch(c.tag){case 13:return Pn===null?Ud():c.alternate===null&&tt===0&&(tt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===Bu?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([d]):r.add(d),Kd(o,d,g)),!1;case 22:return c.flags|=65536,d===Bu?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([d]):c.add(d)),Kd(o,d,g)),!1}throw Error(s(435,c.tag))}return Kd(o,d,g),Ud(),!1}if(He)return r=cn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=g,d!==Hu&&(o=Error(s(422),{cause:d}),Dr(rn(o,c)))):(d!==Hu&&(r=Error(s(423),{cause:d}),Dr(rn(r,c))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,d=rn(d,c),g=cd(o.stateNode,d,g),xd(o,g),tt!==4&&(tt=2)),!1;var C=Error(s(520),{cause:d});if(C=rn(C,c),Kr===null?Kr=[C]:Kr.push(C),tt!==4&&(tt=2),r===null)return!0;d=rn(d,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,o=g&-g,c.lanes|=o,o=cd(c.stateNode,d,o),xd(c,o),!1;case 1:if(r=c.type,C=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(zs===null||!zs.has(C))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Um(g),jm(g,o,c,d),xd(c,g),!1}c=c.return}while(c!==null);return!1}var Km=Error(s(461)),gt=!1;function wt(o,r,c,d){r.child=o===null?Zp(r,null,c,d):pi(r,o.child,c,d)}function Ym(o,r,c,d,g){c=c.render;var C=r.ref;if("ref"in d){var x={};for(var F in d)F!=="ref"&&(x[F]=d[F])}else x=d;return Si(r),d=Ku(o,r,c,x,C,g),F=Yu(),o!==null&&!gt?(qu(o,r,g),ts(o,r,g)):(He&&F&&Gu(r),r.flags|=1,wt(o,r,d,g),r.child)}function qm(o,r,c,d,g){if(o===null){var C=c.type;return typeof C=="function"&&!Ld(C)&&C.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=C,$m(o,r,C,d,g)):(o=El(c.type,null,d,r,r.mode,g),o.ref=r.ref,o.return=r,r.child=o)}if(C=o.child,!vd(o,g)){var x=C.memoizedProps;if(c=c.compare,c=c!==null?c:Sr,c(x,d)&&o.ref===r.ref)return ts(o,r,g)}return r.flags|=1,o=Hs(C,d),o.ref=r.ref,o.return=r,r.child=o}function $m(o,r,c,d,g){if(o!==null){var C=o.memoizedProps;if(Sr(C,d)&&o.ref===r.ref)if(gt=!1,r.pendingProps=d=C,vd(o,g))o.flags&131072&&(gt=!0);else return r.lanes=o.lanes,ts(o,r,g)}return ud(o,r,c,d,g)}function Xm(o,r,c){var d=r.pendingProps,g=d.children,C=(r.stateNode._pendingVisibility&2)!==0,x=o!==null?o.memoizedState:null;if(Gr(o,r),d.mode==="hidden"||C){if(r.flags&128){if(d=x!==null?x.baseLanes|c:c,o!==null){for(g=r.child=o.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;r.childLanes=C&~d}else r.childLanes=0,r.child=null;return Zm(o,r,d,c)}if(c&536870912)r.memoizedState={baseLanes:0,cachePool:null},o!==null&&ul(r,x!==null?x.cachePool:null),x!==null?Qp(r,x):zu(),Jp(r);else return r.lanes=r.childLanes=536870912,Zm(o,r,x!==null?x.baseLanes|c:c,c)}else x!==null?(ul(r,x.cachePool),Qp(r,x),Fs(),r.memoizedState=null):(o!==null&&ul(r,null),zu(),Fs());return wt(o,r,g,c),r.child}function Zm(o,r,c,d){var g=Uu();return g=g===null?null:{parent:ht._currentValue,pool:g},r.memoizedState={baseLanes:c,cachePool:g},o!==null&&ul(r,null),zu(),Jp(r),o!==null&&Nr(o,r,d,!0),null}function Gr(o,r){var c=r.ref;if(c===null)o!==null&&o.ref!==null&&(r.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(o===null||o.ref!==c)&&(r.flags|=2097664)}}function ud(o,r,c,d,g){return Si(r),c=Ku(o,r,c,d,void 0,g),d=Yu(),o!==null&&!gt?(qu(o,r,g),ts(o,r,g)):(He&&d&&Gu(r),r.flags|=1,wt(o,r,c,g),r.child)}function Qm(o,r,c,d,g,C){return Si(r),r.updateQueue=null,c=im(r,d,c,g),sm(o),d=Yu(),o!==null&&!gt?(qu(o,r,C),ts(o,r,C)):(He&&d&&Gu(r),r.flags|=1,wt(o,r,c,C),r.child)}function Jm(o,r,c,d,g){if(Si(r),r.stateNode===null){var C=no,x=c.contextType;typeof x=="object"&&x!==null&&(C=xt(x)),C=new c(d,C),r.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ld,r.stateNode=C,C._reactInternals=r,C=r.stateNode,C.props=d,C.state=r.memoizedState,C.refs={},Sd(r),x=c.contextType,C.context=typeof x=="object"&&x!==null?xt(x):no,C.state=r.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(ad(r,c,x,d),C.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(x=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),x!==C.state&&ld.enqueueReplaceState(C,C.state,null),zr(r,d,C,g),Br(),C.state=r.memoizedState),typeof C.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(o===null){C=r.stateNode;var F=r.memoizedProps,L=wi(c,F);C.props=L;var k=C.context,X=c.contextType;x=no,typeof X=="object"&&X!==null&&(x=xt(X));var oe=c.getDerivedStateFromProps;X=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function",F=r.pendingProps!==F,X||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F||k!==x)&&Bm(r,C,d,x),Ls=!1;var U=r.memoizedState;C.state=U,zr(r,d,C,g),Br(),k=r.memoizedState,F||U!==k||Ls?(typeof oe=="function"&&(ad(r,c,oe,d),k=r.memoizedState),(L=Ls||Hm(r,c,L,d,U,k,x))?(X||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(r.flags|=4194308)):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=k),C.props=d,C.state=k,C.context=x,d=L):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{C=r.stateNode,Rd(o,r),x=r.memoizedProps,X=wi(c,x),C.props=X,oe=r.pendingProps,U=C.context,k=c.contextType,L=no,typeof k=="object"&&k!==null&&(L=xt(k)),F=c.getDerivedStateFromProps,(k=typeof F=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(x!==oe||U!==L)&&Bm(r,C,d,L),Ls=!1,U=r.memoizedState,C.state=U,zr(r,d,C,g),Br();var q=r.memoizedState;x!==oe||U!==q||Ls||o!==null&&o.dependencies!==null&&bl(o.dependencies)?(typeof F=="function"&&(ad(r,c,F,d),q=r.memoizedState),(X=Ls||Hm(r,c,X,d,U,q,L)||o!==null&&o.dependencies!==null&&bl(o.dependencies))?(k||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,q,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,q,L)),typeof C.componentDidUpdate=="function"&&(r.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof C.componentDidUpdate!="function"||x===o.memoizedProps&&U===o.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&U===o.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=q),C.props=d,C.state=q,C.context=L,d=X):(typeof C.componentDidUpdate!="function"||x===o.memoizedProps&&U===o.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&U===o.memoizedState||(r.flags|=1024),d=!1)}return C=d,Gr(o,r),d=(r.flags&128)!==0,C||d?(C=r.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:C.render(),r.flags|=1,o!==null&&d?(r.child=pi(r,o.child,null,g),r.child=pi(r,null,c,g)):wt(o,r,c,g),r.memoizedState=C.state,o=r.child):o=ts(o,r,g),o}function eC(o,r,c,d){return Er(),r.flags|=256,wt(o,r,c,d),r.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function hd(o){return{baseLanes:o,cachePool:nm()}}function fd(o,r,c){return o=o!==null?o.childLanes&~c:0,r&&(o|=fn),o}function tC(o,r,c){var d=r.pendingProps,g=!1,C=(r.flags&128)!==0,x;if((x=C)||(x=o!==null&&o.memoizedState===null?!1:(dt.current&2)!==0),x&&(g=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,o===null){if(He){if(g?As(r):Fs(),He){var F=yt,L;if(L=F){e:{for(L=F,F=Tn;L.nodeType!==8;){if(!F){F=null;break e}if(L=bn(L.nextSibling),L===null){F=null;break e}}F=L}F!==null?(r.memoizedState={dehydrated:F,treeContext:hi!==null?{id:Zn,overflow:Qn}:null,retryLane:536870912},L=hn(18,null,null,0),L.stateNode=F,L.return=r,r.child=L,Pt=r,yt=null,L=!0):L=!1}L||gi(r)}if(F=r.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return F.data==="$!"?r.lanes=16:r.lanes=536870912,null;Jn(r)}return F=d.children,d=d.fallback,g?(Fs(),g=r.mode,F=pd({mode:"hidden",children:F},g),d=xi(d,g,c,null),F.return=r,d.return=r,F.sibling=d,r.child=F,g=r.child,g.memoizedState=hd(c),g.childLanes=fd(o,x,c),r.memoizedState=dd,d):(As(r),gd(r,F))}if(L=o.memoizedState,L!==null&&(F=L.dehydrated,F!==null)){if(C)r.flags&256?(As(r),r.flags&=-257,r=md(o,r,c)):r.memoizedState!==null?(Fs(),r.child=o.child,r.flags|=128,r=null):(Fs(),g=d.fallback,F=r.mode,d=pd({mode:"visible",children:d.children},F),g=xi(g,F,c,null),g.flags|=2,d.return=r,g.return=r,d.sibling=g,r.child=d,pi(r,o.child,null,c),d=r.child,d.memoizedState=hd(c),d.childLanes=fd(o,x,c),r.memoizedState=dd,r=g);else if(As(r),F.data==="$!"){if(x=F.nextSibling&&F.nextSibling.dataset,x)var k=x.dgst;x=k,d=Error(s(419)),d.stack="",d.digest=x,Dr({value:d,source:null,stack:null}),r=md(o,r,c)}else if(gt||Nr(o,r,c,!1),x=(c&o.childLanes)!==0,gt||x){if(x=je,x!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(x.suspendedLanes|c)?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,Ds(o,d),Lt(x,o,d),Km}F.data==="$?"||Ud(),r=md(o,r,c)}else F.data==="$?"?(r.flags|=128,r.child=o.child,r=Z0.bind(null,o),F._reactRetry=r,r=null):(o=L.treeContext,yt=bn(F.nextSibling),Pt=r,He=!0,yn=null,Tn=!1,o!==null&&(an[ln++]=Zn,an[ln++]=Qn,an[ln++]=hi,Zn=o.id,Qn=o.overflow,hi=r),r=gd(r,d.children),r.flags|=4096);return r}return g?(Fs(),g=d.fallback,F=r.mode,L=o.child,k=L.sibling,d=Hs(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,k!==null?g=Hs(k,g):(g=xi(g,F,c,null),g.flags|=2),g.return=r,d.return=r,d.sibling=g,r.child=d,d=g,g=r.child,F=o.child.memoizedState,F===null?F=hd(c):(L=F.cachePool,L!==null?(k=ht._currentValue,L=L.parent!==k?{parent:k,pool:k}:L):L=nm(),F={baseLanes:F.baseLanes|c,cachePool:L}),g.memoizedState=F,g.childLanes=fd(o,x,c),r.memoizedState=dd,d):(As(r),c=o.child,o=c.sibling,c=Hs(c,{mode:"visible",children:d.children}),c.return=r,c.sibling=null,o!==null&&(x=r.deletions,x===null?(r.deletions=[o],r.flags|=16):x.push(o)),r.child=c,r.memoizedState=null,c)}function gd(o,r){return r=pd({mode:"visible",children:r},o.mode),r.return=o,o.child=r}function pd(o,r){return AC(o,r,0,null)}function md(o,r,c){return pi(r,o.child,null,c),o=gd(r,r.pendingProps.children),o.flags|=2,r.memoizedState=null,o}function nC(o,r,c){o.lanes|=r;var d=o.alternate;d!==null&&(d.lanes|=r),wd(o.return,r,c)}function Cd(o,r,c,d,g){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=c,C.tailMode=g)}function sC(o,r,c){var d=r.pendingProps,g=d.revealOrder,C=d.tail;if(wt(o,r,d.children,c),d=dt.current,d&2)d=d&1|2,r.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=r.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&nC(o,c,r);else if(o.tag===19)nC(o,c,r);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(ue(dt,d),g){case"forwards":for(c=r.child,g=null;c!==null;)o=c.alternate,o!==null&&cl(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=r.child,r.child=null):(g=c.sibling,c.sibling=null),Cd(r,!1,g,c,C);break;case"backwards":for(c=null,g=r.child,r.child=null;g!==null;){if(o=g.alternate,o!==null&&cl(o)===null){r.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}Cd(r,!0,c,null,C);break;case"together":Cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ts(o,r,c){if(o!==null&&(r.dependencies=o.dependencies),Bs|=r.lanes,!(c&r.childLanes))if(o!==null){if(Nr(o,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(o!==null&&r.child!==o.child)throw Error(s(153));if(r.child!==null){for(o=r.child,c=Hs(o,o.pendingProps),r.child=c,c.return=r;o.sibling!==null;)o=o.sibling,c=c.sibling=Hs(o,o.pendingProps),c.return=r;c.sibling=null}return r.child}function vd(o,r){return o.lanes&r?!0:(o=o.dependencies,!!(o!==null&&bl(o)))}function N0(o,r,c){switch(r.tag){case 3:Ie(r,r.stateNode.containerInfo),Ps(r,ht,o.memoizedState.cache),Er();break;case 27:case 5:Ut(r);break;case 4:Ie(r,r.stateNode.containerInfo);break;case 10:Ps(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(As(r),r.flags|=128,null):c&r.child.childLanes?tC(o,r,c):(As(r),o=ts(o,r,c),o!==null?o.sibling:null);As(r);break;case 19:var g=(o.flags&128)!==0;if(d=(c&r.childLanes)!==0,d||(Nr(o,r,c,!1),d=(c&r.childLanes)!==0),g){if(d)return sC(o,r,c);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(dt,dt.current),d)break;return null;case 22:case 23:return r.lanes=0,Xm(o,r,c);case 24:Ps(r,ht,o.memoizedState.cache)}return ts(o,r,c)}function iC(o,r,c){if(o!==null)if(o.memoizedProps!==r.pendingProps)gt=!0;else{if(!vd(o,c)&&!(r.flags&128))return gt=!1,N0(o,r,c);gt=!!(o.flags&131072)}else gt=!1,He&&r.flags&1048576&&Wp(r,il,r.index);switch(r.lanes=0,r.tag){case 16:e:{o=r.pendingProps;var d=r.elementType,g=d._init;if(d=g(d._payload),r.type=d,typeof d=="function")Ld(d)?(o=wi(d,o),r.tag=1,r=Jm(null,r,d,o,c)):(r.tag=0,r=ud(null,r,d,o,c));else{if(d!=null){if(g=d.$$typeof,g===S){r.tag=11,r=Ym(null,r,d,o,c);break e}else if(g===E){r.tag=14,r=qm(null,r,d,o,c);break e}}throw r=z(d)||d,Error(s(306,r,""))}}return r;case 0:return ud(o,r,r.type,r.pendingProps,c);case 1:return d=r.type,g=wi(d,r.pendingProps),Jm(o,r,d,g,c);case 3:e:{if(Ie(r,r.stateNode.containerInfo),o===null)throw Error(s(387));var C=r.pendingProps;g=r.memoizedState,d=g.element,Rd(o,r),zr(r,C,null,c);var x=r.memoizedState;if(C=x.cache,Ps(r,ht,C),C!==g.cache&&bd(r,[ht],c,!0),Br(),C=x.element,g.isDehydrated)if(g={element:C,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=eC(o,r,C,c);break e}else if(C!==d){d=rn(Error(s(424)),r),Dr(d),r=eC(o,r,C,c);break e}else for(yt=bn(r.stateNode.containerInfo.firstChild),Pt=r,He=!0,yn=null,Tn=!0,c=Zp(r,null,C,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Er(),C===d){r=ts(o,r,c);break e}wt(o,r,C,c)}r=r.child}return r;case 26:return Gr(o,r),o===null?(c=av(r.type,null,r.pendingProps,null))?r.memoizedState=c:He||(c=r.type,o=r.pendingProps,d=Nl(Ae.current).createElement(c),d[Rt]=r,d[Gt]=o,bt(d,c,o),ft(d),r.stateNode=d):r.memoizedState=av(r.type,o.memoizedProps,r.pendingProps,o.memoizedState),null;case 27:return Ut(r),o===null&&He&&(d=r.stateNode=iv(r.type,r.pendingProps,Ae.current),Pt=r,Tn=!0,yt=bn(d.firstChild)),d=r.pendingProps.children,o!==null||He?wt(o,r,d,c):r.child=pi(r,null,d,c),Gr(o,r),r.child;case 5:return o===null&&He&&((g=d=yt)&&(d=fE(d,r.type,r.pendingProps,Tn),d!==null?(r.stateNode=d,Pt=r,yt=bn(d.firstChild),Tn=!1,g=!0):g=!1),g||gi(r)),Ut(r),g=r.type,C=r.pendingProps,x=o!==null?o.memoizedProps:null,d=C.children,ih(g,C)?d=null:x!==null&&ih(g,x)&&(r.flags|=32),r.memoizedState!==null&&(g=Ku(o,r,T0,null,null,c),ta._currentValue=g),Gr(o,r),wt(o,r,d,c),r.child;case 6:return o===null&&He&&((o=c=yt)&&(c=gE(c,r.pendingProps,Tn),c!==null?(r.stateNode=c,Pt=r,yt=null,o=!0):o=!1),o||gi(r)),null;case 13:return tC(o,r,c);case 4:return Ie(r,r.stateNode.containerInfo),d=r.pendingProps,o===null?r.child=pi(r,null,d,c):wt(o,r,d,c),r.child;case 11:return Ym(o,r,r.type,r.pendingProps,c);case 7:return wt(o,r,r.pendingProps,c),r.child;case 8:return wt(o,r,r.pendingProps.children,c),r.child;case 12:return wt(o,r,r.pendingProps.children,c),r.child;case 10:return d=r.pendingProps,Ps(r,r.type,d.value),wt(o,r,d.children,c),r.child;case 9:return g=r.type._context,d=r.pendingProps.children,Si(r),g=xt(g),d=d(g),r.flags|=1,wt(o,r,d,c),r.child;case 14:return qm(o,r,r.type,r.pendingProps,c);case 15:return $m(o,r,r.type,r.pendingProps,c);case 19:return sC(o,r,c);case 22:return Xm(o,r,c);case 24:return Si(r),d=xt(ht),o===null?(g=Uu(),g===null&&(g=je,C=Wu(),g.pooledCache=C,C.refCount++,C!==null&&(g.pooledCacheLanes|=c),g=C),r.memoizedState={parent:d,cache:g},Sd(r),Ps(r,ht,g)):(o.lanes&c&&(Rd(o,r),zr(r,null,null,c),Br()),g=o.memoizedState,C=r.memoizedState,g.parent!==d?(g={parent:d,cache:d},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ps(r,ht,d)):(d=C.cache,Ps(r,ht,d),d!==g.cache&&bd(r,[ht],c,!0))),wt(o,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var yd=ge(null),bi=null,ns=null;function Ps(o,r,c){ue(yd,r._currentValue),r._currentValue=c}function ss(o){o._currentValue=yd.current,Ce(yd)}function wd(o,r,c){for(;o!==null;){var d=o.alternate;if((o.childLanes&r)!==r?(o.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),o===c)break;o=o.return}}function bd(o,r,c,d){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var C=g.dependencies;if(C!==null){var x=g.child;C=C.firstContext;e:for(;C!==null;){var F=C;C=g;for(var L=0;L<r.length;L++)if(F.context===r[L]){C.lanes|=c,F=C.alternate,F!==null&&(F.lanes|=c),wd(C.return,c,o),d||(x=null);break e}C=F.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(s(341));x.lanes|=c,C=x.alternate,C!==null&&(C.lanes|=c),wd(x,c,o),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===o){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function Nr(o,r,c,d){o=null;for(var g=r,C=!1;g!==null;){if(!C){if(g.flags&524288)C=!0;else if(g.flags&262144)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var F=g.type;Yt(g.pendingProps.value,x.value)||(o!==null?o.push(F):o=[F])}}else if(g===Ne.current){if(x=g.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(ta):o=[ta])}g=g.return}o!==null&&bd(r,o,c,d),r.flags|=262144}function bl(o){for(o=o.firstContext;o!==null;){if(!Yt(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Si(o){bi=o,ns=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function xt(o){return oC(bi,o)}function Sl(o,r){return bi===null&&Si(o),oC(o,r)}function oC(o,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},ns===null){if(o===null)throw Error(s(308));ns=r,o.dependencies={lanes:0,firstContext:r},o.flags|=524288}else ns=ns.next=r;return c}var Ls=!1;function Sd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(o,r){o=o.updateQueue,r.updateQueue===o&&(r.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Os(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Is(o,r,c){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,Xe&2){var g=d.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),d.pending=r,r=nl(o),zp(o,null,c),r}return tl(o,d,r,c),nl(o)}function Hr(o,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194176)!==0)){var d=r.lanes;d&=o.pendingLanes,c|=d,r.lanes=c,qg(o,c)}}function xd(o,r){var c=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,C=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};C===null?g=C=x:C=C.next=x,c=c.next}while(c!==null);C===null?g=C=r:C=C.next=r}else g=C=r;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:C,shared:d.shared,callbacks:d.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=r:o.next=r,c.lastBaseUpdate=r}var Ed=!1;function Br(){if(Ed){var o=lo;if(o!==null)throw o}}function zr(o,r,c,d){Ed=!1;var g=o.updateQueue;Ls=!1;var C=g.firstBaseUpdate,x=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var L=F,k=L.next;L.next=null,x===null?C=k:x.next=k,x=L;var X=o.alternate;X!==null&&(X=X.updateQueue,F=X.lastBaseUpdate,F!==x&&(F===null?X.firstBaseUpdate=k:F.next=k,X.lastBaseUpdate=L))}if(C!==null){var oe=g.baseState;x=0,X=k=L=null,F=C;do{var U=F.lane&-536870913,q=U!==F.lane;if(q?(ke&U)===U:(d&U)===U){U!==0&&U===ao&&(Ed=!0),X!==null&&(X=X.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var we=o,De=F;U=r;var nt=c;switch(De.tag){case 1:if(we=De.payload,typeof we=="function"){oe=we.call(nt,oe,U);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=De.payload,U=typeof we=="function"?we.call(nt,oe,U):we,U==null)break e;oe=V({},oe,U);break e;case 2:Ls=!0}}U=F.callback,U!==null&&(o.flags|=64,q&&(o.flags|=8192),q=g.callbacks,q===null?g.callbacks=[U]:q.push(U))}else q={lane:U,tag:F.tag,payload:F.payload,callback:F.callback,next:null},X===null?(k=X=q,L=oe):X=X.next=q,x|=U;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;q=F,F=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);X===null&&(L=oe),g.baseState=L,g.firstBaseUpdate=k,g.lastBaseUpdate=X,C===null&&(g.shared.lanes=0),Bs|=x,o.lanes=x,o.memoizedState=oe}}function rC(o,r){if(typeof o!="function")throw Error(s(191,o));o.call(r)}function aC(o,r){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)rC(c[o],r)}function Vr(o,r){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&o)===o){d=void 0;var C=c.create,x=c.inst;d=C(),x.destroy=d}c=c.next}while(c!==g)}}catch(F){_e(r,r.return,F)}}function ks(o,r,c){try{var d=r.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var C=g.next;d=C;do{if((d.tag&o)===o){var x=d.inst,F=x.destroy;if(F!==void 0){x.destroy=void 0,g=r;var L=c;try{F()}catch(k){_e(g,L,k)}}}d=d.next}while(d!==C)}}catch(k){_e(r,r.return,k)}}function lC(o){var r=o.updateQueue;if(r!==null){var c=o.stateNode;try{aC(r,c)}catch(d){_e(o,o.return,d)}}}function cC(o,r,c){c.props=wi(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(d){_e(o,r,d)}}function Ri(o,r){try{var c=o.ref;if(c!==null){var d=o.stateNode;switch(o.tag){case 26:case 27:case 5:var g=d;break;default:g=d}typeof c=="function"?o.refCleanup=c(g):c.current=g}}catch(C){_e(o,r,C)}}function qt(o,r){var c=o.ref,d=o.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){_e(o,r,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){_e(o,r,g)}else c.current=null}function uC(o){var r=o.type,c=o.memoizedProps,d=o.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){_e(o,o.return,g)}}function dC(o,r,c){try{var d=o.stateNode;lE(d,o.type,c,r),d[Gt]=r}catch(g){_e(o,o.return,g)}}function hC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function Dd(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ad(o,r,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,r?c.nodeType===8?c.parentNode.insertBefore(o,r):c.insertBefore(o,r):(c.nodeType===8?(r=c.parentNode,r.insertBefore(o,c)):(r=c,r.appendChild(o)),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Gl));else if(d!==4&&d!==27&&(o=o.child,o!==null))for(Ad(o,r,c),o=o.sibling;o!==null;)Ad(o,r,c),o=o.sibling}function Rl(o,r,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,r?c.insertBefore(o,r):c.appendChild(o);else if(d!==4&&d!==27&&(o=o.child,o!==null))for(Rl(o,r,c),o=o.sibling;o!==null;)Rl(o,r,c),o=o.sibling}var is=!1,et=!1,Fd=!1,fC=typeof WeakSet=="function"?WeakSet:Set,pt=null,gC=!1;function H0(o,r){if(o=o.containerInfo,nh=_l,o=Pp(o),Tu(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,C=d.focusNode;d=d.focusOffset;try{c.nodeType,C.nodeType}catch{c=null;break e}var x=0,F=-1,L=-1,k=0,X=0,oe=o,U=null;t:for(;;){for(var q;oe!==c||g!==0&&oe.nodeType!==3||(F=x+g),oe!==C||d!==0&&oe.nodeType!==3||(L=x+d),oe.nodeType===3&&(x+=oe.nodeValue.length),(q=oe.firstChild)!==null;)U=oe,oe=q;for(;;){if(oe===o)break t;if(U===c&&++k===g&&(F=x),U===C&&++X===d&&(L=x),(q=oe.nextSibling)!==null)break;oe=U,U=oe.parentNode}oe=q}c=F===-1||L===-1?null:{start:F,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(sh={focusedElem:o,selectionRange:c},_l=!1,pt=r;pt!==null;)if(r=pt,o=r.child,(r.subtreeFlags&1028)!==0&&o!==null)o.return=r,pt=o;else for(;pt!==null;){switch(r=pt,C=r.alternate,o=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(o&1024&&C!==null){o=void 0,c=r,g=C.memoizedProps,C=C.memoizedState,d=c.stateNode;try{var we=wi(c.type,g,c.elementType===c.type);o=d.getSnapshotBeforeUpdate(we,C),d.__reactInternalSnapshotBeforeUpdate=o}catch(De){_e(c,c.return,De)}}break;case 3:if(o&1024){if(o=r.stateNode.containerInfo,c=o.nodeType,c===9)ah(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ah(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(o&1024)throw Error(s(163))}if(o=r.sibling,o!==null){o.return=r.return,pt=o;break}pt=r.return}return we=gC,gC=!1,we}function pC(o,r,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:rs(o,c),d&4&&Vr(5,c);break;case 1:if(rs(o,c),d&4)if(o=c.stateNode,r===null)try{o.componentDidMount()}catch(F){_e(c,c.return,F)}else{var g=wi(c.type,r.memoizedProps);r=r.memoizedState;try{o.componentDidUpdate(g,r,o.__reactInternalSnapshotBeforeUpdate)}catch(F){_e(c,c.return,F)}}d&64&&lC(c),d&512&&Ri(c,c.return);break;case 3:if(rs(o,c),d&64&&(d=c.updateQueue,d!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{aC(d,o)}catch(F){_e(c,c.return,F)}}break;case 26:rs(o,c),d&512&&Ri(c,c.return);break;case 27:case 5:rs(o,c),r===null&&d&4&&uC(c),d&512&&Ri(c,c.return);break;case 12:rs(o,c);break;case 13:rs(o,c),d&4&&vC(o,c);break;case 22:if(g=c.memoizedState!==null||is,!g){r=r!==null&&r.memoizedState!==null||et;var C=is,x=et;is=g,(et=r)&&!x?Gs(o,c,(c.subtreeFlags&8772)!==0):rs(o,c),is=C,et=x}d&512&&(c.memoizedProps.mode==="manual"?Ri(c,c.return):qt(c,c.return));break;default:rs(o,c)}}function mC(o){var r=o.alternate;r!==null&&(o.alternate=null,mC(r)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(r=o.stateNode,r!==null&&gu(r)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ut=null,$t=!1;function os(o,r,c){for(c=c.child;c!==null;)CC(o,r,c),c=c.sibling}function CC(o,r,c){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ur,c)}catch{}switch(c.tag){case 26:et||qt(c,r),os(o,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:et||qt(c,r);var d=ut,g=$t;for(ut=c.stateNode,os(o,r,c),c=c.stateNode,r=c.attributes;r.length;)c.removeAttributeNode(r[0]);gu(c),ut=d,$t=g;break;case 5:et||qt(c,r);case 6:g=ut;var C=$t;if(ut=null,os(o,r,c),ut=g,$t=C,ut!==null)if($t)try{o=ut,d=c.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)}catch(x){_e(c,r,x)}else try{ut.removeChild(c.stateNode)}catch(x){_e(c,r,x)}break;case 18:ut!==null&&($t?(r=ut,c=c.stateNode,r.nodeType===8?rh(r.parentNode,c):r.nodeType===1&&rh(r,c),oa(r)):rh(ut,c.stateNode));break;case 4:d=ut,g=$t,ut=c.stateNode.containerInfo,$t=!0,os(o,r,c),ut=d,$t=g;break;case 0:case 11:case 14:case 15:et||ks(2,c,r),et||ks(4,c,r),os(o,r,c);break;case 1:et||(qt(c,r),d=c.stateNode,typeof d.componentWillUnmount=="function"&&cC(c,r,d)),os(o,r,c);break;case 21:os(o,r,c);break;case 22:et||qt(c,r),et=(d=et)||c.memoizedState!==null,os(o,r,c),et=d;break;default:os(o,r,c)}}function vC(o,r){if(r.memoizedState===null&&(o=r.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{oa(o)}catch(c){_e(r,r.return,c)}}function B0(o){switch(o.tag){case 13:case 19:var r=o.stateNode;return r===null&&(r=o.stateNode=new fC),r;case 22:return o=o.stateNode,r=o._retryCache,r===null&&(r=o._retryCache=new fC),r;default:throw Error(s(435,o.tag))}}function Md(o,r){var c=B0(o);r.forEach(function(d){var g=Q0.bind(null,o,d);c.has(d)||(c.add(d),d.then(g,g))})}function un(o,r){var c=r.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],C=o,x=r,F=x;e:for(;F!==null;){switch(F.tag){case 27:case 5:ut=F.stateNode,$t=!1;break e;case 3:ut=F.stateNode.containerInfo,$t=!0;break e;case 4:ut=F.stateNode.containerInfo,$t=!0;break e}F=F.return}if(ut===null)throw Error(s(160));CC(C,x,g),ut=null,$t=!1,C=g.alternate,C!==null&&(C.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)yC(r,o),r=r.sibling}var wn=null;function yC(o,r){var c=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:un(r,o),dn(o),d&4&&(ks(3,o,o.return),Vr(3,o),ks(5,o,o.return));break;case 1:un(r,o),dn(o),d&512&&(et||c===null||qt(c,c.return)),d&64&&is&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=wn;if(un(r,o),dn(o),d&512&&(et||c===null||qt(c,c.return)),d&4){var C=c!==null?c.memoizedState:null;if(d=o.memoizedState,c===null)if(d===null)if(o.stateNode===null){e:{d=o.type,c=o.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":C=g.getElementsByTagName("title")[0],(!C||C[fr]||C[Rt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=g.createElement(d),g.head.insertBefore(C,g.querySelector("head > title"))),bt(C,d,c),C[Rt]=o,ft(C),d=C;break e;case"link":var x=uv("link","href",g).get(d+(c.href||""));if(x){for(var F=0;F<x.length;F++)if(C=x[F],C.getAttribute("href")===(c.href==null?null:c.href)&&C.getAttribute("rel")===(c.rel==null?null:c.rel)&&C.getAttribute("title")===(c.title==null?null:c.title)&&C.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(F,1);break t}}C=g.createElement(d),bt(C,d,c),g.head.appendChild(C);break;case"meta":if(x=uv("meta","content",g).get(d+(c.content||""))){for(F=0;F<x.length;F++)if(C=x[F],C.getAttribute("content")===(c.content==null?null:""+c.content)&&C.getAttribute("name")===(c.name==null?null:c.name)&&C.getAttribute("property")===(c.property==null?null:c.property)&&C.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&C.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(F,1);break t}}C=g.createElement(d),bt(C,d,c),g.head.appendChild(C);break;default:throw Error(s(468,d))}C[Rt]=o,ft(C),d=C}o.stateNode=d}else dv(g,o.type,o.stateNode);else o.stateNode=cv(g,d,o.memoizedProps);else C!==d?(C===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):C.count--,d===null?dv(g,o.type,o.stateNode):cv(g,d,o.memoizedProps)):d===null&&o.stateNode!==null&&dC(o,o.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&o.alternate===null){g=o.stateNode,C=o.memoizedProps;try{for(var L=g.firstChild;L;){var k=L.nextSibling,X=L.nodeName;L[fr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&L.rel.toLowerCase()==="stylesheet"||g.removeChild(L),L=k}for(var oe=o.type,U=g.attributes;U.length;)g.removeAttributeNode(U[0]);bt(g,oe,C),g[Rt]=o,g[Gt]=C}catch(we){_e(o,o.return,we)}}case 5:if(un(r,o),dn(o),d&512&&(et||c===null||qt(c,c.return)),o.flags&32){g=o.stateNode;try{$i(g,"")}catch(we){_e(o,o.return,we)}}d&4&&o.stateNode!=null&&(g=o.memoizedProps,dC(o,g,c!==null?c.memoizedProps:g)),d&1024&&(Fd=!0);break;case 6:if(un(r,o),dn(o),d&4){if(o.stateNode===null)throw Error(s(162));d=o.memoizedProps,c=o.stateNode;try{c.nodeValue=d}catch(we){_e(o,o.return,we)}}break;case 3:if(zl=null,g=wn,wn=Hl(r.containerInfo),un(r,o),wn=g,dn(o),d&4&&c!==null&&c.memoizedState.isDehydrated)try{oa(r.containerInfo)}catch(we){_e(o,o.return,we)}Fd&&(Fd=!1,wC(o));break;case 4:d=wn,wn=Hl(o.stateNode.containerInfo),un(r,o),dn(o),wn=d;break;case 12:un(r,o),dn(o);break;case 13:un(r,o),dn(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Hd=St()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Md(o,d)));break;case 22:if(d&512&&(et||c===null||qt(c,c.return)),L=o.memoizedState!==null,k=c!==null&&c.memoizedState!==null,X=is,oe=et,is=X||L,et=oe||k,un(r,o),et=oe,is=X,dn(o),r=o.stateNode,r._current=o,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,d&8192&&(r._visibility=L?r._visibility&-2:r._visibility|1,L&&(r=is||et,c===null||k||r||fo(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(c=null,r=o;;){if(r.tag===5||r.tag===26||r.tag===27){if(c===null){k=c=r;try{if(g=k.stateNode,L)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{x=k.stateNode,F=k.memoizedProps.style;var q=F!=null&&F.hasOwnProperty("display")?F.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(we){_e(k,k.return,we)}}}else if(r.tag===6){if(c===null){k=r;try{k.stateNode.nodeValue=L?"":k.memoizedProps}catch(we){_e(k,k.return,we)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===o)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=o.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Md(o,c))));break;case 19:un(r,o),dn(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Md(o,d)));break;case 21:break;default:un(r,o),dn(o)}}function dn(o){var r=o.flags;if(r&2){try{if(o.tag!==27){e:{for(var c=o.return;c!==null;){if(hC(c)){var d=c;break e}c=c.return}throw Error(s(160))}switch(d.tag){case 27:var g=d.stateNode,C=Dd(o);Rl(o,C,g);break;case 5:var x=d.stateNode;d.flags&32&&($i(x,""),d.flags&=-33);var F=Dd(o);Rl(o,F,x);break;case 3:case 4:var L=d.stateNode.containerInfo,k=Dd(o);Ad(o,k,L);break;default:throw Error(s(161))}}}catch(X){_e(o,o.return,X)}o.flags&=-3}r&4096&&(o.flags&=-4097)}function wC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var r=o;wC(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),o=o.sibling}}function rs(o,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pC(o,r.alternate,r),r=r.sibling}function fo(o){for(o=o.child;o!==null;){var r=o;switch(r.tag){case 0:case 11:case 14:case 15:ks(4,r,r.return),fo(r);break;case 1:qt(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&cC(r,r.return,c),fo(r);break;case 26:case 27:case 5:qt(r,r.return),fo(r);break;case 22:qt(r,r.return),r.memoizedState===null&&fo(r);break;default:fo(r)}o=o.sibling}}function Gs(o,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,g=o,C=r,x=C.flags;switch(C.tag){case 0:case 11:case 15:Gs(g,C,c),Vr(4,C);break;case 1:if(Gs(g,C,c),d=C,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(k){_e(d,d.return,k)}if(d=C,g=d.updateQueue,g!==null){var F=d.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)rC(L[g],F)}catch(k){_e(d,d.return,k)}}c&&x&64&&lC(C),Ri(C,C.return);break;case 26:case 27:case 5:Gs(g,C,c),c&&d===null&&x&4&&uC(C),Ri(C,C.return);break;case 12:Gs(g,C,c);break;case 13:Gs(g,C,c),c&&x&4&&vC(g,C);break;case 22:C.memoizedState===null&&Gs(g,C,c),Ri(C,C.return);break;default:Gs(g,C,c)}r=r.sibling}}function Td(o,r){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&Pr(c))}function Pd(o,r){o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&Pr(o))}function Ns(o,r,c,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bC(o,r,c,d),r=r.sibling}function bC(o,r,c,d){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(o,r,c,d),g&2048&&Vr(9,r);break;case 3:Ns(o,r,c,d),g&2048&&(o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&Pr(o)));break;case 12:if(g&2048){Ns(o,r,c,d),o=r.stateNode;try{var C=r.memoizedProps,x=C.id,F=C.onPostCommit;typeof F=="function"&&F(x,r.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(L){_e(r,r.return,L)}}else Ns(o,r,c,d);break;case 23:break;case 22:C=r.stateNode,r.memoizedState!==null?C._visibility&4?Ns(o,r,c,d):Wr(o,r):C._visibility&4?Ns(o,r,c,d):(C._visibility|=4,go(o,r,c,d,(r.subtreeFlags&10256)!==0)),g&2048&&Td(r.alternate,r);break;case 24:Ns(o,r,c,d),g&2048&&Pd(r.alternate,r);break;default:Ns(o,r,c,d)}}function go(o,r,c,d,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var C=o,x=r,F=c,L=d,k=x.flags;switch(x.tag){case 0:case 11:case 15:go(C,x,F,L,g),Vr(8,x);break;case 23:break;case 22:var X=x.stateNode;x.memoizedState!==null?X._visibility&4?go(C,x,F,L,g):Wr(C,x):(X._visibility|=4,go(C,x,F,L,g)),g&&k&2048&&Td(x.alternate,x);break;case 24:go(C,x,F,L,g),g&&k&2048&&Pd(x.alternate,x);break;default:go(C,x,F,L,g)}r=r.sibling}}function Wr(o,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=o,d=r,g=d.flags;switch(d.tag){case 22:Wr(c,d),g&2048&&Td(d.alternate,d);break;case 24:Wr(c,d),g&2048&&Pd(d.alternate,d);break;default:Wr(c,d)}r=r.sibling}}var _r=8192;function po(o){if(o.subtreeFlags&_r)for(o=o.child;o!==null;)SC(o),o=o.sibling}function SC(o){switch(o.tag){case 26:po(o),o.flags&_r&&o.memoizedState!==null&&AE(wn,o.memoizedState,o.memoizedProps);break;case 5:po(o);break;case 3:case 4:var r=wn;wn=Hl(o.stateNode.containerInfo),po(o),wn=r;break;case 22:o.memoizedState===null&&(r=o.alternate,r!==null&&r.memoizedState!==null?(r=_r,_r=16777216,po(o),_r=r):po(o));break;default:po(o)}}function RC(o){var r=o.alternate;if(r!==null&&(o=r.child,o!==null)){r.child=null;do r=o.sibling,o.sibling=null,o=r;while(o!==null)}}function Ur(o){var r=o.deletions;if(o.flags&16){if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];pt=d,EC(d,o)}RC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xC(o),o=o.sibling}function xC(o){switch(o.tag){case 0:case 11:case 15:Ur(o),o.flags&2048&&ks(9,o,o.return);break;case 3:Ur(o);break;case 12:Ur(o);break;case 22:var r=o.stateNode;o.memoizedState!==null&&r._visibility&4&&(o.return===null||o.return.tag!==13)?(r._visibility&=-5,xl(o)):Ur(o);break;default:Ur(o)}}function xl(o){var r=o.deletions;if(o.flags&16){if(r!==null)for(var c=0;c<r.length;c++){var d=r[c];pt=d,EC(d,o)}RC(o)}for(o=o.child;o!==null;){switch(r=o,r.tag){case 0:case 11:case 15:ks(8,r,r.return),xl(r);break;case 22:c=r.stateNode,c._visibility&4&&(c._visibility&=-5,xl(r));break;default:xl(r)}o=o.sibling}}function EC(o,r){for(;pt!==null;){var c=pt;switch(c.tag){case 0:case 11:case 15:ks(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Pr(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,pt=d;else e:for(c=o;pt!==null;){d=pt;var g=d.sibling,C=d.return;if(mC(d),d===c){pt=null;break e}if(g!==null){g.return=C,pt=g;break e}pt=C}}}function z0(o,r,c,d){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(o,r,c,d){return new z0(o,r,c,d)}function Ld(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Hs(o,r){var c=o.alternate;return c===null?(c=hn(o.tag,r,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=r,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&31457280,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,r=o.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function DC(o,r){o.flags&=31457282;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,r=c.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o}function El(o,r,c,d,g,C){var x=0;if(d=o,typeof o=="function")Ld(o)&&(x=1);else if(typeof o=="string")x=EE(o,c,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case h:return xi(c.children,g,C,r);case f:x=8,g|=24;break;case p:return o=hn(12,c,r,g|2),o.elementType=p,o.lanes=C,o;case b:return o=hn(13,c,r,g),o.elementType=b,o.lanes=C,o;case R:return o=hn(19,c,r,g),o.elementType=R,o.lanes=C,o;case A:return AC(c,g,C,r);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case m:case y:x=10;break e;case v:x=9;break e;case S:x=11;break e;case E:x=14;break e;case D:x=16,d=null;break e}x=29,c=Error(s(130,o===null?"null":typeof o,"")),d=null}return r=hn(x,c,r,g),r.elementType=o,r.type=d,r.lanes=C,r}function xi(o,r,c,d){return o=hn(7,o,d,r),o.lanes=c,o}function AC(o,r,c,d){o=hn(22,o,d,r),o.elementType=A,o.lanes=c;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=g._current;if(C===null)throw Error(s(456));if(!(g._pendingVisibility&2)){var x=Ds(C,2);x!==null&&(g._pendingVisibility|=2,Lt(x,C,2))}},attach:function(){var C=g._current;if(C===null)throw Error(s(456));if(g._pendingVisibility&2){var x=Ds(C,2);x!==null&&(g._pendingVisibility&=-3,Lt(x,C,2))}}};return o.stateNode=g,o}function Od(o,r,c){return o=hn(6,o,null,r),o.lanes=c,o}function Id(o,r,c){return r=hn(4,o.children!==null?o.children:[],o.key,r),r.lanes=c,r.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},r}function as(o){o.flags|=4}function FC(o,r){if(r.type!=="stylesheet"||r.state.loading&4)o.flags&=-16777217;else if(o.flags|=16777216,!hv(r)){if(r=cn.current,r!==null&&((ke&4194176)===ke?Pn!==null:(ke&62914560)!==ke&&!(ke&536870912)||r!==Pn))throw Fr=Bu,jp;o.flags|=8192}}function Dl(o,r){r!==null&&(o.flags|=4),o.flags&16384&&(r=o.tag!==22?Kg():536870912,o.lanes|=r,Co|=r)}function jr(o,r){if(!He)switch(o.tailMode){case"hidden":r=o.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?r||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function $e(o){var r=o.alternate!==null&&o.alternate.child===o.child,c=0,d=0;if(r)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&31457280,d|=g.flags&31457280,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=d,o.childLanes=c,r}function V0(o,r,c){var d=r.pendingProps;switch(Nu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(r),null;case 1:return $e(r),null;case 3:return c=r.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),ss(ht),ot(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(xr(r)?as(r):o===null||o.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,yn!==null&&(Wd(yn),yn=null))),$e(r),null;case 26:return c=r.memoizedState,o===null?(as(r),c!==null?($e(r),FC(r,c)):($e(r),r.flags&=-16777217)):c?c!==o.memoizedState?(as(r),$e(r),FC(r,c)):($e(r),r.flags&=-16777217):(o.memoizedProps!==d&&as(r),$e(r),r.flags&=-16777217),null;case 27:Ss(r),c=Ae.current;var g=r.type;if(o!==null&&r.stateNode!=null)o.memoizedProps!==d&&as(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return $e(r),null}o=be.current,xr(r)?_p(r):(o=iv(g,d,c),r.stateNode=o,as(r))}return $e(r),null;case 5:if(Ss(r),c=r.type,o!==null&&r.stateNode!=null)o.memoizedProps!==d&&as(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return $e(r),null}if(o=be.current,xr(r))_p(r);else{switch(g=Nl(Ae.current),o){case 1:o=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}o[Rt]=r,o[Gt]=d;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)o.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=o;e:switch(bt(o,c,d),c){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(r)}}return $e(r),r.flags&=-16777217,null;case 6:if(o&&r.stateNode!=null)o.memoizedProps!==d&&as(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(o=Ae.current,xr(r)){if(o=r.stateNode,c=r.memoizedProps,d=null,g=Pt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}o[Rt]=r,o=!!(o.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||QC(o.nodeValue,c)),o||gi(r)}else o=Nl(o).createTextNode(d),o[Rt]=r,r.stateNode=o}return $e(r),null;case 13:if(d=r.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=xr(r),d!==null&&d.dehydrated!==null){if(o===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Rt]=r}else Er(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;$e(r),g=!1}else yn!==null&&(Wd(yn),yn=null),g=!0;if(!g)return r.flags&256?(Jn(r),r):(Jn(r),null)}if(Jn(r),r.flags&128)return r.lanes=c,r;if(c=d!==null,o=o!==null&&o.memoizedState!==null,c){d=r.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var C=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==g&&(d.flags|=2048)}return c!==o&&c&&(r.child.flags|=8192),Dl(r,r.updateQueue),$e(r),null;case 4:return ot(),o===null&&Jd(r.stateNode.containerInfo),$e(r),null;case 10:return ss(r.type),$e(r),null;case 19:if(Ce(dt),g=r.memoizedState,g===null)return $e(r),null;if(d=(r.flags&128)!==0,C=g.rendering,C===null)if(d)jr(g,!1);else{if(tt!==0||o!==null&&o.flags&128)for(o=r.child;o!==null;){if(C=cl(o),C!==null){for(r.flags|=128,jr(g,!1),o=C.updateQueue,r.updateQueue=o,Dl(r,o),r.subtreeFlags=0,o=c,c=r.child;c!==null;)DC(c,o),c=c.sibling;return ue(dt,dt.current&1|2),r.child}o=o.sibling}g.tail!==null&&St()>Al&&(r.flags|=128,d=!0,jr(g,!1),r.lanes=4194304)}else{if(!d)if(o=cl(C),o!==null){if(r.flags|=128,d=!0,o=o.updateQueue,r.updateQueue=o,Dl(r,o),jr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!He)return $e(r),null}else 2*St()-g.renderingStartTime>Al&&c!==536870912&&(r.flags|=128,d=!0,jr(g,!1),r.lanes=4194304);g.isBackwards?(C.sibling=r.child,r.child=C):(o=g.last,o!==null?o.sibling=C:r.child=C,g.last=C)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=St(),r.sibling=null,o=dt.current,ue(dt,d?o&1|2:o&1),r):($e(r),null);case 22:case 23:return Jn(r),Vu(),d=r.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?c&536870912&&!(r.flags&128)&&($e(r),r.subtreeFlags&6&&(r.flags|=8192)):$e(r),c=r.updateQueue,c!==null&&Dl(r,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048),o!==null&&Ce(mi),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ss(ht),$e(r),null;case 25:return null}throw Error(s(156,r.tag))}function W0(o,r){switch(Nu(r),r.tag){case 1:return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 3:return ss(ht),ot(),o=r.flags,o&65536&&!(o&128)?(r.flags=o&-65537|128,r):null;case 26:case 27:case 5:return Ss(r),null;case 13:if(Jn(r),o=r.memoizedState,o!==null&&o.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Er()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 19:return Ce(dt),null;case 4:return ot(),null;case 10:return ss(r.type),null;case 22:case 23:return Jn(r),Vu(),o!==null&&Ce(mi),o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 24:return ss(ht),null;case 25:return null;default:return null}}function MC(o,r){switch(Nu(r),r.tag){case 3:ss(ht),ot();break;case 26:case 27:case 5:Ss(r);break;case 4:ot();break;case 13:Jn(r);break;case 19:Ce(dt);break;case 10:ss(r.type);break;case 22:case 23:Jn(r),Vu(),o!==null&&Ce(mi);break;case 24:ss(ht)}}var _0={getCacheForType:function(o){var r=xt(ht),c=r.data.get(o);return c===void 0&&(c=o(),r.data.set(o,c)),c}},U0=typeof WeakMap=="function"?WeakMap:Map,Xe=0,je=null,Pe=null,ke=0,Ke=0,Xt=null,ls=!1,mo=!1,kd=!1,cs=0,tt=0,Bs=0,Ei=0,Gd=0,fn=0,Co=0,Kr=null,On=null,Nd=!1,Hd=0,Al=1/0,Fl=null,zs=null,Ml=!1,Di=null,Yr=0,Bd=0,zd=null,qr=0,Vd=null;function Zt(){if(Xe&2&&ke!==0)return ke&-ke;if(N.T!==null){var o=ao;return o!==0?o:$d()}return Xg()}function TC(){fn===0&&(fn=!(ke&536870912)||He?jg():536870912);var o=cn.current;return o!==null&&(o.flags|=32),fn}function Lt(o,r,c){(o===je&&Ke===2||o.cancelPendingCommit!==null)&&(vo(o,0),us(o,ke,fn,!1)),hr(o,c),(!(Xe&2)||o!==je)&&(o===je&&(!(Xe&2)&&(Ei|=c),tt===4&&us(o,ke,fn,!1)),In(o))}function PC(o,r,c){if(Xe&6)throw Error(s(327));var d=!c&&(r&60)===0&&(r&o.expiredLanes)===0||dr(o,r),g=d?Y0(o,r):jd(o,r,!0),C=d;do{if(g===0){mo&&!d&&us(o,r,0,!1);break}else if(g===6)us(o,r,0,!ls);else{if(c=o.current.alternate,C&&!j0(c)){g=jd(o,r,!1),C=!1;continue}if(g===2){if(C=r,o.errorRecoveryDisabledLanes&C)var x=0;else x=o.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var F=o;g=Kr;var L=F.current.memoizedState.isDehydrated;if(L&&(vo(F,x).flags|=256),x=jd(F,x,!1),x!==2){if(kd&&!L){F.errorRecoveryDisabledLanes|=C,Ei|=C,g=4;break e}C=On,On=g,C!==null&&Wd(C)}g=x}if(C=!1,g!==2)continue}}if(g===1){vo(o,0),us(o,r,0,!0);break}e:{switch(d=o,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){us(d,r,fn,!ls);break e}break;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if(d.finishedWork=c,d.finishedLanes=r,(r&62914560)===r&&(C=Hd+300-St(),10<C)){if(us(d,r,fn,!ls),Wa(d,0)!==0)break e;d.timeoutHandle=tv(LC.bind(null,d,c,On,Fl,Nd,r,fn,Ei,Co,ls,2,-0,0),C);break e}LC(d,c,On,Fl,Nd,r,fn,Ei,Co,ls,0,-0,0)}}break}while(!0);In(o)}function Wd(o){On===null?On=o:On.push.apply(On,o)}function LC(o,r,c,d,g,C,x,F,L,k,X,oe,U){var q=r.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(ea={stylesheets:null,count:0,unsuspend:DE},SC(r),r=FE(),r!==null)){o.cancelPendingCommit=r(BC.bind(null,o,c,d,g,x,F,L,1,oe,U)),us(o,C,x,!k);return}BC(o,c,d,g,x,F,L,X,oe,U)}function j0(o){for(var r=o;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],C=g.getSnapshot;g=g.value;try{if(!Yt(C(),g))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function us(o,r,c,d){r&=~Gd,r&=~Ei,o.suspendedLanes|=r,o.pingedLanes&=~r,d&&(o.warmLanes|=r),d=o.expirationTimes;for(var g=r;0<g;){var C=31-Kt(g),x=1<<C;d[C]=-1,g&=~x}c!==0&&Yg(o,c,r)}function Tl(){return Xe&6?!0:($r(0),!1)}function _d(){if(Pe!==null){if(Ke===0)var o=Pe.return;else o=Pe,ns=bi=null,$u(o),oo=null,Mr=0,o=Pe;for(;o!==null;)MC(o.alternate,o),o=o.return;Pe=null}}function vo(o,r){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,uE(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),_d(),je=o,Pe=c=Hs(o.current,null),ke=r,Ke=0,Xt=null,ls=!1,mo=dr(o,r),kd=!1,Co=fn=Gd=Ei=Bs=tt=0,On=Kr=null,Nd=!1,r&8&&(r|=r&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=r;0<d;){var g=31-Kt(d),C=1<<g;r|=o[g],d&=~C}return cs=r,el(),c}function OC(o,r){Me=null,N.H=Ln,r===Ar?(r=qp(),Ke=3):r===jp?(r=qp(),Ke=4):Ke=r===Km?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xt=r,Pe===null&&(tt=1,wl(o,rn(r,o.current)))}function IC(){var o=N.H;return N.H=Ln,o===null?Ln:o}function kC(){var o=N.A;return N.A=_0,o}function Ud(){tt=4,ls||(ke&4194176)!==ke&&cn.current!==null||(mo=!0),!(Bs&134217727)&&!(Ei&134217727)||je===null||us(je,ke,fn,!1)}function jd(o,r,c){var d=Xe;Xe|=2;var g=IC(),C=kC();(je!==o||ke!==r)&&(Fl=null,vo(o,r)),r=!1;var x=tt;e:do try{if(Ke!==0&&Pe!==null){var F=Pe,L=Xt;switch(Ke){case 8:_d(),x=6;break e;case 3:case 2:case 6:cn.current===null&&(r=!0);var k=Ke;if(Ke=0,Xt=null,yo(o,F,L,k),c&&mo){x=0;break e}break;default:k=Ke,Ke=0,Xt=null,yo(o,F,L,k)}}K0(),x=tt;break}catch(X){OC(o,X)}while(!0);return r&&o.shellSuspendCounter++,ns=bi=null,Xe=d,N.H=g,N.A=C,Pe===null&&(je=null,ke=0,el()),x}function K0(){for(;Pe!==null;)GC(Pe)}function Y0(o,r){var c=Xe;Xe|=2;var d=IC(),g=kC();je!==o||ke!==r?(Fl=null,Al=St()+500,vo(o,r)):mo=dr(o,r);e:do try{if(Ke!==0&&Pe!==null){r=Pe;var C=Xt;t:switch(Ke){case 1:Ke=0,Xt=null,yo(o,r,C,1);break;case 2:if(Kp(C)){Ke=0,Xt=null,NC(r);break}r=function(){Ke===2&&je===o&&(Ke=7),In(o)},C.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Kp(C)?(Ke=0,Xt=null,NC(r)):(Ke=0,Xt=null,yo(o,r,C,7));break;case 5:var x=null;switch(Pe.tag){case 26:x=Pe.memoizedState;case 5:case 27:var F=Pe;if(!x||hv(x)){Ke=0,Xt=null;var L=F.sibling;if(L!==null)Pe=L;else{var k=F.return;k!==null?(Pe=k,Pl(k)):Pe=null}break t}}Ke=0,Xt=null,yo(o,r,C,5);break;case 6:Ke=0,Xt=null,yo(o,r,C,6);break;case 8:_d(),tt=6;break e;default:throw Error(s(462))}}q0();break}catch(X){OC(o,X)}while(!0);return ns=bi=null,N.H=d,N.A=g,Xe=c,Pe!==null?0:(je=null,ke=0,el(),tt)}function q0(){for(;Pe!==null&&!_i();)GC(Pe)}function GC(o){var r=iC(o.alternate,o,cs);o.memoizedProps=o.pendingProps,r===null?Pl(o):Pe=r}function NC(o){var r=o,c=r.alternate;switch(r.tag){case 15:case 0:r=Qm(c,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Qm(c,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:$u(r);default:MC(c,r),r=Pe=DC(r,cs),r=iC(c,r,cs)}o.memoizedProps=o.pendingProps,r===null?Pl(o):Pe=r}function yo(o,r,c,d){ns=bi=null,$u(r),oo=null,Mr=0;var g=r.return;try{if(G0(o,g,r,c,ke)){tt=1,wl(o,rn(c,o.current)),Pe=null;return}}catch(C){if(g!==null)throw Pe=g,C;tt=1,wl(o,rn(c,o.current)),Pe=null;return}r.flags&32768?(He||d===1?o=!0:mo||ke&536870912?o=!1:(ls=o=!0,(d===2||d===3||d===6)&&(d=cn.current,d!==null&&d.tag===13&&(d.flags|=16384))),HC(r,o)):Pl(r)}function Pl(o){var r=o;do{if(r.flags&32768){HC(r,ls);return}o=r.return;var c=V0(r.alternate,r,cs);if(c!==null){Pe=c;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=o}while(r!==null);tt===0&&(tt=5)}function HC(o,r){do{var c=W0(o.alternate,o);if(c!==null){c.flags&=32767,Pe=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(o=o.sibling,o!==null)){Pe=o;return}Pe=o=c}while(o!==null);tt=6,Pe=null}function BC(o,r,c,d,g,C,x,F,L,k){var X=N.T,oe=ne.p;try{ne.p=2,N.T=null,$0(o,r,c,d,oe,g,C,x,F,L,k)}finally{N.T=X,ne.p=oe}}function $0(o,r,c,d,g,C,x,F){do wo();while(Di!==null);if(Xe&6)throw Error(s(327));var L=o.finishedWork;if(d=o.finishedLanes,L===null)return null;if(o.finishedWork=null,o.finishedLanes=0,L===o.current)throw Error(s(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var k=L.lanes|L.childLanes;if(k|=Iu,Ax(o,d,k,C,x,F),o===je&&(Pe=je=null,ke=0),!(L.subtreeFlags&10256)&&!(L.flags&10256)||Ml||(Ml=!0,Bd=k,zd=c,J0(ze,function(){return wo(),null})),c=(L.flags&15990)!==0,L.subtreeFlags&15990||c?(c=N.T,N.T=null,C=ne.p,ne.p=2,x=Xe,Xe|=4,H0(o,L),yC(L,o),y0(sh,o.containerInfo),_l=!!nh,sh=nh=null,o.current=L,pC(o,L.alternate,L),lr(),Xe=x,ne.p=C,N.T=c):o.current=L,Ml?(Ml=!1,Di=o,Yr=d):zC(o,k),k=o.pendingLanes,k===0&&(zs=null),Sx(L.stateNode),In(o),r!==null)for(g=o.onRecoverableError,L=0;L<r.length;L++)k=r[L],g(k.value,{componentStack:k.stack});return Yr&3&&wo(),k=o.pendingLanes,d&4194218&&k&42?o===Vd?qr++:(qr=0,Vd=o):qr=0,$r(0),null}function zC(o,r){(o.pooledCacheLanes&=r)===0&&(r=o.pooledCache,r!=null&&(o.pooledCache=null,Pr(r)))}function wo(){if(Di!==null){var o=Di,r=Bd;Bd=0;var c=$g(Yr),d=N.T,g=ne.p;try{if(ne.p=32>c?32:c,N.T=null,Di===null)var C=!1;else{c=zd,zd=null;var x=Di,F=Yr;if(Di=null,Yr=0,Xe&6)throw Error(s(331));var L=Xe;if(Xe|=4,xC(x.current),bC(x,x.current,F,c),Xe=L,$r(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ur,x)}catch{}C=!0}return C}finally{ne.p=g,N.T=d,zC(o,r)}}return!1}function VC(o,r,c){r=rn(c,r),r=cd(o.stateNode,r,2),o=Is(o,r,2),o!==null&&(hr(o,2),In(o))}function _e(o,r,c){if(o.tag===3)VC(o,o,c);else for(;r!==null;){if(r.tag===3){VC(r,o,c);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))){o=rn(c,o),c=Um(2),d=Is(r,c,2),d!==null&&(jm(c,d,r,o),hr(d,2),In(d));break}}r=r.return}}function Kd(o,r,c){var d=o.pingCache;if(d===null){d=o.pingCache=new U0;var g=new Set;d.set(r,g)}else g=d.get(r),g===void 0&&(g=new Set,d.set(r,g));g.has(c)||(kd=!0,g.add(c),o=X0.bind(null,o,r,c),r.then(o,o))}function X0(o,r,c){var d=o.pingCache;d!==null&&d.delete(r),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,je===o&&(ke&c)===c&&(tt===4||tt===3&&(ke&62914560)===ke&&300>St()-Hd?!(Xe&2)&&vo(o,0):Gd|=c,Co===ke&&(Co=0)),In(o)}function WC(o,r){r===0&&(r=Kg()),o=Ds(o,r),o!==null&&(hr(o,r),In(o))}function Z0(o){var r=o.memoizedState,c=0;r!==null&&(c=r.retryLane),WC(o,c)}function Q0(o,r){var c=0;switch(o.tag){case 13:var d=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),WC(o,c)}function J0(o,r){return qn(o,r)}var Ll=null,bo=null,Yd=!1,Ol=!1,qd=!1,Ai=0;function In(o){o!==bo&&o.next===null&&(bo===null?Ll=bo=o:bo=bo.next=o),Ol=!0,Yd||(Yd=!0,tE(eE))}function $r(o,r){if(!qd&&Ol){qd=!0;do for(var c=!1,d=Ll;d!==null;){if(o!==0){var g=d.pendingLanes;if(g===0)var C=0;else{var x=d.suspendedLanes,F=d.pingedLanes;C=(1<<31-Kt(42|o)+1)-1,C&=g&~(x&~F),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(c=!0,jC(d,C))}else C=ke,C=Wa(d,d===je?C:0),!(C&3)||dr(d,C)||(c=!0,jC(d,C));d=d.next}while(c);qd=!1}}function eE(){Ol=Yd=!1;var o=0;Ai!==0&&(cE()&&(o=Ai),Ai=0);for(var r=St(),c=null,d=Ll;d!==null;){var g=d.next,C=_C(d,r);C===0?(d.next=null,c===null?Ll=g:c.next=g,g===null&&(bo=c)):(c=d,(o!==0||C&3)&&(Ol=!0)),d=g}$r(o)}function _C(o,r){for(var c=o.suspendedLanes,d=o.pingedLanes,g=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var x=31-Kt(C),F=1<<x,L=g[x];L===-1?(!(F&c)||F&d)&&(g[x]=Dx(F,r)):L<=r&&(o.expiredLanes|=F),C&=~F}if(r=je,c=ke,c=Wa(o,o===r?c:0),d=o.callbackNode,c===0||o===r&&Ke===2||o.cancelPendingCommit!==null)return d!==null&&d!==null&&Mt(d),o.callbackNode=null,o.callbackPriority=0;if(!(c&3)||dr(o,c)){if(r=c&-c,r===o.callbackPriority)return r;switch(d!==null&&Mt(d),$g(c)){case 2:case 8:c=cr;break;case 32:c=ze;break;case 268435456:c=Ba;break;default:c=ze}return d=UC.bind(null,o),c=qn(c,d),o.callbackPriority=r,o.callbackNode=c,r}return d!==null&&d!==null&&Mt(d),o.callbackPriority=2,o.callbackNode=null,2}function UC(o,r){var c=o.callbackNode;if(wo()&&o.callbackNode!==c)return null;var d=ke;return d=Wa(o,o===je?d:0),d===0?null:(PC(o,d,r),_C(o,St()),o.callbackNode!=null&&o.callbackNode===c?UC.bind(null,o):null)}function jC(o,r){if(wo())return null;PC(o,r,!0)}function tE(o){dE(function(){Xe&6?qn(Ha,o):o()})}function $d(){return Ai===0&&(Ai=jg()),Ai}function KC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ya(""+o)}function YC(o,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,o.id&&c.setAttribute("form",o.id),r.parentNode.insertBefore(c,r),o=new FormData(o),c.parentNode.removeChild(c),o}function nE(o,r,c,d,g){if(r==="submit"&&c&&c.stateNode===g){var C=KC((g[Gt]||null).action),x=d.submitter;x&&(r=(r=x[Gt]||null)?KC(r.formAction):x.getAttribute("formAction"),r!==null&&(C=r,x=null));var F=new Za("action","action",null,d,g);o.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ai!==0){var L=x?YC(g,x):new FormData(g);id(c,{pending:!0,data:L,method:g.method,action:C},null,L)}}else typeof C=="function"&&(F.preventDefault(),L=x?YC(g,x):new FormData(g),id(c,{pending:!0,data:L,method:g.method,action:C},C,L))},currentTarget:g}]})}}for(var Xd=0;Xd<Bp.length;Xd++){var Zd=Bp[Xd],sE=Zd.toLowerCase(),iE=Zd[0].toUpperCase()+Zd.slice(1);vn(sE,"on"+iE)}vn(Ip,"onAnimationEnd"),vn(kp,"onAnimationIteration"),vn(Gp,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(b0,"onTransitionRun"),vn(S0,"onTransitionStart"),vn(R0,"onTransitionCancel"),vn(Np,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xr));function qC(o,r){r=(r&4)!==0;for(var c=0;c<o.length;c++){var d=o[c],g=d.event;d=d.listeners;e:{var C=void 0;if(r)for(var x=d.length-1;0<=x;x--){var F=d[x],L=F.instance,k=F.currentTarget;if(F=F.listener,L!==C&&g.isPropagationStopped())break e;C=F,g.currentTarget=k;try{C(g)}catch(X){yl(X)}g.currentTarget=null,C=L}else for(x=0;x<d.length;x++){if(F=d[x],L=F.instance,k=F.currentTarget,F=F.listener,L!==C&&g.isPropagationStopped())break e;C=F,g.currentTarget=k;try{C(g)}catch(X){yl(X)}g.currentTarget=null,C=L}}}}function Le(o,r){var c=r[fu];c===void 0&&(c=r[fu]=new Set);var d=o+"__bubble";c.has(d)||($C(r,o,2,!1),c.add(d))}function Qd(o,r,c){var d=0;r&&(d|=4),$C(c,o,d,r)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Jd(o){if(!o[Il]){o[Il]=!0,Qg.forEach(function(c){c!=="selectionchange"&&(oE.has(c)||Qd(c,!1,o),Qd(c,!0,o))});var r=o.nodeType===9?o:o.ownerDocument;r===null||r[Il]||(r[Il]=!0,Qd("selectionchange",!1,r))}}function $C(o,r,c,d){switch(vv(r)){case 2:var g=PE;break;case 8:g=LE;break;default:g=hh}c=g.bind(null,r,c,o),g=void 0,!bu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),d?g!==void 0?o.addEventListener(r,c,{capture:!0,passive:g}):o.addEventListener(r,c,!0):g!==void 0?o.addEventListener(r,c,{passive:g}):o.addEventListener(r,c,!1)}function eh(o,r,c,d,g){var C=d;if(!(r&1)&&!(r&2)&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var F=d.stateNode.containerInfo;if(F===g||F.nodeType===8&&F.parentNode===g)break;if(x===4)for(x=d.return;x!==null;){var L=x.tag;if((L===3||L===4)&&(L=x.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;x=x.return}for(;F!==null;){if(x=ai(F),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){d=C=x;continue e}F=F.parentNode}}d=d.return}up(function(){var k=C,X=yu(c),oe=[];e:{var U=Hp.get(o);if(U!==void 0){var q=Za,we=o;switch(o){case"keypress":if($a(c)===0)break e;case"keydown":case"keyup":q=Qx;break;case"focusin":we="focus",q=Eu;break;case"focusout":we="blur",q=Eu;break;case"beforeblur":case"afterblur":q=Eu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=t0;break;case Ip:case kp:case Gp:q=_x;break;case Np:q=s0;break;case"scroll":case"scrollend":q=Hx;break;case"wheel":q=o0;break;case"copy":case"cut":case"paste":q=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=pp;break;case"toggle":case"beforetoggle":q=a0}var De=(r&4)!==0,nt=!De&&(o==="scroll"||o==="scrollend"),B=De?U!==null?U+"Capture":null:U;De=[];for(var I=k,W;I!==null;){var te=I;if(W=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||W===null||B===null||(te=pr(I,B),te!=null&&De.push(Zr(I,te,W))),nt)break;I=I.return}0<De.length&&(U=new q(U,we,null,c,X),oe.push({event:U,listeners:De}))}}if(!(r&7)){e:{if(U=o==="mouseover"||o==="pointerover",q=o==="mouseout"||o==="pointerout",U&&c!==vu&&(we=c.relatedTarget||c.fromElement)&&(ai(we)||we[Ui]))break e;if((q||U)&&(U=X.window===X?X:(U=X.ownerDocument)?U.defaultView||U.parentWindow:window,q?(we=c.relatedTarget||c.toElement,q=k,we=we?ai(we):null,we!==null&&(nt=Y(we),De=we.tag,we!==nt||De!==5&&De!==27&&De!==6)&&(we=null)):(q=null,we=k),q!==we)){if(De=fp,te="onMouseLeave",B="onMouseEnter",I="mouse",(o==="pointerout"||o==="pointerover")&&(De=pp,te="onPointerLeave",B="onPointerEnter",I="pointer"),nt=q==null?U:gr(q),W=we==null?U:gr(we),U=new De(te,I+"leave",q,c,X),U.target=nt,U.relatedTarget=W,te=null,ai(X)===k&&(De=new De(B,I+"enter",we,c,X),De.target=W,De.relatedTarget=nt,te=De),nt=te,q&&we)t:{for(De=q,B=we,I=0,W=De;W;W=So(W))I++;for(W=0,te=B;te;te=So(te))W++;for(;0<I-W;)De=So(De),I--;for(;0<W-I;)B=So(B),W--;for(;I--;){if(De===B||B!==null&&De===B.alternate)break t;De=So(De),B=So(B)}De=null}else De=null;q!==null&&XC(oe,U,q,De,!1),we!==null&&nt!==null&&XC(oe,nt,we,De,!0)}}e:{if(U=k?gr(k):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var fe=Rp;else if(bp(U))if(xp)fe=C0;else{fe=p0;var Te=g0}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?k&&Cu(k.elementType)&&(fe=Rp):fe=m0;if(fe&&(fe=fe(o,k))){Sp(oe,fe,c,X);break e}Te&&Te(o,U,k),o==="focusout"&&k&&U.type==="number"&&k.memoizedProps.value!=null&&mu(U,"number",U.value)}switch(Te=k?gr(k):window,o){case"focusin":(bp(Te)||Te.contentEditable==="true")&&(Ji=Te,Pu=k,Rr=null);break;case"focusout":Rr=Pu=Ji=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Lp(oe,c,X);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":Lp(oe,c,X)}var Se;if(Au)e:{switch(o){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Qi?yp(o,c)&&(Re="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(mp&&c.locale!=="ko"&&(Qi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Qi&&(Se=dp()):(Es=X,Su="value"in Es?Es.value:Es.textContent,Qi=!0)),Te=kl(k,Re),0<Te.length&&(Re=new gp(Re,o,null,c,X),oe.push({event:Re,listeners:Te}),Se?Re.data=Se:(Se=wp(c),Se!==null&&(Re.data=Se)))),(Se=c0?u0(o,c):d0(o,c))&&(Re=kl(k,"onBeforeInput"),0<Re.length&&(Te=new gp("onBeforeInput","beforeinput",null,c,X),oe.push({event:Te,listeners:Re}),Te.data=Se)),nE(oe,o,k,c,X)}qC(oe,r)})}function Zr(o,r,c){return{instance:o,listener:r,currentTarget:c}}function kl(o,r){for(var c=r+"Capture",d=[];o!==null;){var g=o,C=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||C===null||(g=pr(o,c),g!=null&&d.unshift(Zr(o,g,C)),g=pr(o,r),g!=null&&d.push(Zr(o,g,C))),o=o.return}return d}function So(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function XC(o,r,c,d,g){for(var C=r._reactName,x=[];c!==null&&c!==d;){var F=c,L=F.alternate,k=F.stateNode;if(F=F.tag,L!==null&&L===d)break;F!==5&&F!==26&&F!==27||k===null||(L=k,g?(k=pr(c,C),k!=null&&x.unshift(Zr(c,k,L))):g||(k=pr(c,C),k!=null&&x.push(Zr(c,k,L)))),c=c.return}x.length!==0&&o.push({event:r,listeners:x})}var rE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function ZC(o){return(typeof o=="string"?o:""+o).replace(rE,`
`).replace(aE,"")}function QC(o,r){return r=ZC(r),ZC(o)===r}function Gl(){}function We(o,r,c,d,g,C){switch(c){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||$i(o,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&$i(o,""+d);break;case"className":Ua(o,"class",d);break;case"tabIndex":Ua(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ua(o,c,d);break;case"style":lp(o,d,C);break;case"data":if(r!=="object"){Ua(o,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||c!=="href")){o.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(c);break}d=Ya(""+d),o.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(c==="formAction"?(r!=="input"&&We(o,r,"name",g.name,g,null),We(o,r,"formEncType",g.formEncType,g,null),We(o,r,"formMethod",g.formMethod,g,null),We(o,r,"formTarget",g.formTarget,g,null)):(We(o,r,"encType",g.encType,g,null),We(o,r,"method",g.method,g,null),We(o,r,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(c);break}d=Ya(""+d),o.setAttribute(c,d);break;case"onClick":d!=null&&(o.onclick=Gl);break;case"onScroll":d!=null&&Le("scroll",o);break;case"onScrollEnd":d!=null&&Le("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(s(60));o.innerHTML=c}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}c=Ya(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(c,""+d):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":d===!0?o.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(c,d):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(c,d):o.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(c):o.setAttribute(c,d);break;case"popover":Le("beforetoggle",o),Le("toggle",o),_a(o,"popover",d);break;case"xlinkActuate":Xn(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Xn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Xn(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Xn(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Xn(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Xn(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Xn(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Xn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Xn(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":_a(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gx.get(c)||c,_a(o,c,d))}}function th(o,r,c,d,g,C){switch(c){case"style":lp(o,d,C);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(s(60));o.innerHTML=c}}break;case"children":typeof d=="string"?$i(o,d):(typeof d=="number"||typeof d=="bigint")&&$i(o,""+d);break;case"onScroll":d!=null&&Le("scroll",o);break;case"onScrollEnd":d!=null&&Le("scrollend",o);break;case"onClick":d!=null&&(o.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jg.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),r=c.slice(2,g?c.length-7:void 0),C=o[Gt]||null,C=C!=null?C[c]:null,typeof C=="function"&&o.removeEventListener(r,C,g),typeof d=="function")){typeof C!="function"&&C!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(r,d,g);break e}c in o?o[c]=d:d===!0?o.setAttribute(c,""):_a(o,c,d)}}}function bt(o,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",o),Le("load",o);var d=!1,g=!1,C;for(C in c)if(c.hasOwnProperty(C)){var x=c[C];if(x!=null)switch(C){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(o,r,C,x,c,null)}}g&&We(o,r,"srcSet",c.srcSet,c,null),d&&We(o,r,"src",c.src,c,null);return;case"input":Le("invalid",o);var F=C=x=g=null,L=null,k=null;for(d in c)if(c.hasOwnProperty(d)){var X=c[d];if(X!=null)switch(d){case"name":g=X;break;case"type":x=X;break;case"checked":L=X;break;case"defaultChecked":k=X;break;case"value":C=X;break;case"defaultValue":F=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(o,r,d,X,c,null)}}ip(o,C,F,L,k,x,g,!1),ja(o);return;case"select":Le("invalid",o),d=x=C=null;for(g in c)if(c.hasOwnProperty(g)&&(F=c[g],F!=null))switch(g){case"value":C=F;break;case"defaultValue":x=F;break;case"multiple":d=F;default:We(o,r,g,F,c,null)}r=C,c=x,o.multiple=!!d,r!=null?qi(o,!!d,r,!1):c!=null&&qi(o,!!d,c,!0);return;case"textarea":Le("invalid",o),C=g=d=null;for(x in c)if(c.hasOwnProperty(x)&&(F=c[x],F!=null))switch(x){case"value":d=F;break;case"defaultValue":g=F;break;case"children":C=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(91));break;default:We(o,r,x,F,c,null)}rp(o,d,g,C),ja(o);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(d=c[L],d!=null))switch(L){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:We(o,r,L,d,c,null)}return;case"dialog":Le("cancel",o),Le("close",o);break;case"iframe":case"object":Le("load",o);break;case"video":case"audio":for(d=0;d<Xr.length;d++)Le(Xr[d],o);break;case"image":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"embed":case"source":case"link":Le("error",o),Le("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in c)if(c.hasOwnProperty(k)&&(d=c[k],d!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(o,r,k,d,c,null)}return;default:if(Cu(r)){for(X in c)c.hasOwnProperty(X)&&(d=c[X],d!==void 0&&th(o,r,X,d,c,void 0));return}}for(F in c)c.hasOwnProperty(F)&&(d=c[F],d!=null&&We(o,r,F,d,c,null))}function lE(o,r,c,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,C=null,x=null,F=null,L=null,k=null,X=null;for(q in c){var oe=c[q];if(c.hasOwnProperty(q)&&oe!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":L=oe;default:d.hasOwnProperty(q)||We(o,r,q,null,d,oe)}}for(var U in d){var q=d[U];if(oe=c[U],d.hasOwnProperty(U)&&(q!=null||oe!=null))switch(U){case"type":C=q;break;case"name":g=q;break;case"checked":k=q;break;case"defaultChecked":X=q;break;case"value":x=q;break;case"defaultValue":F=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==oe&&We(o,r,U,q,d,oe)}}pu(o,x,F,L,k,X,C,g);return;case"select":q=x=F=U=null;for(C in c)if(L=c[C],c.hasOwnProperty(C)&&L!=null)switch(C){case"value":break;case"multiple":q=L;default:d.hasOwnProperty(C)||We(o,r,C,null,d,L)}for(g in d)if(C=d[g],L=c[g],d.hasOwnProperty(g)&&(C!=null||L!=null))switch(g){case"value":U=C;break;case"defaultValue":F=C;break;case"multiple":x=C;default:C!==L&&We(o,r,g,C,d,L)}r=F,c=x,d=q,U!=null?qi(o,!!c,U,!1):!!d!=!!c&&(r!=null?qi(o,!!c,r,!0):qi(o,!!c,c?[]:"",!1));return;case"textarea":q=U=null;for(F in c)if(g=c[F],c.hasOwnProperty(F)&&g!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:We(o,r,F,null,d,g)}for(x in d)if(g=d[x],C=c[x],d.hasOwnProperty(x)&&(g!=null||C!=null))switch(x){case"value":U=g;break;case"defaultValue":q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==C&&We(o,r,x,g,d,C)}op(o,U,q);return;case"option":for(var we in c)if(U=c[we],c.hasOwnProperty(we)&&U!=null&&!d.hasOwnProperty(we))switch(we){case"selected":o.selected=!1;break;default:We(o,r,we,null,d,U)}for(L in d)if(U=d[L],q=c[L],d.hasOwnProperty(L)&&U!==q&&(U!=null||q!=null))switch(L){case"selected":o.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:We(o,r,L,U,d,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)U=c[De],c.hasOwnProperty(De)&&U!=null&&!d.hasOwnProperty(De)&&We(o,r,De,null,d,U);for(k in d)if(U=d[k],q=c[k],d.hasOwnProperty(k)&&U!==q&&(U!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,r));break;default:We(o,r,k,U,d,q)}return;default:if(Cu(r)){for(var nt in c)U=c[nt],c.hasOwnProperty(nt)&&U!==void 0&&!d.hasOwnProperty(nt)&&th(o,r,nt,void 0,d,U);for(X in d)U=d[X],q=c[X],!d.hasOwnProperty(X)||U===q||U===void 0&&q===void 0||th(o,r,X,U,d,q);return}}for(var B in c)U=c[B],c.hasOwnProperty(B)&&U!=null&&!d.hasOwnProperty(B)&&We(o,r,B,null,d,U);for(oe in d)U=d[oe],q=c[oe],!d.hasOwnProperty(oe)||U===q||U==null&&q==null||We(o,r,oe,U,d,q)}var nh=null,sh=null;function Nl(o){return o.nodeType===9?o:o.ownerDocument}function JC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(o,r){if(o===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&r==="foreignObject"?0:o}function ih(o,r){return o==="textarea"||o==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var oh=null;function cE(){var o=window.event;return o&&o.type==="popstate"?o===oh?!1:(oh=o,!0):(oh=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(o){return nv.resolve(null).then(o).catch(hE)}:tv;function hE(o){setTimeout(function(){throw o})}function rh(o,r){var c=r,d=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(d===0){o.removeChild(g),oa(r);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=g}while(c);oa(r)}function ah(o){var r=o.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ah(c),gu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function fE(o,r,c,d){for(;o.nodeType===1;){var g=c;if(o.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[fr])switch(r){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==g.rel||o.getAttribute("href")!==(g.href==null?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(r==="input"&&o.type==="hidden"){var C=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=bn(o.nextSibling),o===null)break}return null}function gE(o,r,c){if(r==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=bn(o.nextSibling),o===null))return null;return o}function bn(o){for(;o!=null;o=o.nextSibling){var r=o.nodeType;if(r===1||r===3)break;if(r===8){if(r=o.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return o}function sv(o){o=o.previousSibling;for(var r=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(r===0)return o;r--}else c==="/$"&&r++}o=o.previousSibling}return null}function iv(o,r,c){switch(r=Nl(c),o){case"html":if(o=r.documentElement,!o)throw Error(s(452));return o;case"head":if(o=r.head,!o)throw Error(s(453));return o;case"body":if(o=r.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}var gn=new Map,ov=new Set;function Hl(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var ds=ne.d;ne.d={f:pE,r:mE,D:CE,C:vE,L:yE,m:wE,X:SE,S:bE,M:RE};function pE(){var o=ds.f(),r=Tl();return o||r}function mE(o){var r=ji(o);r!==null&&r.tag===5&&r.type==="form"?Lm(r):ds.r(o)}var Ro=typeof document>"u"?null:document;function rv(o,r,c){var d=Ro;if(d&&typeof r=="string"&&r){var g=sn(r);g='link[rel="'+o+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),ov.has(g)||(ov.add(g),o={rel:o,crossOrigin:c,href:r},d.querySelector(g)===null&&(r=d.createElement("link"),bt(r,"link",o),ft(r),d.head.appendChild(r)))}}function CE(o){ds.D(o),rv("dns-prefetch",o,null)}function vE(o,r){ds.C(o,r),rv("preconnect",o,r)}function yE(o,r,c){ds.L(o,r,c);var d=Ro;if(d&&o&&r){var g='link[rel="preload"][as="'+sn(r)+'"]';r==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+sn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+sn(c.imageSizes)+'"]')):g+='[href="'+sn(o)+'"]';var C=g;switch(r){case"style":C=xo(o);break;case"script":C=Eo(o)}gn.has(C)||(o=V({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:o,as:r},c),gn.set(C,o),d.querySelector(g)!==null||r==="style"&&d.querySelector(Qr(C))||r==="script"&&d.querySelector(Jr(C))||(r=d.createElement("link"),bt(r,"link",o),ft(r),d.head.appendChild(r)))}}function wE(o,r){ds.m(o,r);var c=Ro;if(c&&o){var d=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+sn(d)+'"][href="'+sn(o)+'"]',C=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Eo(o)}if(!gn.has(C)&&(o=V({rel:"modulepreload",href:o},r),gn.set(C,o),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Jr(C)))return}d=c.createElement("link"),bt(d,"link",o),ft(d),c.head.appendChild(d)}}}function bE(o,r,c){ds.S(o,r,c);var d=Ro;if(d&&o){var g=Ki(d).hoistableStyles,C=xo(o);r=r||"default";var x=g.get(C);if(!x){var F={loading:0,preload:null};if(x=d.querySelector(Qr(C)))F.loading=5;else{o=V({rel:"stylesheet",href:o,"data-precedence":r},c),(c=gn.get(C))&&lh(o,c);var L=x=d.createElement("link");ft(L),bt(L,"link",o),L._p=new Promise(function(k,X){L.onload=k,L.onerror=X}),L.addEventListener("load",function(){F.loading|=1}),L.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Bl(x,r,d)}x={type:"stylesheet",instance:x,count:1,state:F},g.set(C,x)}}}function SE(o,r){ds.X(o,r);var c=Ro;if(c&&o){var d=Ki(c).hoistableScripts,g=Eo(o),C=d.get(g);C||(C=c.querySelector(Jr(g)),C||(o=V({src:o,async:!0},r),(r=gn.get(g))&&ch(o,r),C=c.createElement("script"),ft(C),bt(C,"link",o),c.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},d.set(g,C))}}function RE(o,r){ds.M(o,r);var c=Ro;if(c&&o){var d=Ki(c).hoistableScripts,g=Eo(o),C=d.get(g);C||(C=c.querySelector(Jr(g)),C||(o=V({src:o,async:!0,type:"module"},r),(r=gn.get(g))&&ch(o,r),C=c.createElement("script"),ft(C),bt(C,"link",o),c.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},d.set(g,C))}}function av(o,r,c,d){var g=(g=Ae.current)?Hl(g):null;if(!g)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=xo(c.href),c=Ki(g).hoistableStyles,d=c.get(r),d||(d={type:"style",instance:null,count:0,state:null},c.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=xo(c.href);var C=Ki(g).hoistableStyles,x=C.get(o);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,x),(C=g.querySelector(Qr(o)))&&!C._p&&(x.instance=C,x.state.loading=5),gn.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},gn.set(o,c),C||xE(g,o,c,x.state))),r&&d===null)throw Error(s(528,""));return x}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(c),c=Ki(g).hoistableScripts,d=c.get(r),d||(d={type:"script",instance:null,count:0,state:null},c.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function xo(o){return'href="'+sn(o)+'"'}function Qr(o){return'link[rel="stylesheet"]['+o+"]"}function lv(o){return V({},o,{"data-precedence":o.precedence,precedence:null})}function xE(o,r,c,d){o.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=o.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),bt(r,"link",c),ft(r),o.head.appendChild(r))}function Eo(o){return'[src="'+sn(o)+'"]'}function Jr(o){return"script[async]"+o}function cv(o,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var d=o.querySelector('style[data-href~="'+sn(c.href)+'"]');if(d)return r.instance=d,ft(d),d;var g=V({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),ft(d),bt(d,"style",g),Bl(d,c.precedence,o),r.instance=d;case"stylesheet":g=xo(c.href);var C=o.querySelector(Qr(g));if(C)return r.state.loading|=4,r.instance=C,ft(C),C;d=lv(c),(g=gn.get(g))&&lh(d,g),C=(o.ownerDocument||o).createElement("link"),ft(C);var x=C;return x._p=new Promise(function(F,L){x.onload=F,x.onerror=L}),bt(C,"link",d),r.state.loading|=4,Bl(C,c.precedence,o),r.instance=C;case"script":return C=Eo(c.src),(g=o.querySelector(Jr(C)))?(r.instance=g,ft(g),g):(d=c,(g=gn.get(C))&&(d=V({},c),ch(d,g)),o=o.ownerDocument||o,g=o.createElement("script"),ft(g),bt(g,"link",d),o.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(d=r.instance,r.state.loading|=4,Bl(d,c.precedence,o));return r.instance}function Bl(o,r,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,C=g,x=0;x<d.length;x++){var F=d[x];if(F.dataset.precedence===r)C=F;else if(C!==g)break}C?C.parentNode.insertBefore(o,C.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(o,r.firstChild))}function lh(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.title==null&&(o.title=r.title)}function ch(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.integrity==null&&(o.integrity=r.integrity)}var zl=null;function uv(o,r,c){if(zl===null){var d=new Map,g=zl=new Map;g.set(c,d)}else g=zl,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(o))return d;for(d.set(o,null),c=c.getElementsByTagName(o),g=0;g<c.length;g++){var C=c[g];if(!(C[fr]||C[Rt]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var x=C.getAttribute(r)||"";x=o+x;var F=d.get(x);F?F.push(C):d.set(x,[C])}}return d}function dv(o,r,c){o=o.ownerDocument||o,o.head.insertBefore(c,r==="title"?o.querySelector("head > title"):null)}function EE(o,r,c){if(c===1||r.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return o=r.disabled,typeof r.precedence=="string"&&o==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hv(o){return!(o.type==="stylesheet"&&!(o.state.loading&3))}var ea=null;function DE(){}function AE(o,r,c){if(ea===null)throw Error(s(475));var d=ea;if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var g=xo(c.href),C=o.querySelector(Qr(g));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Vl.bind(d),o.then(d,d)),r.state.loading|=4,r.instance=C,ft(C);return}C=o.ownerDocument||o,c=lv(c),(g=gn.get(g))&&lh(c,g),C=C.createElement("link"),ft(C);var x=C;x._p=new Promise(function(F,L){x.onload=F,x.onerror=L}),bt(C,"link",c),r.instance=C}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,o),(o=r.state.preload)&&!(r.state.loading&3)&&(d.count++,r=Vl.bind(d),o.addEventListener("load",r),o.addEventListener("error",r))}}function FE(){if(ea===null)throw Error(s(475));var o=ea;return o.stylesheets&&o.count===0&&uh(o,o.stylesheets),0<o.count?function(r){var c=setTimeout(function(){if(o.stylesheets&&uh(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=r,function(){o.unsuspend=null,clearTimeout(c)}}:null}function Vl(){if(this.count--,this.count===0){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wl=null;function uh(o,r){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wl=new Map,r.forEach(ME,o),Wl=null,Vl.call(o))}function ME(o,r){if(!(r.state.loading&4)){var c=Wl.get(o);if(c)var d=c.get(null);else{c=new Map,Wl.set(o,c);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<g.length;C++){var x=g[C];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),d=x)}d&&c.set(null,d)}g=r.instance,x=g.getAttribute("data-precedence"),C=c.get(x)||d,C===d&&c.set(null,g),c.set(x,g),this.count++,d=Vl.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),C?C.parentNode.insertBefore(g,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),r.state.loading|=4}}var ta={$$typeof:y,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function TE(o,r,c,d,g,C,x,F){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.hiddenUpdates=hu(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=C,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function fv(o,r,c,d,g,C,x,F,L,k,X,oe){return o=new TE(o,r,c,x,F,L,k,oe),r=1,C===!0&&(r|=24),C=hn(3,null,null,r),o.current=C,C.stateNode=o,r=Wu(),r.refCount++,o.pooledCache=r,r.refCount++,C.memoizedState={element:d,isDehydrated:c,cache:r},Sd(C),o}function gv(o){return o?(o=no,o):no}function pv(o,r,c,d,g,C){g=gv(g),d.context===null?d.context=g:d.pendingContext=g,d=Os(r),d.payload={element:c},C=C===void 0?null:C,C!==null&&(d.callback=C),c=Is(o,d,r),c!==null&&(Lt(c,o,r),Hr(c,o,r))}function mv(o,r){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<r?c:r}}function dh(o,r){mv(o,r),(o=o.alternate)&&mv(o,r)}function Cv(o){if(o.tag===13){var r=Ds(o,67108864);r!==null&&Lt(r,o,67108864),dh(o,67108864)}}var _l=!0;function PE(o,r,c,d){var g=N.T;N.T=null;var C=ne.p;try{ne.p=2,hh(o,r,c,d)}finally{ne.p=C,N.T=g}}function LE(o,r,c,d){var g=N.T;N.T=null;var C=ne.p;try{ne.p=8,hh(o,r,c,d)}finally{ne.p=C,N.T=g}}function hh(o,r,c,d){if(_l){var g=fh(d);if(g===null)eh(o,r,d,Ul,c),yv(o,d);else if(IE(g,o,r,c,d))d.stopPropagation();else if(yv(o,d),r&4&&-1<OE.indexOf(o)){for(;g!==null;){var C=ji(g);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var x=ri(C.pendingLanes);if(x!==0){var F=C;for(F.pendingLanes|=2,F.entangledLanes|=2;x;){var L=1<<31-Kt(x);F.entanglements[1]|=L,x&=~L}In(C),!(Xe&6)&&(Al=St()+500,$r(0))}}break;case 13:F=Ds(C,2),F!==null&&Lt(F,C,2),Tl(),dh(C,2)}if(C=fh(d),C===null&&eh(o,r,d,Ul,c),C===g)break;g=C}g!==null&&d.stopPropagation()}else eh(o,r,d,null,c)}}function fh(o){return o=yu(o),gh(o)}var Ul=null;function gh(o){if(Ul=null,o=ai(o),o!==null){var r=Y(o);if(r===null)o=null;else{var c=r.tag;if(c===13){if(o=ce(r),o!==null)return o;o=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Ul=o,null}function vv(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case Ha:return 2;case cr:return 8;case ze:case Tt:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var ph=!1,Vs=null,Ws=null,_s=null,na=new Map,sa=new Map,Us=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(o,r){switch(o){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":na.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(r.pointerId)}}function ia(o,r,c,d,g,C){return o===null||o.nativeEvent!==C?(o={blockedOn:r,domEventName:c,eventSystemFlags:d,nativeEvent:C,targetContainers:[g]},r!==null&&(r=ji(r),r!==null&&Cv(r)),o):(o.eventSystemFlags|=d,r=o.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),o)}function IE(o,r,c,d,g){switch(r){case"focusin":return Vs=ia(Vs,o,r,c,d,g),!0;case"dragenter":return Ws=ia(Ws,o,r,c,d,g),!0;case"mouseover":return _s=ia(_s,o,r,c,d,g),!0;case"pointerover":var C=g.pointerId;return na.set(C,ia(na.get(C)||null,o,r,c,d,g)),!0;case"gotpointercapture":return C=g.pointerId,sa.set(C,ia(sa.get(C)||null,o,r,c,d,g)),!0}return!1}function wv(o){var r=ai(o.target);if(r!==null){var c=Y(r);if(c!==null){if(r=c.tag,r===13){if(r=ce(c),r!==null){o.blockedOn=r,Fx(o.priority,function(){if(c.tag===13){var d=Zt(),g=Ds(c,d);g!==null&&Lt(g,c,d),dh(c,d)}});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jl(o){if(o.blockedOn!==null)return!1;for(var r=o.targetContainers;0<r.length;){var c=fh(o.nativeEvent);if(c===null){c=o.nativeEvent;var d=new c.constructor(c.type,c);vu=d,c.target.dispatchEvent(d),vu=null}else return r=ji(c),r!==null&&Cv(r),o.blockedOn=c,!1;r.shift()}return!0}function bv(o,r,c){jl(o)&&c.delete(r)}function kE(){ph=!1,Vs!==null&&jl(Vs)&&(Vs=null),Ws!==null&&jl(Ws)&&(Ws=null),_s!==null&&jl(_s)&&(_s=null),na.forEach(bv),sa.forEach(bv)}function Kl(o,r){o.blockedOn===r&&(o.blockedOn=null,ph||(ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kE)))}var Yl=null;function Sv(o){Yl!==o&&(Yl=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yl===o&&(Yl=null);for(var r=0;r<o.length;r+=3){var c=o[r],d=o[r+1],g=o[r+2];if(typeof d!="function"){if(gh(d||c)===null)continue;break}var C=ji(c);C!==null&&(o.splice(r,3),r-=3,id(C,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function oa(o){function r(L){return Kl(L,o)}Vs!==null&&Kl(Vs,o),Ws!==null&&Kl(Ws,o),_s!==null&&Kl(_s,o),na.forEach(r),sa.forEach(r);for(var c=0;c<Us.length;c++){var d=Us[c];d.blockedOn===o&&(d.blockedOn=null)}for(;0<Us.length&&(c=Us[0],c.blockedOn===null);)wv(c),c.blockedOn===null&&Us.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],C=c[d+1],x=g[Gt]||null;if(typeof C=="function")x||Sv(c);else if(x){var F=null;if(C&&C.hasAttribute("formAction")){if(g=C,x=C[Gt]||null)F=x.formAction;else if(gh(g)!==null)continue}else F=x.action;typeof F=="function"?c[d+1]=F:(c.splice(d,3),d-=3),Sv(c)}}}function mh(o){this._internalRoot=o}ql.prototype.render=mh.prototype.render=function(o){var r=this._internalRoot;if(r===null)throw Error(s(409));var c=r.current,d=Zt();pv(c,d,o,r,null,null)},ql.prototype.unmount=mh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var r=o.containerInfo;o.tag===0&&wo(),pv(o.current,2,null,o,null,null),Tl(),r[Ui]=null}};function ql(o){this._internalRoot=o}ql.prototype.unstable_scheduleHydration=function(o){if(o){var r=Xg();o={blockedOn:null,target:o,priority:r};for(var c=0;c<Us.length&&r!==0&&r<Us[c].priority;c++);Us.splice(c,0,o),c===0&&wv(o)}};var Rv=t.version;if(Rv!=="19.0.0")throw Error(s(527,Rv,"19.0.0"));ne.findDOMNode=function(o){var r=o._reactInternals;if(r===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=j(r),o=o!==null?$(o):null,o=o===null?null:o.stateNode,o};var GE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:ai,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{ur=$l.inject(GE),jt=$l}catch{}}return aa.createRoot=function(o,r){if(!i(o))throw Error(s(299));var c=!1,d="",g=zm,C=Vm,x=Wm,F=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(F=r.unstable_transitionCallbacks)),r=fv(o,1,!1,null,null,c,d,g,C,x,F,null),o[Ui]=r.current,Jd(o.nodeType===8?o.parentNode:o),new mh(r)},aa.hydrateRoot=function(o,r,c){if(!i(o))throw Error(s(299));var d=!1,g="",C=zm,x=Vm,F=Wm,L=null,k=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(F=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(k=c.formState)),r=fv(o,1,!0,r,c??null,d,g,C,x,F,L,k),r.context=gv(null),c=r.current,d=Zt(),g=Os(d),g.callback=null,Is(c,g,d),r.current.lanes=d,hr(r,d),In(r),o[Ui]=r.current,Jd(o),new ql(r)},aa.version="19.0.0",aa}var Ov;function YE(){if(Ov)return yh.exports;Ov=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yh.exports=KE(),yh.exports}var R2=YE(),zi=lw();const qE=Nf(zi);function Iv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cw(...e){return t=>{let n=!1;const s=e.map(i=>{const a=Iv(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Iv(e[i],null)}}}}function at(...e){return w.useCallback(cw(...e),e)}var zn=w.forwardRef((e,t)=>{const{children:n,...s}=e,i=w.Children.toArray(n),a=i.find($E);if(a){const l=a.props.children,u=i.map(h=>h===a?w.Children.count(l)>1?w.Children.only(null):w.isValidElement(l)?l.props.children:null:h);return le.jsx(of,{...s,ref:t,children:w.isValidElement(l)?w.cloneElement(l,void 0,u):null})}return le.jsx(of,{...s,ref:t,children:n})});zn.displayName="Slot";var of=w.forwardRef((e,t)=>{const{children:n,...s}=e;if(w.isValidElement(n)){const i=ZE(n);return w.cloneElement(n,{...XE(s,n.props),ref:t?cw(t,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});of.displayName="SlotClone";var uw=({children:e})=>le.jsx(le.Fragment,{children:e});function $E(e){return w.isValidElement(e)&&e.type===uw}function XE(e,t){const n={...t};for(const s in t){const i=e[s],a=t[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...u)=>{a(...u),i(...u)}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function ZE(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var QE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],it=QE.reduce((e,t)=>{const n=w.forwardRef((s,i)=>{const{asChild:a,...l}=s,u=a?zn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),le.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function JE(e,t){e&&zi.flushSync(()=>e.dispatchEvent(t))}var eD="VisuallyHidden",Bf=w.forwardRef((e,t)=>le.jsx(it.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Bf.displayName=eD;var tD=Bf,Rh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var kv;function nD(){return kv||(kv=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=i(a,s(u)))}return a}function s(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=i(l,u));return l}function i(a,l){return l?a?a+" "+l:a+l:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Rh)),Rh.exports}var sD=nD();const Gn=Nf(sD);function Aa(e,t=[]){let n=[];function s(a,l){const u=w.createContext(l),h=n.length;n=[...n,l];const f=m=>{var E;const{scope:v,children:y,...S}=m,b=((E=v==null?void 0:v[e])==null?void 0:E[h])||u,R=w.useMemo(()=>S,Object.values(S));return le.jsx(b.Provider,{value:R,children:y})};f.displayName=a+"Provider";function p(m,v){var b;const y=((b=v==null?void 0:v[e])==null?void 0:b[h])||u,S=w.useContext(y);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(u){const h=(u==null?void 0:u[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return i.scopeName=e,[s,iD(i,...t)]}function iD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((u,{useScope:h,scopeName:f})=>{const m=h(a)[`__scope${f}`];return{...u,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var Vt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},oD=WE.useId||(()=>{}),rD=0;function zf(e){const[t,n]=w.useState(oD());return Vt(()=>{n(s=>s??String(rD++))},[e]),t?`radix-${t}`:""}function Cs(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function rf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=aD({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s,u=Cs(n),h=w.useCallback(f=>{if(a){const m=typeof f=="function"?f(e):f;m!==e&&u(m)}else i(f)},[a,e,i,u]);return[l,h]}function aD({defaultProp:e,onChange:t}){const n=w.useState(e),[s]=n,i=w.useRef(s),a=Cs(t);return w.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),n}function lD(e,t=globalThis==null?void 0:globalThis.document){const n=Cs(e);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var cD="DismissableLayer",af="dismissableLayer.update",uD="dismissableLayer.pointerDownOutside",dD="dismissableLayer.focusOutside",Gv,dw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vf=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=e,f=w.useContext(dw),[p,m]=w.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=w.useState({}),S=at(t,O=>m(O)),b=Array.from(f.layers),[R]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(R),D=p?b.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,M=D>=E,T=gD(O=>{const z=O.target,N=[...f.branches].some(V=>V.contains(z));!M||N||(i==null||i(O),l==null||l(O),O.defaultPrevented||u==null||u())},v),G=pD(O=>{const z=O.target;[...f.branches].some(V=>V.contains(z))||(a==null||a(O),l==null||l(O),O.defaultPrevented||u==null||u())},v);return lD(O=>{D===f.layers.size-1&&(s==null||s(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},v),w.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Gv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Nv(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Gv)}},[p,v,n,f]),w.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Nv())},[p,f]),w.useEffect(()=>{const O=()=>y({});return document.addEventListener(af,O),()=>document.removeEventListener(af,O)},[]),le.jsx(it.div,{...h,ref:S,style:{pointerEvents:A?M?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,T.onPointerDownCapture)})});Vf.displayName=cD;var hD="DismissableLayerBranch",fD=w.forwardRef((e,t)=>{const n=w.useContext(dw),s=w.useRef(null),i=at(t,s);return w.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),le.jsx(it.div,{...e,ref:i})});fD.displayName=hD;function gD(e,t=globalThis==null?void 0:globalThis.document){const n=Cs(e),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let h=function(){hw(uD,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function pD(e,t=globalThis==null?void 0:globalThis.document){const n=Cs(e),s=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!s.current&&hw(dD,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Nv(){const e=new CustomEvent(af);document.dispatchEvent(e)}function hw(e,t,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?JE(i,a):i.dispatchEvent(a)}var xh="focusScope.autoFocusOnMount",Eh="focusScope.autoFocusOnUnmount",Hv={bubbles:!1,cancelable:!0},mD="FocusScope",fw=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=e,[u,h]=w.useState(null),f=Cs(i),p=Cs(a),m=w.useRef(null),v=at(t,b=>h(b)),y=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let b=function(A){if(y.paused||!u)return;const M=A.target;u.contains(M)?m.current=M:qs(m.current,{select:!0})},R=function(A){if(y.paused||!u)return;const M=A.relatedTarget;M!==null&&(u.contains(M)||qs(m.current,{select:!0}))},E=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&qs(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const D=new MutationObserver(E);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),D.disconnect()}}},[s,u,y.paused]),w.useEffect(()=>{if(u){zv.add(y);const b=document.activeElement;if(!u.contains(b)){const E=new CustomEvent(xh,Hv);u.addEventListener(xh,f),u.dispatchEvent(E),E.defaultPrevented||(CD(SD(gw(u)),{select:!0}),document.activeElement===b&&qs(u))}return()=>{u.removeEventListener(xh,f),setTimeout(()=>{const E=new CustomEvent(Eh,Hv);u.addEventListener(Eh,p),u.dispatchEvent(E),E.defaultPrevented||qs(b??document.body,{select:!0}),u.removeEventListener(Eh,p),zv.remove(y)},0)}}},[u,f,p,y]);const S=w.useCallback(b=>{if(!n&&!s||y.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(R&&E){const D=b.currentTarget,[A,M]=vD(D);A&&M?!b.shiftKey&&E===M?(b.preventDefault(),n&&qs(A,{select:!0})):b.shiftKey&&E===A&&(b.preventDefault(),n&&qs(M,{select:!0})):E===D&&b.preventDefault()}},[n,s,y.paused]);return le.jsx(it.div,{tabIndex:-1,...l,ref:v,onKeyDown:S})});fw.displayName=mD;function CD(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(qs(s,{select:t}),document.activeElement!==n)return}function vD(e){const t=gw(e),n=Bv(t,e),s=Bv(t.reverse(),e);return[n,s]}function gw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bv(e,t){for(const n of e)if(!yD(n,{upTo:t}))return n}function yD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wD(e){return e instanceof HTMLInputElement&&"select"in e}function qs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&wD(e)&&t&&e.select()}}var zv=bD();function bD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Vv(e,t),e.unshift(t)},remove(t){var n;e=Vv(e,t),(n=e[0])==null||n.resume()}}}function Vv(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function SD(e){return e.filter(t=>t.tagName!=="A")}function RD(e,t){return w.useReducer((n,s)=>t[n][s]??n,e)}var pw=e=>{const{present:t,children:n}=e,s=xD(t),i=typeof n=="function"?n({present:s.isPresent}):w.Children.only(n),a=at(s.ref,ED(i));return typeof n=="function"||s.isPresent?w.cloneElement(i,{ref:a}):null};pw.displayName="Presence";function xD(e){const[t,n]=w.useState(),s=w.useRef({}),i=w.useRef(e),a=w.useRef("none"),l=e?"mounted":"unmounted",[u,h]=RD(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=Xl(s.current);a.current=u==="mounted"?f:"none"},[u]),Vt(()=>{const f=s.current,p=i.current;if(p!==e){const v=a.current,y=Xl(f);e?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Vt(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=y=>{const b=Xl(s.current).includes(y.animationName);if(y.target===t&&b&&(h("ANIMATION_END"),!i.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},v=y=>{y.target===t&&(a.current=Xl(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(f=>{f&&(s.current=getComputedStyle(f)),n(f)},[])}}function Xl(e){return(e==null?void 0:e.animationName)||"none"}function ED(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dh=0;function DD(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wv()),document.body.insertAdjacentElement("beforeend",e[1]??Wv()),Dh++,()=>{Dh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dh--}},[])}function Wv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kn=function(){return kn=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},kn.apply(this,arguments)};function mw(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function AD(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var fc="right-scroll-bar-position",gc="width-before-scroll-bar",FD="with-scroll-bars-hidden",MD="--removed-body-scroll-bar-size";function Ah(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TD(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var PD=typeof window<"u"?w.useLayoutEffect:w.useEffect,_v=new WeakMap;function LD(e,t){var n=TD(null,function(s){return e.forEach(function(i){return Ah(i,s)})});return PD(function(){var s=_v.get(n);if(s){var i=new Set(s),a=new Set(e),l=n.current;i.forEach(function(u){a.has(u)||Ah(u,null)}),a.forEach(function(u){i.has(u)||Ah(u,l)})}_v.set(n,e)},[e]),n}function OD(e){return e}function ID(e,t){t===void 0&&(t=OD);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,s);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(s=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){s=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var p=l;l=[],p.forEach(a)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return i}function kD(e){e===void 0&&(e={});var t=ID(null);return t.options=kn({async:!0,ssr:!1},e),t}var Cw=function(e){var t=e.sideCar,n=mw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,kn({},n))};Cw.isSideCarExport=!0;function GD(e,t){return e.useMedium(t),Cw}var vw=kD(),Fh=function(){},qc=w.forwardRef(function(e,t){var n=w.useRef(null),s=w.useState({onScrollCapture:Fh,onWheelCapture:Fh,onTouchMoveCapture:Fh}),i=s[0],a=s[1],l=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,v=e.sideCar,y=e.noIsolation,S=e.inert,b=e.allowPinchZoom,R=e.as,E=R===void 0?"div":R,D=e.gapMode,A=mw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,T=LD([n,t]),G=kn(kn({},A),i);return w.createElement(w.Fragment,null,p&&w.createElement(M,{sideCar:vw,removeScrollBar:f,shards:m,noIsolation:y,inert:S,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:D}),l?w.cloneElement(w.Children.only(u),kn(kn({},G),{ref:T})):w.createElement(E,kn({},G,{className:h,ref:T}),u))});qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qc.classNames={fullWidth:gc,zeroRight:fc};var ND=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ND();return t&&e.setAttribute("nonce",t),e}function BD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=HD())&&(BD(t,n),zD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},WD=function(){var e=VD();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yw=function(){var e=WD(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},_D={left:0,top:0,right:0,gap:0},Mh=function(e){return parseInt(e||"",10)||0},UD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Mh(n),Mh(s),Mh(i)]},jD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _D;var t=UD(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},KD=yw(),ko="data-scroll-locked",YD=function(e,t,n,s){var i=e.left,a=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FD,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fc,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(gc,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(gc," .").concat(gc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(MD,": ").concat(u,`px;
  }
`)},Uv=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},qD=function(){w.useEffect(function(){return document.body.setAttribute(ko,(Uv()+1).toString()),function(){var e=Uv()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},$D=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;qD();var a=w.useMemo(function(){return jD(i)},[i]);return w.createElement(KD,{styles:YD(a,!t,i,n?"":"!important")})},lf=!1;if(typeof window<"u")try{var Zl=Object.defineProperty({},"passive",{get:function(){return lf=!0,!0}});window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{lf=!1}var Do=lf?{passive:!1}:!1,XD=function(e){return e.tagName==="TEXTAREA"},ww=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!XD(e)&&n[t]==="visible")},ZD=function(e){return ww(e,"overflowY")},QD=function(e){return ww(e,"overflowX")},jv=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=bw(e,s);if(i){var a=Sw(e,s),l=a[1],u=a[2];if(l>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},JD=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},eA=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},bw=function(e,t){return e==="v"?ZD(t):QD(t)},Sw=function(e,t){return e==="v"?JD(t):eA(t)},tA=function(e,t){return e==="h"&&t==="rtl"?-1:1},nA=function(e,t,n,s,i){var a=tA(e,window.getComputedStyle(t).direction),l=a*s,u=n.target,h=t.contains(u),f=!1,p=l>0,m=0,v=0;do{var y=Sw(e,u),S=y[0],b=y[1],R=y[2],E=b-R-a*S;(S||E)&&bw(e,u)&&(m+=E,v+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(v)<1)&&(f=!0),f},Ql=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kv=function(e){return[e.deltaX,e.deltaY]},Yv=function(e){return e&&"current"in e?e.current:e},sA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oA=0,Ao=[];function rA(e){var t=w.useRef([]),n=w.useRef([0,0]),s=w.useRef(),i=w.useState(oA++)[0],a=w.useState(yw)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=AD([e.lockRef.current],(e.shards||[]).map(Yv),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=w.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var E=Ql(b),D=n.current,A="deltaX"in b?b.deltaX:D[0]-E[0],M="deltaY"in b?b.deltaY:D[1]-E[1],T,G=b.target,O=Math.abs(A)>Math.abs(M)?"h":"v";if("touches"in b&&O==="h"&&G.type==="range")return!1;var z=jv(O,G);if(!z)return!0;if(z?T=O:(T=O==="v"?"h":"v",z=jv(O,G)),!z)return!1;if(!s.current&&"changedTouches"in b&&(A||M)&&(s.current=T),!T)return!0;var N=s.current||T;return nA(N,R,b,N==="h"?A:M)},[]),h=w.useCallback(function(b){var R=b;if(!(!Ao.length||Ao[Ao.length-1]!==a)){var E="deltaY"in R?Kv(R):Ql(R),D=t.current.filter(function(T){return T.name===R.type&&(T.target===R.target||R.target===T.shadowParent)&&sA(T.delta,E)})[0];if(D&&D.should){R.cancelable&&R.preventDefault();return}if(!D){var A=(l.current.shards||[]).map(Yv).filter(Boolean).filter(function(T){return T.contains(R.target)}),M=A.length>0?u(R,A[0]):!l.current.noIsolation;M&&R.cancelable&&R.preventDefault()}}},[]),f=w.useCallback(function(b,R,E,D){var A={name:b,delta:R,target:E,should:D,shadowParent:aA(E)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(M){return M!==A})},1)},[]),p=w.useCallback(function(b){n.current=Ql(b),s.current=void 0},[]),m=w.useCallback(function(b){f(b.type,Kv(b),b.target,u(b,e.lockRef.current))},[]),v=w.useCallback(function(b){f(b.type,Ql(b),b.target,u(b,e.lockRef.current))},[]);w.useEffect(function(){return Ao.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Do),document.addEventListener("touchmove",h,Do),document.addEventListener("touchstart",p,Do),function(){Ao=Ao.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,Do),document.removeEventListener("touchmove",h,Do),document.removeEventListener("touchstart",p,Do)}},[]);var y=e.removeScrollBar,S=e.inert;return w.createElement(w.Fragment,null,S?w.createElement(a,{styles:iA(i)}):null,y?w.createElement($D,{gapMode:e.gapMode}):null)}function aA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lA=GD(vw,rA);var Rw=w.forwardRef(function(e,t){return w.createElement(qc,kn({},e,{ref:t,sideCar:lA}))});Rw.classNames=qc.classNames;var cA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fo=new WeakMap,Jl=new WeakMap,ec={},Th=0,xw=function(e){return e&&(e.host||xw(e.parentNode))},uA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=xw(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dA=function(e,t,n,s){var i=uA(t,Array.isArray(e)?e:[e]);ec[n]||(ec[n]=new WeakMap);var a=ec[n],l=[],u=new Set,h=new Set(i),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(v){if(u.has(v))p(v);else try{var y=v.getAttribute(s),S=y!==null&&y!=="false",b=(Fo.get(v)||0)+1,R=(a.get(v)||0)+1;Fo.set(v,b),a.set(v,R),l.push(v),b===1&&S&&Jl.set(v,!0),R===1&&v.setAttribute(n,"true"),S||v.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return p(t),u.clear(),Th++,function(){l.forEach(function(m){var v=Fo.get(m)-1,y=a.get(m)-1;Fo.set(m,v),a.set(m,y),v||(Jl.has(m)||m.removeAttribute(s),Jl.delete(m)),y||m.removeAttribute(n)}),Th--,Th||(Fo=new WeakMap,Fo=new WeakMap,Jl=new WeakMap,ec={})}},hA=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=cA(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),dA(s,i,n,"aria-hidden")):function(){return null}};const Fa={asChild:{type:"boolean"}},Ew={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},Dw={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},Aw=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],fA=["auto","gray","mauve","slate","sage","olive","sand"],gA={color:{type:"enum",values:Aw,default:void 0}},pA={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},mA=["normal","start","end","both"],CA={trim:{type:"enum",className:"rt-r-lt",values:mA,responsive:!0}},vA=["left","center","right"],yA={align:{type:"enum",className:"rt-r-ta",values:vA,responsive:!0}},wA=["wrap","nowrap","pretty","balance"],bA={wrap:{type:"enum",className:"rt-r-tw",values:wA,responsive:!0}},SA={truncate:{type:"boolean",className:"rt-truncate"}},RA=["light","regular","medium","bold"],xA={weight:{type:"enum",className:"rt-r-weight",values:RA,responsive:!0}},EA=["h1","h2","h3","h4","h5","h6"],DA=["1","2","3","4","5","6","7","8","9"],AA={as:{type:"enum",values:EA,default:"h1"},...Fa,size:{type:"enum",className:"rt-r-size",values:DA,default:"6",responsive:!0},...xA,...yA,...CA,...SA,...bA,...gA,...pA},Wf=["initial","xs","sm","md","lg","xl"];function Fw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ha(e){return typeof e=="object"&&Object.keys(e).some(t=>Wf.includes(t))}function FA({className:e,customProperties:t,...n}){const s=Mw({allowArbitraryValues:!0,className:e,...n}),i=MA({customProperties:t,...n});return[s,i]}function Mw({allowArbitraryValues:e,value:t,className:n,propValues:s,parseValue:i=a=>a}){const a=[];if(t){if(typeof t=="string"&&s.includes(t))return qv(n,t,i);if(ha(t)){const l=t;for(const u in l){if(!Fw(l,u)||!Wf.includes(u))continue;const h=l[u];if(h!==void 0){if(s.includes(h)){const f=qv(n,h,i),p=u==="initial"?f:`${u}:${f}`;a.push(p)}else if(e){const f=u==="initial"?n:`${u}:${n}`;a.push(f)}}}return a.join(" ")}if(e)return n}}function qv(e,t,n){const s=e?"-":"",i=n(t),a=i==null?void 0:i.startsWith("-"),l=a?"-":"",u=a?i==null?void 0:i.substring(1):i;return`${l}${e}${s}${u}`}function MA({customProperties:e,value:t,propValues:n,parseValue:s=i=>i}){let i={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(i=Object.fromEntries(e.map(a=>[a,t]))),ha(t)){const a=t;for(const l in a){if(!Fw(a,l)||!Wf.includes(l))continue;const u=a[l];if(!n.includes(u))for(const h of e)i={[l==="initial"?h:`${h}-${l}`]:u,...i}}}for(const a in i){const l=i[a];l!==void 0&&(i[a]=s(l))}return i}}function $v(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function TA(...e){return Object.assign({},...e)}function ma(e,...t){let n,s;const i={...e},a=TA(...t);for(const l in a){let u=i[l];const h=a[l];if(h.default!==void 0&&u===void 0&&(u=h.default),h.type==="enum"&&![h.default,...h.values].includes(u)&&!ha(u)&&(u=h.default),i[l]=u,"className"in h&&h.className){delete i[l];const f="responsive"in h;if(!u||ha(u)&&!f)continue;if(ha(u)&&(h.default!==void 0&&u.initial===void 0&&(u.initial=h.default),h.type==="enum"&&([h.default,...h.values].includes(u.initial)||(u.initial=h.default))),h.type==="enum"){const p=Mw({allowArbitraryValues:!1,value:u,className:h.className,propValues:h.values,parseValue:h.parseValue});n=Gn(n,p);continue}if(h.type==="string"||h.type==="enum | string"){const p=h.type==="string"?[]:h.values,[m,v]=FA({className:h.className,customProperties:h.customProperties,propValues:p,parseValue:h.parseValue,value:u});s=$v(s,v),n=Gn(n,m);continue}if(h.type==="boolean"&&u){n=Gn(n,h.className);continue}}}return i.className=Gn(n,e.className),i.style=$v(s,e.style),i}const Fi=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],$c={m:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:Fi,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},PA=w.forwardRef((e,t)=>{const{children:n,className:s,asChild:i,as:a="h1",color:l,...u}=ma(e,AA,$c);return w.createElement(zn,{"data-accent-color":l,...u,ref:t,className:Gn("rt-Heading",s)},i?n:w.createElement(a,null,n))});PA.displayName="Heading";const LA=["top","right","bottom","left"],Js=Math.min,Jt=Math.max,Sc=Math.round,tc=Math.floor,Nn=e=>({x:e,y:e}),OA={left:"right",right:"left",bottom:"top",top:"bottom"},IA={start:"end",end:"start"};function cf(e,t,n){return Jt(e,Js(t,n))}function vs(e,t){return typeof e=="function"?e(t):e}function ys(e){return e.split("-")[0]}function Zo(e){return e.split("-")[1]}function _f(e){return e==="x"?"y":"x"}function Uf(e){return e==="y"?"height":"width"}function ei(e){return["top","bottom"].includes(ys(e))?"y":"x"}function jf(e){return _f(ei(e))}function kA(e,t,n){n===void 0&&(n=!1);const s=Zo(e),i=jf(e),a=Uf(i);let l=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Rc(l)),[l,Rc(l)]}function GA(e){const t=Rc(e);return[uf(e),t,uf(t)]}function uf(e){return e.replace(/start|end/g,t=>IA[t])}function NA(e,t,n){const s=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?a:l;default:return[]}}function HA(e,t,n,s){const i=Zo(e);let a=NA(ys(e),n==="start",s);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(uf)))),a}function Rc(e){return e.replace(/left|right|bottom|top/g,t=>OA[t])}function BA(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tw(e){return typeof e!="number"?BA(e):{top:e,right:e,bottom:e,left:e}}function xc(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Xv(e,t,n){let{reference:s,floating:i}=e;const a=ei(t),l=jf(t),u=Uf(l),h=ys(t),f=a==="y",p=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,v=s[u]/2-i[u]/2;let y;switch(h){case"top":y={x:p,y:s.y-i.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:m};break;case"left":y={x:s.x-i.width,y:m};break;default:y={x:s.x,y:s.y}}switch(Zo(t)){case"start":y[l]-=v*(n&&f?-1:1);break;case"end":y[l]+=v*(n&&f?-1:1);break}return y}const zA=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=Xv(f,s,h),v=s,y={},S=0;for(let b=0;b<u.length;b++){const{name:R,fn:E}=u[b],{x:D,y:A,data:M,reset:T}=await E({x:p,y:m,initialPlacement:s,placement:v,strategy:i,middlewareData:y,rects:f,platform:l,elements:{reference:e,floating:t}});p=D??p,m=A??m,y={...y,[R]:{...y[R],...M}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(f=T.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:p,y:m}=Xv(f,v,h)),b=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:y}};async function Ca(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:a,rects:l,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=vs(t,e),S=Tw(y),R=u[v?m==="floating"?"reference":"floating":m],E=xc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:h})),D=m==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),M=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},T=xc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:A,strategy:h}):D);return{top:(E.top-T.top+S.top)/M.y,bottom:(T.bottom-E.bottom+S.bottom)/M.y,left:(E.left-T.left+S.left)/M.x,right:(T.right-E.right+S.right)/M.x}}const VA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:a,platform:l,elements:u,middlewareData:h}=t,{element:f,padding:p=0}=vs(e,t)||{};if(f==null)return{};const m=Tw(p),v={x:n,y:s},y=jf(i),S=Uf(y),b=await l.getDimensions(f),R=y==="y",E=R?"top":"left",D=R?"bottom":"right",A=R?"clientHeight":"clientWidth",M=a.reference[S]+a.reference[y]-v[y]-a.floating[S],T=v[y]-a.reference[y],G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let O=G?G[A]:0;(!O||!await(l.isElement==null?void 0:l.isElement(G)))&&(O=u.floating[A]||a.floating[S]);const z=M/2-T/2,N=O/2-b[S]/2-1,V=Js(m[E],N),_=Js(m[D],N),Z=V,ie=O-b[S]-_,re=O/2-b[S]/2+z,ee=cf(Z,re,ie),H=!h.arrow&&Zo(i)!=null&&re!==ee&&a.reference[S]/2-(re<Z?V:_)-b[S]/2<0,J=H?re<Z?re-Z:re-ie:0;return{[y]:v[y]+J,data:{[y]:ee,centerOffset:re-ee-J,...H&&{alignmentOffset:J}},reset:H}}}),WA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...R}=vs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=ys(i),D=ei(u),A=ys(u)===u,M=await(h.isRTL==null?void 0:h.isRTL(f.floating)),T=v||(A||!b?[Rc(u)]:GA(u)),G=S!=="none";!v&&G&&T.push(...HA(u,b,S,M));const O=[u,...T],z=await Ca(t,R),N=[];let V=((s=a.flip)==null?void 0:s.overflows)||[];if(p&&N.push(z[E]),m){const re=kA(i,l,M);N.push(z[re[0]],z[re[1]])}if(V=[...V,{placement:i,overflows:N}],!N.every(re=>re<=0)){var _,Z;const re=(((_=a.flip)==null?void 0:_.index)||0)+1,ee=O[re];if(ee)return{data:{index:re,overflows:V},reset:{placement:ee}};let H=(Z=V.filter(J=>J.overflows[0]<=0).sort((J,Y)=>J.overflows[1]-Y.overflows[1])[0])==null?void 0:Z.placement;if(!H)switch(y){case"bestFit":{var ie;const J=(ie=V.filter(Y=>{if(G){const ce=ei(Y.placement);return ce===D||ce==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ce=>ce>0).reduce((ce,P)=>ce+P,0)]).sort((Y,ce)=>Y[1]-ce[1])[0])==null?void 0:ie[0];J&&(H=J);break}case"initialPlacement":H=u;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function Zv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qv(e){return LA.some(t=>e[t]>=0)}const _A=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=vs(e,t);switch(s){case"referenceHidden":{const a=await Ca(t,{...i,elementContext:"reference"}),l=Zv(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Qv(l)}}}case"escaped":{const a=await Ca(t,{...i,altBoundary:!0}),l=Zv(a,n.floating);return{data:{escapedOffsets:l,escaped:Qv(l)}}}default:return{}}}}};async function UA(e,t){const{placement:n,platform:s,elements:i}=e,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=ys(n),u=Zo(n),h=ei(n)==="y",f=["left","top"].includes(l)?-1:1,p=a&&h?-1:1,m=vs(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof S=="number"&&(y=u==="end"?S*-1:S),h?{x:y*p,y:v*f}:{x:v*f,y:y*p}}const jA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:a,placement:l,middlewareData:u}=t,h=await UA(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},KA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:E,y:D}=R;return{x:E,y:D}}},...h}=vs(e,t),f={x:n,y:s},p=await Ca(t,h),m=ei(ys(i)),v=_f(m);let y=f[v],S=f[m];if(a){const R=v==="y"?"top":"left",E=v==="y"?"bottom":"right",D=y+p[R],A=y-p[E];y=cf(D,y,A)}if(l){const R=m==="y"?"top":"left",E=m==="y"?"bottom":"right",D=S+p[R],A=S-p[E];S=cf(D,S,A)}const b=u.fn({...t,[v]:y,[m]:S});return{...b,data:{x:b.x-n,y:b.y-s,enabled:{[v]:a,[m]:l}}}}}},YA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=vs(e,t),p={x:n,y:s},m=ei(i),v=_f(m);let y=p[v],S=p[m];const b=vs(u,t),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const A=v==="y"?"height":"width",M=a.reference[v]-a.floating[A]+R.mainAxis,T=a.reference[v]+a.reference[A]-R.mainAxis;y<M?y=M:y>T&&(y=T)}if(f){var E,D;const A=v==="y"?"width":"height",M=["top","left"].includes(ys(i)),T=a.reference[m]-a.floating[A]+(M&&((E=l.offset)==null?void 0:E[m])||0)+(M?0:R.crossAxis),G=a.reference[m]+a.reference[A]+(M?0:((D=l.offset)==null?void 0:D[m])||0)-(M?R.crossAxis:0);S<T?S=T:S>G&&(S=G)}return{[v]:y,[m]:S}}}},qA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:a,platform:l,elements:u}=t,{apply:h=()=>{},...f}=vs(e,t),p=await Ca(t,f),m=ys(i),v=Zo(i),y=ei(i)==="y",{width:S,height:b}=a.floating;let R,E;m==="top"||m==="bottom"?(R=m,E=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=m,R=v==="end"?"top":"bottom");const D=b-p.top-p.bottom,A=S-p.left-p.right,M=Js(b-p[R],D),T=Js(S-p[E],A),G=!t.middlewareData.shift;let O=M,z=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=A),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(O=D),G&&!v){const V=Jt(p.left,0),_=Jt(p.right,0),Z=Jt(p.top,0),ie=Jt(p.bottom,0);y?z=S-2*(V!==0||_!==0?V+_:Jt(p.left,p.right)):O=b-2*(Z!==0||ie!==0?Z+ie:Jt(p.top,p.bottom))}await h({...t,availableWidth:z,availableHeight:O});const N=await l.getDimensions(u.floating);return S!==N.width||b!==N.height?{reset:{rects:!0}}:{}}}};function Xc(){return typeof window<"u"}function Qo(e){return Pw(e)?(e.nodeName||"").toLowerCase():"#document"}function tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Un(e){var t;return(t=(Pw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pw(e){return Xc()?e instanceof Node||e instanceof tn(e).Node:!1}function Dn(e){return Xc()?e instanceof Element||e instanceof tn(e).Element:!1}function Vn(e){return Xc()?e instanceof HTMLElement||e instanceof tn(e).HTMLElement:!1}function Jv(e){return!Xc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tn(e).ShadowRoot}function Ma(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=An(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function $A(e){return["table","td","th"].includes(Qo(e))}function Zc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Kf(e){const t=Yf(),n=Dn(e)?An(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function XA(e){let t=ti(e);for(;Vn(t)&&!_o(t);){if(Kf(t))return t;if(Zc(t))return null;t=ti(t)}return null}function Yf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _o(e){return["html","body","#document"].includes(Qo(e))}function An(e){return tn(e).getComputedStyle(e)}function Qc(e){return Dn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ti(e){if(Qo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jv(e)&&e.host||Un(e);return Jv(t)?t.host:t}function Lw(e){const t=ti(e);return _o(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vn(t)&&Ma(t)?t:Lw(t)}function va(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Lw(e),a=i===((s=e.ownerDocument)==null?void 0:s.body),l=tn(i);if(a){const u=df(l);return t.concat(l,l.visualViewport||[],Ma(i)?i:[],u&&n?va(u):[])}return t.concat(i,va(i,[],n))}function df(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ow(e){const t=An(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Vn(e),a=i?e.offsetWidth:n,l=i?e.offsetHeight:s,u=Sc(n)!==a||Sc(s)!==l;return u&&(n=a,s=l),{width:n,height:s,$:u}}function qf(e){return Dn(e)?e:e.contextElement}function Go(e){const t=qf(e);if(!Vn(t))return Nn(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:a}=Ow(t);let l=(a?Sc(n.width):n.width)/s,u=(a?Sc(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const ZA=Nn(0);function Iw(e){const t=tn(e);return!Yf()||!t.visualViewport?ZA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tn(e)?!1:t}function Gi(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=qf(e);let l=Nn(1);t&&(s?Dn(s)&&(l=Go(s)):l=Go(e));const u=QA(a,n,s)?Iw(a):Nn(0);let h=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(a){const v=tn(a),y=s&&Dn(s)?tn(s):s;let S=v,b=df(S);for(;b&&s&&y!==S;){const R=Go(b),E=b.getBoundingClientRect(),D=An(b),A=E.left+(b.clientLeft+parseFloat(D.paddingLeft))*R.x,M=E.top+(b.clientTop+parseFloat(D.paddingTop))*R.y;h*=R.x,f*=R.y,p*=R.x,m*=R.y,h+=A,f+=M,S=tn(b),b=df(S)}}return xc({width:p,height:m,x:h,y:f})}function $f(e,t){const n=Qc(e).scrollLeft;return t?t.left+n:Gi(Un(e)).left+n}function kw(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:$f(e,s)),a=s.top+t.scrollTop;return{x:i,y:a}}function JA(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const a=i==="fixed",l=Un(s),u=t?Zc(t.floating):!1;if(s===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},f=Nn(1);const p=Nn(0),m=Vn(s);if((m||!m&&!a)&&((Qo(s)!=="body"||Ma(l))&&(h=Qc(s)),Vn(s))){const y=Gi(s);f=Go(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const v=l&&!m&&!a?kw(l,h,!0):Nn(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-h.scrollTop*f.y+p.y+v.y}}function eF(e){return Array.from(e.getClientRects())}function tF(e){const t=Un(e),n=Qc(e),s=e.ownerDocument.body,i=Jt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Jt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+$f(e);const u=-n.scrollTop;return An(s).direction==="rtl"&&(l+=Jt(t.clientWidth,s.clientWidth)-i),{width:i,height:a,x:l,y:u}}function nF(e,t){const n=tn(e),s=Un(e),i=n.visualViewport;let a=s.clientWidth,l=s.clientHeight,u=0,h=0;if(i){a=i.width,l=i.height;const f=Yf();(!f||f&&t==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:u,y:h}}function sF(e,t){const n=Gi(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,a=Vn(e)?Go(e):Nn(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,h=i*a.x,f=s*a.y;return{width:l,height:u,x:h,y:f}}function ey(e,t,n){let s;if(t==="viewport")s=nF(e,n);else if(t==="document")s=tF(Un(e));else if(Dn(t))s=sF(t,n);else{const i=Iw(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return xc(s)}function Gw(e,t){const n=ti(e);return n===t||!Dn(n)||_o(n)?!1:An(n).position==="fixed"||Gw(n,t)}function iF(e,t){const n=t.get(e);if(n)return n;let s=va(e,[],!1).filter(u=>Dn(u)&&Qo(u)!=="body"),i=null;const a=An(e).position==="fixed";let l=a?ti(e):e;for(;Dn(l)&&!_o(l);){const u=An(l),h=Kf(l);!h&&u.position==="fixed"&&(i=null),(a?!h&&!i:!h&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ma(l)&&!h&&Gw(e,l))?s=s.filter(p=>p!==l):i=u,l=ti(l)}return t.set(e,s),s}function oF(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const l=[...n==="clippingAncestors"?Zc(t)?[]:iF(t,this._c):[].concat(n),s],u=l[0],h=l.reduce((f,p)=>{const m=ey(t,p,i);return f.top=Jt(m.top,f.top),f.right=Js(m.right,f.right),f.bottom=Js(m.bottom,f.bottom),f.left=Jt(m.left,f.left),f},ey(t,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function rF(e){const{width:t,height:n}=Ow(e);return{width:t,height:n}}function aF(e,t,n){const s=Vn(t),i=Un(t),a=n==="fixed",l=Gi(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const h=Nn(0);if(s||!s&&!a)if((Qo(t)!=="body"||Ma(i))&&(u=Qc(t)),s){const v=Gi(t,!0,a,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else i&&(h.x=$f(i));const f=i&&!s&&!a?kw(i,u):Nn(0),p=l.left+u.scrollLeft-h.x-f.x,m=l.top+u.scrollTop-h.y-f.y;return{x:p,y:m,width:l.width,height:l.height}}function Ph(e){return An(e).position==="static"}function ty(e,t){if(!Vn(e)||An(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Un(e)===n&&(n=n.ownerDocument.body),n}function Nw(e,t){const n=tn(e);if(Zc(e))return n;if(!Vn(e)){let i=ti(e);for(;i&&!_o(i);){if(Dn(i)&&!Ph(i))return i;i=ti(i)}return n}let s=ty(e,t);for(;s&&$A(s)&&Ph(s);)s=ty(s,t);return s&&_o(s)&&Ph(s)&&!Kf(s)?n:s||XA(e)||n}const lF=async function(e){const t=this.getOffsetParent||Nw,n=this.getDimensions,s=await n(e.floating);return{reference:aF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function cF(e){return An(e).direction==="rtl"}const uF={convertOffsetParentRelativeRectToViewportRelativeRect:JA,getDocumentElement:Un,getClippingRect:oF,getOffsetParent:Nw,getElementRects:lF,getClientRects:eF,getDimensions:rF,getScale:Go,isElement:Dn,isRTL:cF};function Hw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dF(e,t){let n=null,s;const i=Un(e);function a(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const f=e.getBoundingClientRect(),{left:p,top:m,width:v,height:y}=f;if(u||t(),!v||!y)return;const S=tc(m),b=tc(i.clientWidth-(p+v)),R=tc(i.clientHeight-(m+y)),E=tc(p),A={rootMargin:-S+"px "+-b+"px "+-R+"px "+-E+"px",threshold:Jt(0,Js(1,h))||1};let M=!0;function T(G){const O=G[0].intersectionRatio;if(O!==h){if(!M)return l();O?l(!1,O):s=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!Hw(f,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,A)}n.observe(e)}return l(!0),a}function hF(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,f=qf(e),p=i||a?[...f?va(f):[],...va(t)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const m=f&&u?dF(f,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(E=>{let[D]=E;D&&D.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),f&&!h&&y.observe(f),y.observe(t));let S,b=h?Gi(e):null;h&&R();function R(){const E=Gi(e);b&&!Hw(b,E)&&n(),b=E,S=requestAnimationFrame(R)}return n(),()=>{var E;p.forEach(D=>{i&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),m==null||m(),(E=y)==null||E.disconnect(),y=null,h&&cancelAnimationFrame(S)}}const fF=jA,gF=KA,pF=WA,mF=qA,CF=_A,ny=VA,vF=YA,yF=(e,t,n)=>{const s=new Map,i={platform:uF,...n},a={...i.platform,_c:s};return zA(e,t,{...i,platform:a})};var pc=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ec(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!Ec(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Bw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sy(e,t){const n=Bw(e);return Math.round(t*n)/n}function Lh(e){const t=w.useRef(e);return pc(()=>{t.current=e}),t}function wF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[p,m]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=w.useState(s);Ec(v,s)||y(s);const[S,b]=w.useState(null),[R,E]=w.useState(null),D=w.useCallback(Y=>{Y!==G.current&&(G.current=Y,b(Y))},[]),A=w.useCallback(Y=>{Y!==O.current&&(O.current=Y,E(Y))},[]),M=a||S,T=l||R,G=w.useRef(null),O=w.useRef(null),z=w.useRef(p),N=h!=null,V=Lh(h),_=Lh(i),Z=Lh(f),ie=w.useCallback(()=>{if(!G.current||!O.current)return;const Y={placement:t,strategy:n,middleware:v};_.current&&(Y.platform=_.current),yF(G.current,O.current,Y).then(ce=>{const P={...ce,isPositioned:Z.current!==!1};re.current&&!Ec(z.current,P)&&(z.current=P,zi.flushSync(()=>{m(P)}))})},[v,t,n,_,Z]);pc(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,m(Y=>({...Y,isPositioned:!1})))},[f]);const re=w.useRef(!1);pc(()=>(re.current=!0,()=>{re.current=!1}),[]),pc(()=>{if(M&&(G.current=M),T&&(O.current=T),M&&T){if(V.current)return V.current(M,T,ie);ie()}},[M,T,ie,V,N]);const ee=w.useMemo(()=>({reference:G,floating:O,setReference:D,setFloating:A}),[D,A]),H=w.useMemo(()=>({reference:M,floating:T}),[M,T]),J=w.useMemo(()=>{const Y={position:n,left:0,top:0};if(!H.floating)return Y;const ce=sy(H.floating,p.x),P=sy(H.floating,p.y);return u?{...Y,transform:"translate("+ce+"px, "+P+"px)",...Bw(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:P}},[n,u,H.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:ie,refs:ee,elements:H,floatingStyles:J}),[p,ie,ee,H,J])}const bF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?ny({element:s.current,padding:i}).fn(n):{}:s?ny({element:s,padding:i}).fn(n):{}}}},SF=(e,t)=>({...fF(e),options:[e,t]}),RF=(e,t)=>({...gF(e),options:[e,t]}),xF=(e,t)=>({...vF(e),options:[e,t]}),EF=(e,t)=>({...pF(e),options:[e,t]}),DF=(e,t)=>({...mF(e),options:[e,t]}),AF=(e,t)=>({...CF(e),options:[e,t]}),FF=(e,t)=>({...bF(e),options:[e,t]});var MF="Arrow",zw=w.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...a}=e;return le.jsx(it.svg,{...a,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:le.jsx("polygon",{points:"0,0 30,0 15,10"})})});zw.displayName=MF;var TF=zw;function Vw(e){const[t,n]=w.useState(void 0);return Vt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,f=Array.isArray(h)?h[0]:h;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Xf="Popper",[Ww,Jc]=Aa(Xf),[PF,_w]=Ww(Xf),Uw=e=>{const{__scopePopper:t,children:n}=e,[s,i]=w.useState(null);return le.jsx(PF,{scope:t,anchor:s,onAnchorChange:i,children:n})};Uw.displayName=Xf;var jw="PopperAnchor",Kw=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,a=_w(jw,n),l=w.useRef(null),u=at(t,l);return w.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:le.jsx(it.div,{...i,ref:u})});Kw.displayName=jw;var Zf="PopperContent",[LF,OF]=Ww(Zf),Yw=w.forwardRef((e,t)=>{var he,ge,Ce,ue,be,pe;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:S,...b}=e,R=_w(Zf,n),[E,D]=w.useState(null),A=at(t,Ae=>D(Ae)),[M,T]=w.useState(null),G=Vw(M),O=(G==null?void 0:G.width)??0,z=(G==null?void 0:G.height)??0,N=s+(a!=="center"?"-"+a:""),V=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},_=Array.isArray(f)?f:[f],Z=_.length>0,ie={padding:V,boundary:_.filter(kF),altBoundary:Z},{refs:re,floatingStyles:ee,placement:H,isPositioned:J,middlewareData:Y}=wF({strategy:"fixed",placement:N,whileElementsMounted:(...Ae)=>hF(...Ae,{animationFrame:y==="always"}),elements:{reference:R.anchor},middleware:[SF({mainAxis:i+z,alignmentAxis:l}),h&&RF({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xF():void 0,...ie}),h&&EF({...ie}),DF({...ie,apply:({elements:Ae,rects:Ne,availableWidth:Ie,availableHeight:ot})=>{const{width:Ut,height:Ss}=Ne.reference,Mn=Ae.floating.style;Mn.setProperty("--radix-popper-available-width",`${Ie}px`),Mn.setProperty("--radix-popper-available-height",`${ot}px`),Mn.setProperty("--radix-popper-anchor-width",`${Ut}px`),Mn.setProperty("--radix-popper-anchor-height",`${Ss}px`)}}),M&&FF({element:M,padding:u}),GF({arrowWidth:O,arrowHeight:z}),v&&AF({strategy:"referenceHidden",...ie})]}),[ce,P]=Xw(H),j=Cs(S);Vt(()=>{J&&(j==null||j())},[J,j]);const $=(he=Y.arrow)==null?void 0:he.x,ae=(ge=Y.arrow)==null?void 0:ge.y,ne=((Ce=Y.arrow)==null?void 0:Ce.centerOffset)!==0,[ve,de]=w.useState();return Vt(()=>{E&&de(window.getComputedStyle(E).zIndex)},[E]),le.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:J?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(ue=Y.transformOrigin)==null?void 0:ue.x,(be=Y.transformOrigin)==null?void 0:be.y].join(" "),...((pe=Y.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:le.jsx(LF,{scope:n,placedSide:ce,onArrowChange:T,arrowX:$,arrowY:ae,shouldHideArrow:ne,children:le.jsx(it.div,{"data-side":ce,"data-align":P,...b,ref:A,style:{...b.style,animation:J?void 0:"none"}})})})});Yw.displayName=Zf;var qw="PopperArrow",IF={top:"bottom",right:"left",bottom:"top",left:"right"},$w=w.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,a=OF(qw,s),l=IF[a.placedSide];return le.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:le.jsx(TF,{...i,ref:n,style:{...i.style,display:"block"}})})});$w.displayName=qw;function kF(e){return e!==null}var GF=e=>({name:"transformOrigin",options:e,fn(t){var R,E,D;const{placement:n,rects:s,middlewareData:i}=t,l=((R=i.arrow)==null?void 0:R.centerOffset)!==0,u=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[f,p]=Xw(n),m={start:"0%",center:"50%",end:"100%"}[p],v=(((E=i.arrow)==null?void 0:E.x)??0)+u/2,y=(((D=i.arrow)==null?void 0:D.y)??0)+h/2;let S="",b="";return f==="bottom"?(S=l?m:`${v}px`,b=`${-h}px`):f==="top"?(S=l?m:`${v}px`,b=`${s.floating.height+h}px`):f==="right"?(S=`${-h}px`,b=l?m:`${y}px`):f==="left"&&(S=`${s.floating.width+h}px`,b=l?m:`${y}px`),{data:{x:S,y:b}}}});function Xw(e){const[t,n="center"]=e.split("-");return[t,n]}var NF=Uw,Zw=Kw,Qw=Yw,Jw=$w,[eu,x2]=Aa("Tooltip",[Jc]),Qf=Jc(),eb="TooltipProvider",HF=700,iy="tooltip.open",[BF,tb]=eu(eb),nb=e=>{const{__scopeTooltip:t,delayDuration:n=HF,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,[l,u]=w.useState(!0),h=w.useRef(!1),f=w.useRef(0);return w.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),le.jsx(BF,{scope:t,isOpenDelayed:l,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(f.current),u(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u(!0),s)},[s]),isPointerInTransitRef:h,onPointerInTransitChange:w.useCallback(p=>{h.current=p},[]),disableHoverableContent:i,children:a})};nb.displayName=eb;var sb="Tooltip",[E2,tu]=eu(sb),hf="TooltipTrigger",zF=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=tu(hf,n),a=tb(hf,n),l=Qf(n),u=w.useRef(null),h=at(t,u,i.onTriggerChange),f=w.useRef(!1),p=w.useRef(!1),m=w.useCallback(()=>f.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),le.jsx(Zw,{asChild:!0,...l,children:le.jsx(it.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:h,onPointerMove:Ue(e.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ue(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});zF.displayName=hf;var VF="TooltipPortal",[D2,WF]=eu(VF,{forceMount:void 0}),Uo="TooltipContent",_F=w.forwardRef((e,t)=>{const n=WF(Uo,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=e,l=tu(Uo,e.__scopeTooltip);return le.jsx(pw,{present:s||l.open,children:l.disableHoverableContent?le.jsx(ib,{side:i,...a,ref:t}):le.jsx(UF,{side:i,...a,ref:t})})}),UF=w.forwardRef((e,t)=>{const n=tu(Uo,e.__scopeTooltip),s=tb(Uo,e.__scopeTooltip),i=w.useRef(null),a=at(t,i),[l,u]=w.useState(null),{trigger:h,onClose:f}=n,p=i.current,{onPointerInTransitChange:m}=s,v=w.useCallback(()=>{u(null),m(!1)},[m]),y=w.useCallback((S,b)=>{const R=S.currentTarget,E={x:S.clientX,y:S.clientY},D=qF(E,R.getBoundingClientRect()),A=$F(E,D),M=XF(b.getBoundingClientRect()),T=QF([...A,...M]);u(T),m(!0)},[m]);return w.useEffect(()=>()=>v(),[v]),w.useEffect(()=>{if(h&&p){const S=R=>y(R,p),b=R=>y(R,h);return h.addEventListener("pointerleave",S),p.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",b)}}},[h,p,y,v]),w.useEffect(()=>{if(l){const S=b=>{const R=b.target,E={x:b.clientX,y:b.clientY},D=(h==null?void 0:h.contains(R))||(p==null?void 0:p.contains(R)),A=!ZF(E,l);D?v():A&&(v(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[h,p,l,f,v]),le.jsx(ib,{...e,ref:a})}),[jF,KF]=eu(sb,{isInside:!1}),ib=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=e,h=tu(Uo,n),f=Qf(n),{onClose:p}=h;return w.useEffect(()=>(document.addEventListener(iy,p),()=>document.removeEventListener(iy,p)),[p]),w.useEffect(()=>{if(h.trigger){const m=v=>{const y=v.target;y!=null&&y.contains(h.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,p]),le.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:le.jsxs(Qw,{"data-state":h.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[le.jsx(uw,{children:s}),le.jsx(jF,{scope:n,isInside:!0,children:le.jsx(tD,{id:h.contentId,role:"tooltip",children:i||s})})]})})});_F.displayName=Uo;var ob="TooltipArrow",YF=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Qf(n);return KF(ob,n).isInside?null:le.jsx(Jw,{...i,...s,ref:t})});YF.displayName=ob;function qF(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function $F(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function XF(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function ZF(e,t){const{x:n,y:s}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a].x,h=t[a].y,f=t[l].x,p=t[l].y;h>s!=p>s&&n<(f-u)*(s-h)/(p-h)+u&&(i=!i)}return i}function QF(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),JF(t)}function JF(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var eM=nb,rb=w.createContext(void 0),tM=e=>{const{dir:t,children:n}=e;return le.jsx(rb.Provider,{value:t,children:n})};function nM(e){const t=w.useContext(rb);return e||t||"ltr"}function sM(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const iM=["none","small","medium","large","full"],oM=["inherit","light","dark"],rM=["solid","translucent"],aM=["90%","95%","100%","105%","110%"],Qt={...Fa,hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:oM,default:"inherit"},accentColor:{type:"enum",values:Aw,default:"indigo"},grayColor:{type:"enum",values:fA,default:"auto"},panelBackground:{type:"enum",values:rM,default:"translucent"},radius:{type:"enum",values:iM,default:"medium"},scaling:{type:"enum",values:aM,default:"100%"}},Mo=()=>{},ff=w.createContext(void 0),lM=w.forwardRef((e,t)=>w.useContext(ff)===void 0?w.createElement(eM,{delayDuration:200},w.createElement(tM,{dir:"ltr"},w.createElement(ab,{...e,ref:t}))):w.createElement(Jf,{...e,ref:t}));lM.displayName="Theme";const ab=w.forwardRef((e,t)=>{const{appearance:n=Qt.appearance.default,accentColor:s=Qt.accentColor.default,grayColor:i=Qt.grayColor.default,panelBackground:a=Qt.panelBackground.default,radius:l=Qt.radius.default,scaling:u=Qt.scaling.default,hasBackground:h=Qt.hasBackground.default,...f}=e,[p,m]=w.useState(n);w.useEffect(()=>m(n),[n]);const[v,y]=w.useState(s);w.useEffect(()=>y(s),[s]);const[S,b]=w.useState(i);w.useEffect(()=>b(i),[i]);const[R,E]=w.useState(a);w.useEffect(()=>E(a),[a]);const[D,A]=w.useState(l);w.useEffect(()=>A(l),[l]);const[M,T]=w.useState(u);return w.useEffect(()=>T(u),[u]),w.createElement(Jf,{...f,ref:t,isRoot:!0,hasBackground:h,appearance:p,accentColor:v,grayColor:S,panelBackground:R,radius:D,scaling:M,onAppearanceChange:m,onAccentColorChange:y,onGrayColorChange:b,onPanelBackgroundChange:E,onRadiusChange:A,onScalingChange:T})});ab.displayName="ThemeRoot";const Jf=w.forwardRef((e,t)=>{const n=w.useContext(ff),{asChild:s,isRoot:i,hasBackground:a,appearance:l=(n==null?void 0:n.appearance)??Qt.appearance.default,accentColor:u=(n==null?void 0:n.accentColor)??Qt.accentColor.default,grayColor:h=(n==null?void 0:n.resolvedGrayColor)??Qt.grayColor.default,panelBackground:f=(n==null?void 0:n.panelBackground)??Qt.panelBackground.default,radius:p=(n==null?void 0:n.radius)??Qt.radius.default,scaling:m=(n==null?void 0:n.scaling)??Qt.scaling.default,onAppearanceChange:v=Mo,onAccentColorChange:y=Mo,onGrayColorChange:S=Mo,onPanelBackgroundChange:b=Mo,onRadiusChange:R=Mo,onScalingChange:E=Mo,...D}=e,A=s?zn:"div",M=h==="auto"?sM(u):h,T=e.appearance==="light"||e.appearance==="dark",G=a===void 0?i||T:a;return w.createElement(ff.Provider,{value:w.useMemo(()=>({appearance:l,accentColor:u,grayColor:h,resolvedGrayColor:M,panelBackground:f,radius:p,scaling:m,onAppearanceChange:v,onAccentColorChange:y,onGrayColorChange:S,onPanelBackgroundChange:b,onRadiusChange:R,onScalingChange:E}),[l,u,h,M,f,p,m,v,y,S,b,R,E])},w.createElement(A,{"data-is-root-theme":i?"true":"false","data-accent-color":u,"data-gray-color":M,"data-has-background":G?"true":"false","data-panel-background":f,"data-radius":p,"data-scaling":m,ref:t,...D,className:Gn("radix-themes",{light:l==="light",dark:l==="dark"},D.className)}))});Jf.displayName="ThemeImpl";function cM(e,t){const{asChild:n,children:s}=e;if(!n)return typeof t=="function"?t(s):t;const i=w.Children.only(s);return w.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}const Mi=["0","1","2","3","4","5","6","7","8","9"],uM={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:Mi,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:Mi,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:Mi,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:Mi,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:Mi,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:Mi,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:Mi,responsive:!0}},Oh=["visible","hidden","clip","scroll","auto"],dM=["static","relative","absolute","fixed","sticky"],la=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],hM=["0","1"],fM=["0","1"],eg={...uM,...Ew,...Dw,position:{type:"enum",className:"rt-r-position",values:dM,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:la,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:la,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:la,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:la,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:la,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:Oh,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:Oh,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:Oh,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:hM,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:fM,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},Ih=["0","1","2","3","4","5","6","7","8","9"],lb={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Ih,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Ih,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Ih,responsive:!0}},gM=["div","span"],pM=["none","inline-flex","flex"],mM=["row","column","row-reverse","column-reverse"],CM=["start","center","end","baseline","stretch"],vM=["start","center","end","between"],yM=["nowrap","wrap","wrap-reverse"],wM={as:{type:"enum",values:gM,default:"div"},...Fa,display:{type:"enum",className:"rt-r-display",values:pM,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:mM,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:CM,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:vM,parseValue:bM,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:yM,responsive:!0},...lb};function bM(e){return e==="between"?"space-between":e}const SM=w.forwardRef((e,t)=>{const{className:n,asChild:s,as:i="div",...a}=ma(e,wM,eg,$c);return w.createElement(s?zn:i,{...a,ref:t,className:Gn("rt-Flex",n)})});SM.displayName="Flex";function cb(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function RM(e){const t=e+"CollectionProvider",[n,s]=Aa(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:S,children:b}=y,R=Q.useRef(null),E=Q.useRef(new Map).current;return le.jsx(i,{scope:S,itemMap:E,collectionRef:R,children:b})};l.displayName=t;const u=e+"CollectionSlot",h=Q.forwardRef((y,S)=>{const{scope:b,children:R}=y,E=a(u,b),D=at(S,E.collectionRef);return le.jsx(zn,{ref:D,children:R})});h.displayName=u;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=Q.forwardRef((y,S)=>{const{scope:b,children:R,...E}=y,D=Q.useRef(null),A=at(S,D),M=a(f,b);return Q.useEffect(()=>(M.itemMap.set(D,{ref:D,...E}),()=>void M.itemMap.delete(D))),le.jsx(zn,{[p]:"",ref:A,children:R})});m.displayName=f;function v(y){const S=a(e+"CollectionConsumer",y);return Q.useCallback(()=>{const R=S.collectionRef.current;if(!R)return[];const E=Array.from(R.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((M,T)=>E.indexOf(M.ref.current)-E.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:h,ItemSlot:m},v,s]}const xM=["div","span"],EM=["none","inline-grid","grid"],DM=["1","2","3","4","5","6","7","8","9"],AM=["1","2","3","4","5","6","7","8","9"],FM=["row","column","dense","row-dense","column-dense"],MM=["start","center","end","baseline","stretch"],TM=["start","center","end","between"],ub={as:{type:"enum",values:xM,default:"div"},...Fa,display:{type:"enum",className:"rt-r-display",values:EM,responsive:!0},areas:{type:"string",className:"rt-r-gta",customProperties:["--grid-template-areas"],responsive:!0},columns:{type:"enum | string",className:"rt-r-gtc",customProperties:["--grid-template-columns"],values:DM,parseValue:oy,responsive:!0},rows:{type:"enum | string",className:"rt-r-gtr",customProperties:["--grid-template-rows"],values:AM,parseValue:oy,responsive:!0},flow:{type:"enum",className:"rt-r-gaf",values:FM,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:MM,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:TM,parseValue:PM,responsive:!0},...lb};function oy(e){return ub.columns.values.includes(e)?e:e!=null&&e.match(/^\d+$/)?`repeat(${e}, minmax(0, 1fr))`:e}function PM(e){return e==="between"?"space-between":e}const LM=w.forwardRef((e,t)=>{const{className:n,asChild:s,as:i="div",...a}=ma(e,ub,eg,$c);return w.createElement(s?zn:i,{...a,ref:t,className:Gn("rt-Grid",n)})});LM.displayName="Grid";const OM=Q.forwardRef((e,t)=>Q.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));OM.displayName="ThickDividerHorizontalIcon";const IM=Q.forwardRef((e,t)=>Q.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));IM.displayName="ThickCheckIcon";const kM=Q.forwardRef((e,t)=>Q.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Q.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));kM.displayName="ChevronDownIcon";const GM=Q.forwardRef((e,t)=>Q.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Q.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));GM.displayName="ThickChevronRightIcon";const NM=["1","2","3","4"],HM=["none","initial"],BM=["left","center","right"],zM={...Fa,size:{type:"enum",className:"rt-r-size",values:NM,default:"4",responsive:!0},display:{type:"enum",className:"rt-r-display",values:HM,parseValue:VM,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:BM,parseValue:WM,responsive:!0}};function VM(e){return e==="initial"?"flex":e}function WM(e){return e==="left"?"start":e==="right"?"end":e}const _M=w.forwardRef(({width:e,minWidth:t,maxWidth:n,height:s,minHeight:i,maxHeight:a,...l},u)=>{const{asChild:h,children:f,className:p,...m}=ma(l,zM,eg,$c),{className:v,style:y}=ma({width:e,minWidth:t,maxWidth:n,height:s,minHeight:i,maxHeight:a},Ew,Dw);return w.createElement(h?zn:"div",{...m,ref:u,className:Gn("rt-Container",p)},cM({asChild:h,children:f},S=>w.createElement("div",{className:Gn("rt-ContainerInner",v),style:y},S)))});_M.displayName="Container";function ry(e,[t,n]){return Math.min(n,Math.max(t,e))}var UM=[" ","Enter","ArrowUp","ArrowDown"],jM=[" ","Enter"],Ta="Select",[nu,su,KM]=RM(Ta),[Jo,A2]=Aa(Ta,[KM,Jc]),iu=Jc(),[YM,si]=Jo(Ta),[qM,$M]=Jo(Ta),db=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:f,name:p,autoComplete:m,disabled:v,required:y,form:S}=e,b=iu(t),[R,E]=w.useState(null),[D,A]=w.useState(null),[M,T]=w.useState(!1),G=nM(f),[O=!1,z]=rf({prop:s,defaultProp:i,onChange:a}),[N,V]=rf({prop:l,defaultProp:u,onChange:h}),_=w.useRef(null),Z=R?S||!!R.closest("form"):!0,[ie,re]=w.useState(new Set),ee=Array.from(ie).map(H=>H.props.value).join(";");return le.jsx(NF,{...b,children:le.jsxs(YM,{required:y,scope:t,trigger:R,onTriggerChange:E,valueNode:D,onValueNodeChange:A,valueNodeHasChildren:M,onValueNodeHasChildrenChange:T,contentId:zf(),value:N,onValueChange:V,open:O,onOpenChange:z,dir:G,triggerPointerDownPosRef:_,disabled:v,children:[le.jsx(nu.Provider,{scope:t,children:le.jsx(qM,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{re(J=>new Set(J).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{re(J=>{const Y=new Set(J);return Y.delete(H),Y})},[]),children:n})}),Z?le.jsxs(Fb,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:m,value:N,onChange:H=>V(H.target.value),disabled:v,form:S,children:[N===void 0?le.jsx("option",{value:""}):null,Array.from(ie)]},ee):null]})})};db.displayName=Ta;var hb="SelectTrigger",fb=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,a=iu(n),l=si(hb,n),u=l.disabled||s,h=at(t,l.onTriggerChange),f=su(n),p=w.useRef("touch"),[m,v,y]=Mb(b=>{const R=f().filter(A=>!A.disabled),E=R.find(A=>A.value===l.value),D=Tb(R,b,E);D!==void 0&&l.onValueChange(D.value)}),S=b=>{u||(l.onOpenChange(!0),y()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return le.jsx(Zw,{asChild:!0,...a,children:le.jsx(it.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Ab(l.value)?"":void 0,...i,ref:h,onClick:Ue(i.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&S(b)}),onPointerDown:Ue(i.onPointerDown,b=>{p.current=b.pointerType;const R=b.target;R.hasPointerCapture(b.pointerId)&&R.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:Ue(i.onKeyDown,b=>{const R=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(R&&b.key===" ")&&UM.includes(b.key)&&(S(),b.preventDefault())})})})});fb.displayName=hb;var gb="SelectValue",pb=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:l="",...u}=e,h=si(gb,n),{onValueNodeHasChildrenChange:f}=h,p=a!==void 0,m=at(t,h.onValueNodeChange);return Vt(()=>{f(p)},[f,p]),le.jsx(it.span,{...u,ref:m,style:{pointerEvents:"none"},children:Ab(h.value)?le.jsx(le.Fragment,{children:l}):a})});pb.displayName=gb;var XM="SelectIcon",mb=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return le.jsx(it.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});mb.displayName=XM;var Ni="SelectContent",Cb=w.forwardRef((e,t)=>{const n=si(Ni,e.__scopeSelect),[s,i]=w.useState();if(Vt(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?zi.createPortal(le.jsx(vb,{scope:e.__scopeSelect,children:le.jsx(nu.Slot,{scope:e.__scopeSelect,children:le.jsx("div",{children:e.children})})}),a):null}return le.jsx(yb,{...e,ref:t})});Cb.displayName=Ni;var Sn=10,[vb,ii]=Jo(Ni),ZM="SelectContentImpl",yb=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:S,hideWhenDetached:b,avoidCollisions:R,...E}=e,D=si(Ni,n),[A,M]=w.useState(null),[T,G]=w.useState(null),O=at(t,he=>M(he)),[z,N]=w.useState(null),[V,_]=w.useState(null),Z=su(n),[ie,re]=w.useState(!1),ee=w.useRef(!1);w.useEffect(()=>{if(A)return hA(A)},[A]),DD();const H=w.useCallback(he=>{const[ge,...Ce]=Z().map(pe=>pe.ref.current),[ue]=Ce.slice(-1),be=document.activeElement;for(const pe of he)if(pe===be||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===ge&&T&&(T.scrollTop=0),pe===ue&&T&&(T.scrollTop=T.scrollHeight),pe==null||pe.focus(),document.activeElement!==be))return},[Z,T]),J=w.useCallback(()=>H([z,A]),[H,z,A]);w.useEffect(()=>{ie&&J()},[ie,J]);const{onOpenChange:Y,triggerPointerDownPosRef:ce}=D;w.useEffect(()=>{if(A){let he={x:0,y:0};const ge=ue=>{var be,pe;he={x:Math.abs(Math.round(ue.pageX)-(((be=ce.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((pe=ce.current)==null?void 0:pe.y)??0))}},Ce=ue=>{he.x<=10&&he.y<=10?ue.preventDefault():A.contains(ue.target)||Y(!1),document.removeEventListener("pointermove",ge),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[A,Y,ce]),w.useEffect(()=>{const he=()=>Y(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[Y]);const[P,j]=Mb(he=>{const ge=Z().filter(be=>!be.disabled),Ce=ge.find(be=>be.ref.current===document.activeElement),ue=Tb(ge,he,Ce);ue&&setTimeout(()=>ue.ref.current.focus())}),$=w.useCallback((he,ge,Ce)=>{const ue=!ee.current&&!Ce;(D.value!==void 0&&D.value===ge||ue)&&(N(he),ue&&(ee.current=!0))},[D.value]),ae=w.useCallback(()=>A==null?void 0:A.focus(),[A]),ne=w.useCallback((he,ge,Ce)=>{const ue=!ee.current&&!Ce;(D.value!==void 0&&D.value===ge||ue)&&_(he)},[D.value]),ve=s==="popper"?gf:wb,de=ve===gf?{side:u,sideOffset:h,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:S,hideWhenDetached:b,avoidCollisions:R}:{};return le.jsx(vb,{scope:n,content:A,viewport:T,onViewportChange:G,itemRefCallback:$,selectedItem:z,onItemLeave:ae,itemTextRefCallback:ne,focusSelectedItem:J,selectedItemText:V,position:s,isPositioned:ie,searchRef:P,children:le.jsx(Rw,{as:zn,allowPinchZoom:!0,children:le.jsx(fw,{asChild:!0,trapped:D.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Ue(i,he=>{var ge;(ge=D.trigger)==null||ge.focus({preventScroll:!0}),he.preventDefault()}),children:le.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:le.jsx(ve,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:he=>he.preventDefault(),...E,...de,onPlaced:()=>re(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ue(E.onKeyDown,he=>{const ge=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!ge&&he.key.length===1&&j(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ue=Z().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const be=he.target,pe=ue.indexOf(be);ue=ue.slice(pe+1)}setTimeout(()=>H(ue)),he.preventDefault()}})})})})})})});yb.displayName=ZM;var QM="SelectItemAlignedPosition",wb=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,a=si(Ni,n),l=ii(Ni,n),[u,h]=w.useState(null),[f,p]=w.useState(null),m=at(t,O=>p(O)),v=su(n),y=w.useRef(!1),S=w.useRef(!0),{viewport:b,selectedItem:R,selectedItemText:E,focusSelectedItem:D}=l,A=w.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&f&&b&&R&&E){const O=a.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),V=E.getBoundingClientRect();if(a.dir!=="rtl"){const be=V.left-z.left,pe=N.left-be,Ae=O.left-pe,Ne=O.width+Ae,Ie=Math.max(Ne,z.width),ot=window.innerWidth-Sn,Ut=ry(pe,[Sn,Math.max(Sn,ot-Ie)]);u.style.minWidth=Ne+"px",u.style.left=Ut+"px"}else{const be=z.right-V.right,pe=window.innerWidth-N.right-be,Ae=window.innerWidth-O.right-pe,Ne=O.width+Ae,Ie=Math.max(Ne,z.width),ot=window.innerWidth-Sn,Ut=ry(pe,[Sn,Math.max(Sn,ot-Ie)]);u.style.minWidth=Ne+"px",u.style.right=Ut+"px"}const _=v(),Z=window.innerHeight-Sn*2,ie=b.scrollHeight,re=window.getComputedStyle(f),ee=parseInt(re.borderTopWidth,10),H=parseInt(re.paddingTop,10),J=parseInt(re.borderBottomWidth,10),Y=parseInt(re.paddingBottom,10),ce=ee+H+ie+Y+J,P=Math.min(R.offsetHeight*5,ce),j=window.getComputedStyle(b),$=parseInt(j.paddingTop,10),ae=parseInt(j.paddingBottom,10),ne=O.top+O.height/2-Sn,ve=Z-ne,de=R.offsetHeight/2,he=R.offsetTop+de,ge=ee+H+he,Ce=ce-ge;if(ge<=ne){const be=_.length>0&&R===_[_.length-1].ref.current;u.style.bottom="0px";const pe=f.clientHeight-b.offsetTop-b.offsetHeight,Ae=Math.max(ve,de+(be?ae:0)+pe+J),Ne=ge+Ae;u.style.height=Ne+"px"}else{const be=_.length>0&&R===_[0].ref.current;u.style.top="0px";const Ae=Math.max(ne,ee+b.offsetTop+(be?$:0)+de)+Ce;u.style.height=Ae+"px",b.scrollTop=ge-ne+b.offsetTop}u.style.margin=`${Sn}px 0`,u.style.minHeight=P+"px",u.style.maxHeight=Z+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[v,a.trigger,a.valueNode,u,f,b,R,E,a.dir,s]);Vt(()=>A(),[A]);const[M,T]=w.useState();Vt(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const G=w.useCallback(O=>{O&&S.current===!0&&(A(),D==null||D(),S.current=!1)},[A,D]);return le.jsx(eT,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:G,children:le.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:le.jsx(it.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wb.displayName=QM;var JM="SelectPopperPosition",gf=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Sn,...a}=e,l=iu(n);return le.jsx(Qw,{...l,...a,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gf.displayName=JM;var[eT,tg]=Jo(Ni,{}),pf="SelectViewport",tT=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,a=ii(pf,n),l=tg(pf,n),u=at(t,a.onViewportChange),h=w.useRef(0);return le.jsxs(le.Fragment,{children:[le.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),le.jsx(nu.Slot,{scope:n,children:le.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&m){const y=Math.abs(h.current-p.scrollTop);if(y>0){const S=window.innerHeight-Sn*2,b=parseFloat(m.style.minHeight),R=parseFloat(m.style.height),E=Math.max(b,R);if(E<S){const D=E+y,A=Math.min(S,D),M=D-A;m.style.height=A+"px",m.style.bottom==="0px"&&(p.scrollTop=M>0?M:0,m.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});tT.displayName=pf;var bb="SelectGroup",[nT,sT]=Jo(bb),iT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=zf();return le.jsx(nT,{scope:n,id:i,children:le.jsx(it.div,{role:"group","aria-labelledby":i,...s,ref:t})})});iT.displayName=bb;var Sb="SelectLabel",oT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=sT(Sb,n);return le.jsx(it.div,{id:i.id,...s,ref:t})});oT.displayName=Sb;var Dc="SelectItem",[rT,Rb]=Jo(Dc),xb=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...l}=e,u=si(Dc,n),h=ii(Dc,n),f=u.value===s,[p,m]=w.useState(a??""),[v,y]=w.useState(!1),S=at(t,D=>{var A;return(A=h.itemRefCallback)==null?void 0:A.call(h,D,s,i)}),b=zf(),R=w.useRef("touch"),E=()=>{i||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return le.jsx(rT,{scope:n,value:s,disabled:i,textId:b,isSelected:f,onItemTextChange:w.useCallback(D=>{m(A=>A||((D==null?void 0:D.textContent)??"").trim())},[]),children:le.jsx(nu.ItemSlot,{scope:n,value:s,disabled:i,textValue:p,children:le.jsx(it.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:S,onFocus:Ue(l.onFocus,()=>y(!0)),onBlur:Ue(l.onBlur,()=>y(!1)),onClick:Ue(l.onClick,()=>{R.current!=="mouse"&&E()}),onPointerUp:Ue(l.onPointerUp,()=>{R.current==="mouse"&&E()}),onPointerDown:Ue(l.onPointerDown,D=>{R.current=D.pointerType}),onPointerMove:Ue(l.onPointerMove,D=>{var A;R.current=D.pointerType,i?(A=h.onItemLeave)==null||A.call(h):R.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(l.onPointerLeave,D=>{var A;D.currentTarget===document.activeElement&&((A=h.onItemLeave)==null||A.call(h))}),onKeyDown:Ue(l.onKeyDown,D=>{var M;((M=h.searchRef)==null?void 0:M.current)!==""&&D.key===" "||(jM.includes(D.key)&&E(),D.key===" "&&D.preventDefault())})})})})});xb.displayName=Dc;var ua="SelectItemText",aT=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...a}=e,l=si(ua,n),u=ii(ua,n),h=Rb(ua,n),f=$M(ua,n),[p,m]=w.useState(null),v=at(t,E=>m(E),h.onItemTextChange,E=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,E,h.value,h.disabled)}),y=p==null?void 0:p.textContent,S=w.useMemo(()=>le.jsx("option",{value:h.value,disabled:h.disabled,children:y},h.value),[h.disabled,h.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:R}=f;return Vt(()=>(b(S),()=>R(S)),[b,R,S]),le.jsxs(le.Fragment,{children:[le.jsx(it.span,{id:h.textId,...a,ref:v}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?zi.createPortal(a.children,l.valueNode):null]})});aT.displayName=ua;var Eb="SelectItemIndicator",lT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return Rb(Eb,n).isSelected?le.jsx(it.span,{"aria-hidden":!0,...s,ref:t}):null});lT.displayName=Eb;var mf="SelectScrollUpButton",cT=w.forwardRef((e,t)=>{const n=ii(mf,e.__scopeSelect),s=tg(mf,e.__scopeSelect),[i,a]=w.useState(!1),l=at(t,s.onScrollButtonChange);return Vt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollTop>0;a(f)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?le.jsx(Db,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});cT.displayName=mf;var Cf="SelectScrollDownButton",uT=w.forwardRef((e,t)=>{const n=ii(Cf,e.__scopeSelect),s=tg(Cf,e.__scopeSelect),[i,a]=w.useState(!1),l=at(t,s.onScrollButtonChange);return Vt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<f;a(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?le.jsx(Db,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});uT.displayName=Cf;var Db=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,a=ii("SelectScrollButton",n),l=w.useRef(null),u=su(n),h=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),Vt(()=>{var p;const f=u().find(m=>m.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),le.jsx(it.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{h()})})}),dT="SelectSeparator",hT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return le.jsx(it.div,{"aria-hidden":!0,...s,ref:t})});hT.displayName=dT;var vf="SelectArrow",fT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=iu(n),a=si(vf,n),l=ii(vf,n);return a.open&&l.position==="popper"?le.jsx(Jw,{...i,...s,ref:t}):null});fT.displayName=vf;function Ab(e){return e===""||e===void 0}var Fb=w.forwardRef((e,t)=>{const{value:n,...s}=e,i=w.useRef(null),a=at(t,i),l=cb(n);return w.useEffect(()=>{const u=i.current,h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==n&&p){const m=new Event("change",{bubbles:!0});p.call(u,n),u.dispatchEvent(m)}},[l,n]),le.jsx(Bf,{asChild:!0,children:le.jsx("select",{...s,ref:a,defaultValue:n})})});Fb.displayName="BubbleSelect";function Mb(e){const t=Cs(e),n=w.useRef(""),s=w.useRef(0),i=w.useCallback(l=>{const u=n.current+l;t(u),function h(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),a=w.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function Tb(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let l=gT(e,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==n));const h=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function gT(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var F2=db,M2=fb,T2=pb,P2=mb,L2=Cb,O2=xb,ng="Switch",[pT,I2]=Aa(ng),[mT,CT]=pT(ng),Pb=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:l,disabled:u,value:h="on",onCheckedChange:f,form:p,...m}=e,[v,y]=w.useState(null),S=at(t,A=>y(A)),b=w.useRef(!1),R=v?p||!!v.closest("form"):!0,[E=!1,D]=rf({prop:i,defaultProp:a,onChange:f});return le.jsxs(mT,{scope:n,checked:E,disabled:u,children:[le.jsx(it.button,{type:"button",role:"switch","aria-checked":E,"aria-required":l,"data-state":Ib(E),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:S,onClick:Ue(e.onClick,A=>{D(M=>!M),R&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),R&&le.jsx(vT,{control:v,bubbles:!b.current,name:s,value:h,checked:E,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});Pb.displayName=ng;var Lb="SwitchThumb",Ob=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=CT(Lb,n);return le.jsx(it.span,{"data-state":Ib(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});Ob.displayName=Lb;var vT=e=>{const{control:t,checked:n,bubbles:s=!0,...i}=e,a=w.useRef(null),l=cb(n),u=Vw(t);return w.useEffect(()=>{const h=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:s});m.call(h,n),h.dispatchEvent(v)}},[l,n,s]),le.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ib(e){return e?"checked":"unchecked"}var k2=Pb,G2=Ob,er=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const s=t?this.allAsyncListeners:this.allSyncListeners;let i=s.get(e);return!i&&n&&(i=new Set,s.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const s=this.getListeners(e,n,!1);s&&(s.delete(t),s.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const u=e.event;u instanceof Event&&(e.eventPath=u.composedPath())}const s=(u,h)=>u.forEach(f=>{if(!h.has(f))return;const p=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>f(e)):()=>f(e);t?this.dispatchAsync(p):p()}),i=this.getListeners(n,t,!1)??new Set,a=new Set(i);a.size>0&&s(a,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(u=>{const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(n,e)):()=>u(n,e);t?this.dispatchAsync(h):h()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function yT(e,t){return t}function kb(e){return(e==null?void 0:e.getLocaleTextFunc())??yT}function oi(e,t,n){n==null||typeof n=="string"&&n==""?sg(e,t):jn(e,t,n)}function jn(e,t,n){e.setAttribute(Gb(t),n.toString())}function sg(e,t){e.removeAttribute(Gb(t))}function Gb(e){return`aria-${e}`}function Wt(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function wT(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function bT(e){return parseInt(e.getAttribute("aria-posinset"),10)}function ST(e){return e.getAttribute("aria-label")}function Vi(e,t){oi(e,"label",t)}function yf(e,t){oi(e,"labelledby",t)}function Nb(e,t){oi(e,"live",t)}function RT(e,t){oi(e,"atomic",t)}function xT(e,t){oi(e,"relevant",t)}function ig(e,t){oi(e,"hidden",t)}function ya(e,t){jn(e,"expanded",t)}function ET(e){sg(e,"expanded")}function og(e,t){jn(e,"setsize",t)}function rg(e,t){jn(e,"posinset",t)}function DT(e,t){jn(e,"rowcount",t)}function AT(e,t){jn(e,"rowindex",t)}function FT(e,t){jn(e,"colcount",t)}function Hb(e,t){jn(e,"colindex",t)}function MT(e,t){jn(e,"colspan",t)}function TT(e,t){jn(e,"sort",t)}function PT(e){sg(e,"sort")}function ay(e,t){oi(e,"selected",t)}function LT(e,t){oi(e,"controls",t.id),yf(t,e.id)}function OT(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var kh,Gh,Nh,Hh,Bh,wf,bf,zh;function ag(){return kh===void 0&&(kh=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),kh}function Bb(){if(Gh===void 0){const e=window;Gh=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Gh}function zb(){return Nh===void 0&&(Nh=/(firefox)/i.test(navigator.userAgent)),Nh}function Vb(){return Hh===void 0&&(Hh=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Hh}function No(){return Bh===void 0&&(Bh=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Bh}function ly(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!zb())?null:t.toString()}function IT(){if(zh!==void 0)return zh;if(!document.body)return-1;let e=1e6;const t=zb()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const s=e*2;if(n.style.height=s+"px",s>t||n.clientHeight!==s)break;e=s}return document.body.removeChild(n),zh=e,e}function kT(){return bf==null&&Wb(),bf}function Wb(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(bf=n,wf=n===0)}function _b(){return wf==null&&Wb(),wf}var nc,GT="[tabindex], input, select, button, textarea, [href]",Ub="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function lg(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),i=t.call(e,Ub),a=Wn(e);return s&&!i&&a}function Ze(e,t,n={}){const{skipAriaHidden:s}=n;e.classList.toggle("ag-hidden",!t),s||ig(e,!t)}function NT(e,t,n={}){const{skipAriaHidden:s}=n;e.classList.toggle("ag-invisible",!t),s||ig(e,!t)}function wa(e,t){const n="disabled",s=t?i=>i.setAttribute(n,""):i=>i.removeAttribute(n);s(e),qb(e.querySelectorAll("input"),i=>s(i))}function Li(e,t,n){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++s>n)break}else if(e===n)break}return!1}function tr(e){const{height:t,width:n,borderTopWidth:s,borderRightWidth:i,borderBottomWidth:a,borderLeftWidth:l,paddingTop:u,paddingRight:h,paddingBottom:f,paddingLeft:p,marginTop:m,marginRight:v,marginBottom:y,marginLeft:S,boxSizing:b}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(l||"0"),paddingTop:parseFloat(u||"0"),paddingRight:parseFloat(h||"0"),paddingBottom:parseFloat(f||"0"),paddingLeft:parseFloat(p||"0"),marginTop:parseFloat(m||"0"),marginRight:parseFloat(v||"0"),marginBottom:parseFloat(y||"0"),marginLeft:parseFloat(S||"0"),boxSizing:b}}function cg(e){const t=tr(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Ac(e){const t=tr(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function jb(e){const{height:t,marginBottom:n,marginTop:s}=tr(e);return Math.floor(t+n+s)}function Fc(e){const{width:t,marginLeft:n,marginRight:s}=tr(e);return Math.floor(t+n+s)}function Kb(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:s,borderRightWidth:i,borderBottomWidth:a}=tr(e);return{top:t.top+(n||0),left:t.left+(s||0),right:t.right+(i||0),bottom:t.bottom+(a||0)}}function Mc(){if(typeof nc=="boolean")return nc;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,nc=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),nc}function Tc(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),Bb()&&!Mc()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function Pc(e,t,n){n&&(Mc()?t*=-1:(ag()||Bb())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Fn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Hi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Yb(e){return!!e.offsetParent}function Wn(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Yb(e)||window.getComputedStyle(e).visibility!=="visible")}function jo(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function HT(e){return e.clientWidth<e.scrollWidth}function BT(e){return e.clientHeight<e.scrollHeight}function Lc(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Hn(e,t)}function Hn(e,t){t=ug(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function fa(e,t){t=ug(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function ug(e){return typeof e=="number"?`${e}px`:e}function dg(e){return e instanceof Node||e instanceof HTMLElement}function zT(e){if(e==null)return[];const t=[];return qb(e,n=>t.push(n)),t}function VT(e,t){if(e)for(let n=0;n<e.length;n++){const s=e[n];t(s.name,s.value)}}function Ho(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function qb(e,t){if(e!=null)for(let n=0;n<e.length;n++)t(e[n])}function bs(e,t,n){const i=oS(e).ResizeObserver,a=i?new i(n):null;return a==null||a.observe(t),()=>a==null?void 0:a.disconnect()}function Qs(e){return e==null||e===""?null:e}function ye(e){return e!=null&&e!==""}function qe(e){return!ye(e)}function Sf(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function $b(e,t){const n=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return n===s}function WT(e,t,n=!1){const s=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&i)return 0;if(s)return-1;if(i)return 1;function a(l,u){return l>u?1:l<u?-1:0}if(typeof e!="string"||!n)return a(e,t);try{return e.localeCompare(t)}catch{return a(e,t)}}var Xb="https://www.ag-grid.com",cy={};function Zb(e,t){cy[t]||(e(),cy[t]=!0)}function Oc(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function _T(e,...t){Zb(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function ga(e,...t){Zb(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var Vh=[],Wh=!1;function uy(e){Vh.push(e),!Wh&&(Wh=!0,window.setTimeout(()=>{const t=Vh.slice();Vh.length=0,Wh=!1,t.forEach(n=>n())},0))}function Zs(e,t,n){let s;return function(...i){const a=this;window.clearTimeout(s),s=window.setTimeout(function(){e.isAlive()&&t.apply(a,i)},n)}}function dy(e,t){let n=0;return function(...s){const i=this,a=new Date().getTime();a-n<t||(n=a,e.apply(i,s))}}function Qb(e,t,n=100,s){const i=new Date().getTime();let a=null,l=!1;const u=()=>{const h=new Date().getTime()-i>n;(e()||h)&&(t(),l=!0,a!=null&&(window.clearInterval(a),a=null))};u(),l||(a=window.setInterval(u,10))}var Ge="33.0.4",hy=2e3,fy=100,Jb="_version_",hg=`${Xb}/javascript-data-grid`;function UT(e){hg=e}function eS(e,t,n){return[$T(e,t,n)]}function fg(e,t,n,s){e(`error #${t}`,...eS(t,n,s))}function jT(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function KT(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=jT(e)),t}function Rf(e,t){return`${e}?${t.toString()}`}function YT(e,t,n){const s=Array.from(t.entries()).sort((a,l)=>l[1].length-a[1].length);let i=Rf(e,t);for(const[a,l]of s){if(a===Jb)continue;const u=i.length-n;if(u<=0)break;const h="...",f=u+h.length,p=l.length-f>fy?l.slice(0,l.length-f)+h:l.slice(0,fy)+h;t.set(a,p),i=Rf(e,t)}return i}function qT(e,t){const n=new URLSearchParams;n.append(Jb,Ge),t&&Object.entries(t).forEach(([a,l])=>{n.append(a,KT(l))});const s=`${hg}/errors/${e}`,i=Rf(s,n);return i.length<=hy?i:YT(s,n,hy)}var $T=(e,t,n)=>{const s=qT(e,t);return`${n?n+` 
`:""}Visit ${s}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function me(...e){fg(_T,e[0],e[1])}function Ye(...e){fg(ga,e[0],e[1])}function xf(e,t,n){fg(ga,e,t,n)}function XT(e,t){const n=t[0];return`error #${n} `+eS(n,t[1],e).join(" ")}function tS(...e){return XT(void 0,e)}function nS(e,t){return e.get("rowModelType")===t}function nr(e,t){return nS(e,"clientSide")}function gg(e,t){return nS(e,"serverSide")}function At(e,t){return e.get("domLayout")===t}function pg(e){return sP(e)!==void 0}function sS(e){return typeof e.get("getRowHeight")=="function"}function ZT(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Ic(e,t,n=!1,s){const{gos:i,environment:a}=e;if(s==null&&(s=a.getDefaultRowHeight()),sS(i)){if(n)return{height:s,estimated:!0};const h={node:t,data:t.data},f=i.getCallback("getRowHeight")(h);if(Ef(f))return f===0&&me(23),{height:Math.max(1,f),estimated:!1}}if(t.detail&&i.get("masterDetail"))return QT(i);const l=i.get("rowHeight");return{height:l&&Ef(l)?l:s,estimated:!1}}function QT(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Ef(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function iS(e){const{environment:t,gos:n}=e,s=n.get("rowHeight");if(!s||qe(s))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(me(24),t.getDefaultRowHeight())}function Ef(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function kc(e,t,n){const s=t[e.getDomDataKey()];return s?s[n]:void 0}function Ko(e,t,n,s){const i=e.getDomDataKey();let a=t[i];qe(a)&&(a={},t[i]=a),a[n]=s}function Ct(e){const{gos:t,eGridDiv:n}=e;let s=null;const i=t.get("getDocument");return i&&ye(i)?s=i():n&&(s=n.ownerDocument),s&&ye(s)?s:document}function oS(e){return Ct(e).defaultView||window}function ba(e){return e.eGridDiv.getRootNode()}function vt(e){return ba(e).activeElement}function mg(e){let t=null,n=null;try{t=Ct(e).fullscreenElement}catch{}finally{t||(t=ba(e));const s=t.querySelector("body");s?n=s:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function JT(e){const t=mg(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function eP(e){const t=mg(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function tP(e,t,n){const i=e.getBoundingClientRect().height,a=JT(n)-2,l=eP(n)-2;if(!e.offsetParent)return;const h=Kb(e.offsetParent),{clientY:f,clientX:p}=t;let m=f-h.top-i/2,v=p-h.left-10;const y=Ct(n),S=y.defaultView||window,b=S.pageYOffset||y.documentElement.scrollTop,R=S.pageXOffset||y.documentElement.scrollLeft;a>0&&v+e.clientWidth>a+R&&(v=a+R-e.clientWidth),v<0&&(v=0),l>0&&m+e.clientHeight>l+b&&(m=l+b-e.clientHeight),m<0&&(m=0),e.style.left=`${v}px`,e.style.top=`${m}px`}function rS(e){const t=Ct(e),n=vt(e);return n===null||n===t.body}function Bo(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function ou(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||At(e,"print"))}function xn(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Sa(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function ru(e){return e.get("grandTotalRow")}function aS(e){const t=e.get("groupTotalRow");return typeof t=="function"?e.getCallback("groupTotalRow"):()=>t??void 0}function lS(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function Cg(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Df(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let s=t(n);return typeof s!="string"&&(me(25,{id:s}),s=String(s)),s}}function cS(e,t){const n=e.get("suppressGroupChangesColumnVisibility");if(n===!0||t&&n==="suppressHideOnGroup"||!t&&n==="suppressShowOnUngroup")return!1;const s=e.get("suppressRowGroupHidesColumns");if(t&&s===!0)return!1;const i=e.get("suppressMakeColumnVisibleAfterUnGroup");return!(!t&&i===!0)}function uS(e){return(e==null?void 0:e.checkboxes)??!0}function nP(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function Ra(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function sP(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function iP(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return n&&s?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function oP(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function rP(e){const t=iP(e);return t==="descendants"||t==="filteredDescendants"}function _h(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function en(e){return e.get("columnMenu")==="legacy"}function aP(e){return!en(e)}function lP(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function cP(e,t,n){typeof e!="object"&&(e={});const s={...e};return n.forEach(i=>{const a=t[i];typeof a<"u"&&(s[i]=a)}),s}function uP(e,t){if(!e)return;const n={};let s=!1;if(Object.keys(e).forEach(l=>{n[l]=e[l],s=!0}),!s)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const a={type:"componentStateChanged",...n};t.dispatchEvent(a)}var dS="__ag_Grid_Stop_Propagation",dP=["touchstart","touchend","touchmove","touchcancel","scroll"],hP=["wheel"],Uh={};function Yo(e){e[dS]=!0}function En(e){return e[dS]===!0}var hS=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof Uh[n]=="boolean")return Uh[n];const s=document.createElement(e[n]||"div");return n="on"+n,Uh[n]=n in s}})();function fS(e,t,n){let s=t;for(;s;){const i=kc(e,s,n);if(i)return i;s=s.parentElement}return null}function Af(e,t){return!t||!e?!1:gP(t).indexOf(e)>=0}function fP(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function gP(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():fP(t)}function pP(e,t,n,s){const i=gS(n);let a;i!=null&&(a={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,s,a)}var gS=e=>{const t=dP.includes(e),n=hP.includes(e);if(t)return!0;if(n)return!1},se=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new er),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var s;(s=this.localEventService)==null||s.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const s of Object.keys(t)){const i=t[s];i&&n.push(this._setupListener(e,s,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;e instanceof HTMLElement?pP(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n);const s=()=>(e.removeEventListener(t,n),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==s),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const s=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==s),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,s=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const a={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(a)};e.forEach(i=>this.setupGridOptionListener(i,s))}getLocaleTextFunc(){return kb(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},mP=new Set(["__proto__","constructor","prototype"]);function CP(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const[n,s]of Object.entries(e))t(n,s)}}function Dt(e,t,n=!0,s=!1){ye(t)&&CP(t,(i,a)=>{if(mP.has(i))return;let l=e[i];l!==a&&(s&&l==null&&a!=null&&typeof a=="object"&&a.constructor===Object&&(l={},e[i]=l),gy(a)&&gy(l)&&!Array.isArray(l)?Dt(l,a,n,s):(n||a!==void 0)&&(e[i]=a))})}function mc(e,t,n){if(!t||!e)return;if(!n)return e[t];const s=t.split(".");let i=e;for(let a=0;a<s.length;a++){if(i==null)return;i=i[s[a]]}return i}function gy(e){return typeof e=="object"&&e!==null}var vP={resizable:!0,sortable:!0},yP=0;function pS(){return yP++}function ni(e){return e instanceof vg}var vg=class extends se{constructor(e,t,n,s){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=s,this.isColumn=!0,this.instanceId=pS(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new er,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:s}}=this;t==null||t.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n==null||n.initCol(this),s==null||s.initCol(this)}setColDef(e,t,n){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,s=e.get("suppressFieldDotNotation");this.fieldContainsDots=ye(t)&&t.indexOf(".")>=0&&!s,this.tooltipFieldContainsDots=ye(n)&&n.indexOf(".")>=0&&!s}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,s=e.initialWidth;return n!=null?t=n:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var s,i,a;this.frameworkEventListenerService=(i=(s=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:i.call(s,this.frameworkEventListenerService,this.colEventSvc);const n=((a=this.frameworkEventListenerService)==null?void 0:a.wrap(t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var s;const n=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??vP[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return qe(this.sort)}isSorting(){return ye(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return me(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(qe(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(qe(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const s=this.createColumnEvent(e,t);n&&Dt(s,n),this.colEventSvc.dispatchEvent(s)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ot(e){return e instanceof Cc}var Cc=class extends se{constructor(e,t,n,s){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=s,this.isColumn=!1,this.expandable=!1,this.instanceId=pS(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{ni(t)?e.push(t):Ot(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const s=this.findChildrenRemovingPadding();for(let a=0,l=s.length;a<l;a++){const u=s[a];if(!u.isVisible())continue;const h=u.getColumnGroupShow();h==="open"?(e=!0,n=!0):h==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(s=>{Ot(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},wP={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},bP=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Sf(e);let n=0;for(;;){let s=e??t;if(s?n!==0&&(s+="_"+n):s=n,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);n++}}},Ff=Object.freeze([]);function Oe(e){if(e!=null&&e.length)return e[e.length-1]}function Bn(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,i)=>n?n(s,t[i]):t[i]===s)}function SP(e){return e.sort((t,n)=>t-n)}function _t(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function py(e,t,n){for(let s=0;s<t.length;s++)_t(e,t[s]);for(let s=t.length-1;s>=0;s--)e.splice(n,0,t[s])}function mS(e,t){const n=[],s=[],i=[];return e.forEach(l=>{const u=l.getColDef().lockPosition;u==="right"?i.push(l):u==="left"||u===!0?n.push(l):s.push(l)}),t.get("enableRtl")?[...i,...s,...n]:[...n,...s,...i]}function CS(e,t){let n=!0;return fs(null,t,s=>{if(!Ot(s))return;const i=s,a=i.getColGroupDef();if(!(a&&a.marryChildren))return;const u=[];i.getLeafColumns().forEach(v=>{const y=e.indexOf(v);u.push(y)});const h=Math.max.apply(Math,u),f=Math.min.apply(Math,u),p=h-f,m=i.getLeafColumns().length-1;p>m&&(n=!1)}),n}function vS(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let s=1;s<e.length;s++)if(n!==t(e[s]))return;return n}function yS(e,t,n){if(!t.length)return;const s=t.length===1?t[0]:null,i=vS(t,a=>a.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:s,source:n})}function RP(e,t,n){if(!t.length)return;const s=t.length===1?t[0]:null,i=vS(t,a=>a.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:s,source:n})}function wS(e,t,n,s){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:s})}function Gc(e,t,n,s,i=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:s})}function bS(e,t,n){var M;const{colModel:s,rowGroupColsSvc:i,pivotColsSvc:a,autoColSvc:l,selectionColSvc:u,colAnimation:h,visibleCols:f,pivotResultCols:p,environment:m,valueColsSvc:v,eventSvc:y,gos:S}=e,b=s.getColDefCols()||[];if(!(b!=null&&b.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return me(32),!1;const R=(T,G,O,z,N)=>{if(!T)return;const V=LP(G,t.defaultState),_=V("flex").value1;if(AS(e,T,V("hide").value1,V("sort").value1,V("sortIndex").value1,V("pinned").value1,_,n),_==null){const Z=V("width").value1;if(Z!=null){const ie=T.getColDef().minWidth??m.getDefaultColumnMinWidth();ie!=null&&Z>=ie&&T.setActualWidth(Z,n)}}N||!T.isPrimary()||(v==null||v.syncColumnWithState(T,n,V),i==null||i.syncColumnWithState(T,n,V,O),a==null||a.syncColumnWithState(T,n,V,z))},E=(T,G,O)=>{var P,j;const z=SS(e,n),N=G.slice(),V={},_={},Z=[],ie=[],re=[];let ee=0;const H=(i==null?void 0:i.columns.slice())??[],J=(a==null?void 0:a.columns.slice())??[];T.forEach($=>{const ae=$.colId;if(ae.startsWith(qo)){Z.push($),re.push($);return}if(xS(ae)){ie.push($),re.push($);return}const ve=O(ae);ve?(R(ve,$,V,_,!1),_t(N,ve)):(re.push($),ee+=1)});const Y=$=>R($,null,V,_,!1);N.forEach(Y),i==null||i.sortColumns(Cy.bind(i,V,H)),a==null||a.sortColumns(Cy.bind(a,_,J)),s.refreshCols(!1);const ce=($,ae,ne=[])=>{ae.forEach(ve=>{const de=$(ve.colId);_t(ne,de),R(de,ve,null,null,!0)}),ne.forEach(Y)};return ce($=>(l==null?void 0:l.getAutoCol($))??null,Z,(P=l==null?void 0:l.getAutoCols())==null?void 0:P.slice()),ce($=>(u==null?void 0:u.getSelectionCol($))??null,ie,(j=u==null?void 0:u.getSelectionCols())==null?void 0:j.slice()),EP(t,s,S),f.refresh(n),y.dispatchEvent({type:"columnEverythingChanged",source:n}),z(),{unmatchedAndAutoStates:re,unmatchedCount:ee}};h==null||h.start();let{unmatchedAndAutoStates:D,unmatchedCount:A}=E(t.state||[],b,T=>s.getColDefCol(T));if(D.length>0||ye(t.defaultState)){const T=((M=p==null?void 0:p.getPivotResultCols())==null?void 0:M.list)??[];A=E(D,T,G=>(p==null?void 0:p.getPivotResultCol(G))??null).unmatchedCount}return h==null||h.finish(),A===0}function SS(e,t){const{rowGroupColsSvc:n,pivotColsSvc:s,valueColsSvc:i,colModel:a,sortSvc:l,eventSvc:u}=e,h={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(s==null?void 0:s.columns.slice())??[],valueColumns:(i==null?void 0:i.columns.slice())??[]},f=my(e),p={};return f.forEach(m=>{p[m.colId]=m}),()=>{const m=a.getAllCols(),v=(O,z,N,V)=>{const _=z.map(V),Z=N.map(V);if(Bn(_,Z))return;const re=new Set(z);N.forEach(H=>{re.delete(H)||re.add(H)});const ee=[...re];u.dispatchEvent({type:O,columns:ee,column:ee.length===1?ee[0]:null,source:t})},y=O=>{const z=[];return m.forEach(N=>{const V=p[N.getColId()];V&&O(V,N)&&z.push(N)}),z},S=O=>O.getColId();v("columnRowGroupChanged",h.rowGroupColumns,(n==null?void 0:n.columns)??[],S),v("columnPivotChanged",h.pivotColumns,(s==null?void 0:s.columns)??[],S);const R=y((O,z)=>{const N=O.aggFunc!=null,V=N!=z.isValueActive(),_=N&&O.aggFunc!=z.getAggFunc();return V||_});R.length>0&&wS(u,"columnValueChanged",R,t),Gc(u,y((O,z)=>O.width!=z.getActualWidth()),!0,t),yS(u,y((O,z)=>O.pinned!=z.getPinned()),t),RP(u,y((O,z)=>O.hide==z.isVisible()),t);const T=y((O,z)=>O.sort!=z.getSort()||O.sortIndex!=z.getSortIndex());T.length>0&&(l==null||l.dispatchSortChangedEvents(t,T));const G=my(e);AP(f,G,t,a,u)}}function my(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:s}=e,i=t.getColDefCols();if(qe(i)||!t.isAlive())return[];const a=t.getAllCols(),l=n==null?void 0:n.columns,u=s==null?void 0:s.columns,h=m=>{const v=m.isRowGroupActive()&&l?l.indexOf(m):null,y=m.isPivotActive()&&u?u.indexOf(m):null,S=m.isValueActive()?m.getAggFunc():null,b=m.getSort()!=null?m.getSort():null,R=m.getSortIndex()!=null?m.getSortIndex():null;return{colId:m.getColId(),width:m.getActualWidth(),hide:!m.isVisible(),pinned:m.getPinned(),sort:b,sortIndex:R,aggFunc:S,rowGroup:m.isRowGroupActive(),rowGroupIndex:v,pivot:m.isPivotActive(),pivotIndex:y,flex:m.getFlex()??null}},f=a.map(m=>h(m)),p=new Map(t.getCols().map((m,v)=>[m.getColId(),v]));return f.sort((m,v)=>{const y=p.has(m.colId)?p.get(m.colId):-1,S=p.has(v.colId)?p.get(v.colId):-1;return y-S}),f}function xP(e){const t=(S,b)=>S??b??null,n=e.getColDef(),s=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),a=t(n.hide,n.initialHide),l=t(n.pinned,n.initialPinned),u=t(n.width,n.initialWidth),h=t(n.flex,n.initialFlex);let f=t(n.rowGroupIndex,n.initialRowGroupIndex),p=t(n.rowGroup,n.initialRowGroup);f==null&&(p==null||p==!1)&&(f=null,p=null);let m=t(n.pivotIndex,n.initialPivotIndex),v=t(n.pivot,n.initialPivot);m==null&&(v==null||v==!1)&&(m=null,v=null);const y=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:i,hide:a,pinned:l,width:u,flex:h,rowGroup:p,rowGroupIndex:f,pivot:v,pivotIndex:m,aggFunc:y}}function EP(e,t,n){if(!e.applyOrder||!e.state)return;const s=[];e.state.forEach(i=>{i.colId!=null&&s.push(i.colId)}),DP(t.cols,s,t,n)}function DP(e,t,n,s){if(e==null)return;let i=[];const a={};t.forEach(u=>{if(a[u])return;const h=e.map[u];h&&(i.push(h),a[u]=!0)});let l=0;if(e.list.forEach(u=>{const h=u.getColId();if(a[h]!=null)return;h.startsWith(qo)?i.splice(l++,0,u):i.push(u)}),i=mS(i,s),!CS(i,n.getColTree())){me(39);return}e.list=i}function AP(e,t,n,s,i){const a={};t.forEach(p=>a[p.colId]=p);const l={};e.forEach(p=>{a[p.colId]&&(l[p.colId]=!0)});const u=e.filter(p=>l[p.colId]),h=t.filter(p=>l[p.colId]),f=[];h.forEach((p,m)=>{const v=u&&u[m];if(v&&v.colId!==p.colId){const y=s.getCol(v.colId);y&&f.push(y)}}),f.length&&i.dispatchEvent({type:"columnMoved",columns:f,column:f.length===1?f[0]:null,finished:!0,source:n})}var Cy=(e,t,n,s)=>{const i=e[n.getId()],a=e[s.getId()],l=i!=null,u=a!=null;if(l&&u)return i-a;if(l)return-1;if(u)return 1;const h=t.indexOf(n),f=t.indexOf(s),p=h>=0,m=f>=0;return p&&m?h-f:p?-1:1},FP="ag-Grid-SelectionColumn",qo="ag-Grid-AutoColumn";function MP(e){const t=[],n=s=>{for(let i=0;i<s.length;i++){const a=s[i];ni(a)?t.push(a):Ot(a)&&n(a.getChildren())}};return n(e),t}function To(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function Nc(e,t,n){const s={};if(!t)return;fs(null,t,a=>{s[a.getInstanceId()]=a}),n&&fs(null,n,a=>{s[a.getInstanceId()]=null});const i=Object.values(s).filter(a=>a!=null);e.context.destroyBeans(i)}function RS(e){return e.getId().startsWith(qo)}function xS(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(FP))??!1}function Hc(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function TP(e,t){return Bn(e,t,(n,s)=>n.getColId()===s.getColId())}function PP(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function zo(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function ES(e,t){const n=e===t,s=e.getColDef()===t,i=e.getColId()==t;return n||s||i}var LP=(e,t)=>(n,s)=>{const i={value1:void 0,value2:void 0};let a=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],a=!0),ye(s)&&e[s]!==void 0&&(i.value2=e[s],a=!0)),!a&&t&&(t[n]!==void 0&&(i.value1=t[n]),ye(s)&&t[s]!==void 0&&(i.value2=t[s])),i};function OP(e,t=null,n,s,i){const a=new bP,{existingCols:l,existingGroups:u,existingColKeys:h}=IP(s);a.addExistingKeys(h);const f=DS(e,t,0,n,l,a,u,i),{colGroupSvc:p}=e,m=(p==null?void 0:p.findMaxDepth(f,0))??0,v=p?p.balanceColumnTree(f,0,m,a):f;return fs(null,v,(S,b)=>{Ot(S)&&S.setupExpandable(),S.originalParent=b}),{columnTree:v,treeDept:m}}function IP(e){const t=[],n=[],s=[];return e&&fs(null,e,i=>{if(Ot(i)){const a=i;n.push(a)}else{const a=i;s.push(a.getId()),t.push(a)}}),{existingCols:t,existingGroups:n,existingColKeys:s}}function DS(e,t,n,s,i,a,l,u){if(!t)return[];const{colGroupSvc:h}=e,f=new Array(t.length);for(let p=0;p<f.length;p++){const m=t[p];h&&BP(m)?f[p]=h.createProvidedColumnGroup(s,m,n,i,a,l,u):f[p]=kP(e,s,m,i,a,u)}return f}function kP(e,t,n,s,i,a){var h;const l=GP(n,s);l&&(s==null||s.splice(l.idx,1));let u=l==null?void 0:l.column;if(u){const f=Bc(e,n,u.getColId());u.setColDef(f,n,a),FS(e,u,f,a)}else{const f=i.getUniqueKey(n.colId,n.field),p=Bc(e,n,f);u=new vg(p,n,f,t),e.context.createBean(u)}return(h=e.dataTypeSvc)==null||h.addColumnListeners(u),u}function AS(e,t,n,s,i,a,l,u){const{sortSvc:h,pinnedCols:f,colFlex:p}=e;n!==void 0&&t.setVisible(!n,u),h&&(h.updateColSort(t,s,u),i!==void 0&&h.setColSortIndex(t,i)),a!==void 0&&(f==null||f.setColPinned(t,a)),l!==void 0&&(p==null||p.setColFlex(t,l))}function FS(e,t,n,s){AS(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,s);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,s);else{const a=t.getActualWidth();t.setActualWidth(a,s)}}function GP(e,t){if(t)for(let n=0;n<t.length;n++){const s=t[n].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(s.field===e.field)return{idx:n,column:t[n]};continue}if(s===e)return{idx:n,column:t[n]}}}function Bc(e,t,n,s){const{gos:i,dataTypeSvc:a,validation:l}=e,u={},h=i.get("defaultColDef");Dt(u,h,!1,!0);const f=NP(e,u,t,n);f&&HP(e,f,u),Dt(u,t,!1,!0);const p=i.get("autoGroupColumnDef"),m=xn(i);return t.rowGroup&&p&&m&&Dt(u,{sort:p.sort,initialSort:p.initialSort},!1,!0),a==null||a.validateColDef(u),l==null||l.validateColDef(u,n,s),u}function NP(e,t,n,s){var l;const i=(l=e.dataTypeSvc)==null?void 0:l.updateColDefAndGetColumnType(t,n,s),a=n.type??i??t.type;return t.type=a,a?Hc(a):void 0}function HP(e,t,n){if(!t.length)return;const s=Object.assign({},wP),i=e.gos.get("columnTypes")||{};for(const[a,l]of Object.entries(i))a in s?me(34,{key:a}):(l.type&&me(35),s[a]=l);t.forEach(a=>{const l=s[a.trim()];l?Dt(n,l,!1,!0):me(36,{t:a})})}function BP(e){return e.children!==void 0}function fs(e,t,n){if(t)for(let s=0;s<t.length;s++){const i=t[s];Ot(i)&&fs(i,i.getChildren(),n),n(i,e)}}var zP=class extends se{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(zo(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],e=>this.recreateColumnDefs(zo(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),zo(e.source)))}createColsFromColDefs(e){var D,A,M;const{beans:t}=this,{valueCache:n,colAutosize:s,rowGroupColsSvc:i,pivotColsSvc:a,valueColsSvc:l,visibleCols:u,colViewport:h,eventSvc:f}=t,p=this.colDefs?SS(t,e):void 0;n==null||n.expire();const m=(D=this.colDefCols)==null?void 0:D.list,v=(A=this.colDefCols)==null?void 0:A.tree,y=OP(t,this.colDefs,!0,v,e);Nc(t,(M=this.colDefCols)==null?void 0:M.tree,y.columnTree);const S=y.columnTree,b=y.treeDept,R=MP(S),E={};R.forEach(T=>E[T.getId()]=T),this.colDefCols={tree:S,treeDepth:b,list:R,map:E},i==null||i.extractCols(e,m),a==null||a.extractCols(e,m),l==null||l.extractCols(e,m),this.ready=!0,this.refreshCols(!0),u.refresh(e),h.checkViewportColumns(),f.dispatchEvent({type:"columnEverythingChanged",source:e}),p&&(this.changeEventsDispatching=!0,p(),this.changeEventsDispatching=!1),f.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(s==null||s.applyAutosizeStrategy())}refreshCols(e){var S;if(!this.colDefCols)return;const t=(S=this.cols)==null?void 0:S.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:s,quickFilter:i,pivotResultCols:a,showRowGroupCols:l,rowAutoHeight:u,visibleCols:h,colViewport:f,eventSvc:p}=this.beans,m=this.selectCols(a,this.colDefCols);n==null||n.createAutoCols(m,b=>{this.lastOrder=b(this.lastOrder),this.lastPivotOrder=b(this.lastPivotOrder)}),n==null||n.addAutoCols(m),s==null||s.createSelectionCols(m,b=>{this.lastOrder=b(this.lastOrder)??null,this.lastPivotOrder=b(this.lastPivotOrder)??null}),s==null||s.addSelectionCols(m);const v=ZT(this.gos,this.showingPivotResult);(!e||v)&&this.restoreColOrder(m),this.positionLockedCols(m),l==null||l.refresh(),i==null||i.refreshCols(),this.setColSpanActive(),u==null||u.setAutoHeightActive(m),h.clear(),f.clear(),!Bn(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:s,list:i,tree:a,treeDepth:l}=n??t;return this.cols={list:i.slice(),map:{...s},tree:a.slice(),treeDepth:l},n&&(n.list.some(h=>{var f;return((f=this.cols)==null?void 0:f.map[h.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var s;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(s=this.beans.valueColsSvc)==null?void 0:s.columns;return this.cols.list.filter(i=>{const a=RS(i);if(e){const l=t==null?void 0:t.includes(i);return a||l}else return a||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){bS(this.beans,{state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=new Map(t.map((f,p)=>[f,p]));if(!e.list.some(f=>n.has(f)))return;const i=new Map(e.list.map(f=>[f,!0])),a=t.filter(f=>i.has(f)),l=new Map(a.map(f=>[f,!0])),u=e.list.filter(f=>!l.has(f)),h=a.slice();u.forEach(f=>{let p=f.getOriginalParent();if(!p){h.push(f);return}const m=[];for(;!m.length&&p;)p.getLeafColumns().forEach(b=>{const R=h.indexOf(b)>=0,E=m.indexOf(b)<0;R&&E&&m.push(b)}),p=p.getOriginalParent();if(!m.length){h.push(f);return}const v=m.map(S=>h.indexOf(S)),y=Math.max(...v);h.splice(y+1,0,f)}),e.list=h}positionLockedCols(e){e.list=mS(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:s}=this.beans;n.refresh(t),s.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var t;this.cols&&((t=this.beans.autoColSvc)==null||t.updateAutoCols(e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;Nc(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,a,l,u;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:n}=this.beans,s=(i=e==null?void 0:e.getPivotResultCols())==null?void 0:i.list;return[((a=this.colDefCols)==null?void 0:a.list)??[],((l=t==null?void 0:t.autoCols)==null?void 0:l.list)??[],((u=n==null?void 0:n.selectionCols)==null?void 0:u.list)??[],s??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var i;if(t==null)return null;const{map:n,list:s}=t;if(typeof e=="string"&&n[e])return n[e];for(let a=0;a<s.length;a++)if(ES(s[a],e))return s[a];return((i=this.beans.autoColSvc)==null?void 0:i.getAutoCol(e))??null}},yg=class extends se{constructor(){super(...arguments),this.dispatchColumnChangedEvent=wS,this.columns=[]}wireBeans(e){this.colModel=e.colModel,this.aggFuncSvc=e.aggFuncSvc,this.visibleCols=e.visibleCols}sortColumns(e){this.columns.sort(e)}setColumns(e,t){this.setColList(e,this.columns,this.eventName,!0,!0,this.columnProcessors.set,t)}addColumns(e,t){this.updateColList(e,this.columns,!0,!0,this.columnProcessors.add,this.eventName,t)}removeColumns(e,t){this.updateColList(e,this.columns,!1,!0,this.columnProcessors.remove,this.eventName,t)}setColList(e=[],t,n,s,i,a,l){const u=this.colModel.getCols();if(!u||u.length===0)return;const h=new Map;t.forEach((p,m)=>h.set(p,m)),t.length=0,ye(e)&&e.forEach(p=>{const m=this.colModel.getColDefCol(p);m&&t.push(m)}),t.forEach((p,m)=>{const v=h.get(p);if(v===void 0){h.set(p,0);return}s&&v!==m||h.delete(p)}),(this.colModel.getColDefCols()||[]).forEach(p=>{const m=t.indexOf(p)>=0;a(p,m,l)}),i&&this.colModel.refreshCols(!1),this.visibleCols.refresh(l),this.dispatchColumnChangedEvent(this.eventSvc,n,[...h.keys()],l)}updateColList(e=[],t,n,s,i,a,l){if(!e||e.length===0)return;let u=!1;const h=new Set;if(e.forEach(p=>{if(!p)return;const m=this.colModel.getColDefCol(p);if(m){if(h.add(m),n){if(t.indexOf(m)>=0)return;t.push(m)}else{const v=t.indexOf(m);if(v<0)return;for(let y=v+1;y<t.length;y++)h.add(t[y]);_t(t,m)}i(m,n,l),u=!0}}),!u)return;s&&this.colModel.refreshCols(!1),this.visibleCols.refresh(l);const f=Array.from(h);this.eventSvc.dispatchEvent({type:a,columns:f,column:f.length===1?f[0]:null,source:l})}extractCols(e,t=[]){const n=this.columns,s=[],i=[],{setFlagFunc:a,getIndexFunc:l,getInitialIndexFunc:u,getValueFunc:h,getInitialValueFunc:f}=this.columnExtractors;(this.colModel.getColDefCols()||[]).forEach(y=>{const S=t.indexOf(y)<0,b=y.getColDef(),R=h(b),E=f(b),D=l(b),A=u(b);let M;R!==void 0?M=R:D!==void 0?D===null?M=!1:M=D>=0:S?E!==void 0?M=E:A!==void 0?M=A!=null&&A>=0:M=!1:M=n.indexOf(y)>=0,M&&((S?D!=null||A!=null:D!=null)?s.push(y):i.push(y))});const m=y=>{const S=l(y.getColDef()),b=u(y.getColDef());return S??b};s.sort((y,S)=>{const b=m(y),R=m(S);return b===R?0:b<R?-1:1});const v=[].concat(s);return n.forEach(y=>{i.indexOf(y)>=0&&v.push(y)}),i.forEach(y=>{v.indexOf(y)<0&&v.push(y)}),n.forEach(y=>{v.indexOf(y)<0&&a(y,!1,e)}),v.forEach(y=>{n.indexOf(y)<0&&a(y,!0,e)}),this.columns=v}restoreColumnOrder(e,t){const n=this.columns,s=this.colModel.getColDefCols();if(!n.length||!s)return e;const i=Object.keys(t),a=new Set(i),l=new Set(i),u=new Set(n.map(A=>{const M=A.getColId();return l.delete(M),M}).concat(i)),h=[],f={};let p=0;for(let A=0;A<s.length;A++){const M=s[A].getColId();u.has(M)&&(h.push(M),f[M]=p++)}let m=1e3,v=!1,y=0;const S=this.columnOrdering.enableProp,b=this.columnOrdering.initialEnableProp,R=this.columnOrdering.indexProp,E=this.columnOrdering.initialIndexProp,D=A=>{const M=f[A];for(let T=y;T<M;T++){const G=h[T];l.has(G)&&(t[G][R]=m++,l.delete(G))}y=M};return n.forEach(A=>{const M=A.getColId();if(a.has(M))D(M),t[M][R]=m++;else{const T=A.getColDef();(T[R]===null||T[R]===void 0&&T[E]==null)&&(v||(T[S]||T[S]===void 0&&T[b]?D(M):(l.forEach(z=>{t[z][R]=m+f[z]}),m+=h.length,v=!0)),e[M]||(e[M]={colId:M}),e[M][R]=m++)}}),e}},VP=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},sr=class extends se{};function Pa(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var La=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},WP=0,xe=null,Je=class extends se{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=WP++,this.cssClassManager=new La(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,s;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(s=this.css)==null||s.forEach(i=>this.beans.environment.addGlobalCSS(i,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,n,s=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===xe)this[t]=s??e;else{const a=n&&n[t];if(!this.suppressDataRefValidation&&!a)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){zT(e.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const i=this.createComponentFromElement(s,a=>{a.getGui()&&this.copyAttributesFromNode(s,a.getGui())},t);if(i){if(i.addItems&&s.children.length){this.createChildComponentsFromTags(s,t);const a=Array.prototype.slice.call(s.children);i.addItems(a)}this.swapComponentForNode(i,e,s)}else s.childNodes&&this.createChildComponentsFromTags(s,t)})}createComponentFromElement(e,t,n){const s=e.nodeName,i=this.getDataRefAttribute(e),a=s.indexOf("AG-")===0,l=a?this.componentSelectors.get(s):null;let u=null;if(l){const h=n&&i?n[i]:void 0;u=new l.component(h),u.setParentComponent(this),this.createBean(u,null,t)}else if(a)throw new Error(`selector: ${s}`);return this.applyElementsToComponent(e,i,n,u),u}copyAttributesFromNode(e,t){VT(e.attributes,(n,s)=>t.setAttribute(n,s))}swapComponentForNode(e,t,n){const s=e.getGui();t.replaceChild(s,n),t.insertBefore(document.createComment(n.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){const s=jo(e);this.setTemplateFromElement(s,t,n)}setTemplateFromElement(e,t,n,s=!1){if(this.eGui=e,this.suppressDataRefValidation=s,t)for(let i=0;i<t.length;i++){const a=t[i];this.componentSelectors.set(a.selector,a)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),dg(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:s}=this.getContainerAndElement(e,t)||{};!n||!s||s.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:s}=this.getContainerAndElement(e,t)||{};!n||!s||s.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;NT(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ze(this.eGui,e,{skipAriaHidden:n});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Qe=class da{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new da(n=>{let s=t.length;const i=new Array(s);t.forEach((a,l)=>{a.then(u=>{i[l]=u,s--,s===0&&n(i)})})}):da.resolve()}static resolve(t=null){return new da(n=>n(t))}then(t){return new da(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(s=>n(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function _P(e){return e?e.prototype&&"getGui"in e.prototype:!1}function MS(e,t,n,s){const{name:i}=n;let a,l,u,h,f,p;if(t){const m=t,v=m[i+"Selector"],y=v?v(s):null,S=b=>{typeof b=="string"?a=b:b!=null&&b!==!0&&(e.isFrameworkComponent(b)?u=b:l=b)};y?(S(y.component),h=y.params,f=y.popup,p=y.popupPosition):S(m[i])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:h,popupFromSelector:f,popupPositionFromSelector:p}}var UP=class extends se{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,s=!1){return this.getCompDetails(this.gridOptions,e,t,n,s)}getCompDetails(e,t,n,s,i=!1){var D;const{name:a,cellRenderer:l}=t;let{compName:u,jsComp:h,fwComp:f,paramsFromSelector:p,popupFromSelector:m,popupPositionFromSelector:v}=MS(this.beans.frameworkOverrides,e,t,s),y;const S=A=>{const M=this.registry.getUserComponent(a,A);M&&(h=M.componentFromFramework?void 0:M.component,f=M.componentFromFramework?M.component:void 0,y=M.params)};if(u!=null&&S(u),h==null&&f==null&&n!=null&&S(n),h&&l&&!_P(h)&&(h=(D=this.agCompUtils)==null?void 0:D.adaptFunction(t,h)),!h&&!f){const{validation:A}=this.beans;i&&(u!==n||!n)?u?A!=null&&A.isProvidedUserComp(u)||Ye(50,{compName:u}):n?A||Ye(260,{...this.gos.getModuleErrorParams(),propName:a,compName:n}):Ye(216,{name:a}):n&&!A&&Ye(146,{comp:n});return}const b=this.mergeParams(e,t,s,p,y),R=h==null,E=h??f;return{componentFromFramework:R,componentClass:E,params:b,type:t,popupFromSelector:m,popupPositionFromSelector:v,newAgStackInstance:()=>this.newAgStackInstance(E,R,b,t)}}newAgStackInstance(e,t,n,s){var u;const i=!t;let a;i?a=new e:a=this.frameworkCompWrapper.wrap(e,s.mandatoryMethods,s.optionalMethods,s),this.createBean(a);const l=(u=a.init)==null?void 0:u.call(a,n);return l==null?Qe.resolve(a):l.then(()=>a)}mergeParams(e,t,n,s=null,i){const a=this.gos.getGridCommonParams();Dt(a,n),i&&Dt(a,i);const l=e,u=l&&l[t.name+"Params"];if(typeof u=="function"){const h=u(n);Dt(a,h)}else typeof u=="object"&&Dt(a,u);return Dt(a,s),a}},jP={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},KP={name:"headerComponent",optionalMethods:["refresh"]},YP={name:"innerHeaderComponent"},qP={name:"innerHeaderGroupComponent"},$P={name:"headerGroupComponent"},XP={name:"innerRenderer",cellRenderer:!0,optionalMethods:["afterGuiAttached"]},ZP={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},QP={name:"loadingCellRenderer",cellRenderer:!0},JP={name:"loadingOverlayComponent",optionalMethods:["refresh"]},e1={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},wg={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},t1={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},n1={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},s1={name:"loadingCellRenderer",cellRenderer:!0},i1={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},o1={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function r1(e,t){return e.getCompDetailsFromGridOptions(jP,"agDragAndDropImage",t,!0)}function jh(e,t,n){return e.getCompDetails(t,XP,void 0,n)}function a1(e,t,n){return e.getCompDetails(t,KP,"agColumnHeader",n)}function l1(e,t,n){return e.getCompDetails(t,YP,void 0,n)}function c1(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,$P,"agColumnGroupHeader",t)}function u1(e,t,n){return e.getCompDetails(t,qP,void 0,n)}function d1(e,t){return e.getCompDetailsFromGridOptions(n1,void 0,t,!0)}function h1(e,t){return e.getCompDetailsFromGridOptions(s1,"agLoadingCellRenderer",t,!0)}function f1(e,t){return e.getCompDetailsFromGridOptions(i1,"agGroupRowRenderer",t,!0)}function g1(e,t){return e.getCompDetailsFromGridOptions(o1,"agDetailCellRenderer",t,!0)}function TS(e,t,n){return e.getCompDetails(t,ZP,void 0,n)}function p1(e,t,n){return e.getCompDetails(t,QP,"agSkeletonCellRenderer",n,!0)}function m1(e,t,n,s){return e.getCompDetails(t,wg,s,n,!0)}function C1(e,t){return e.getCompDetailsFromGridOptions(JP,"agLoadingOverlay",t,!0)}function v1(e,t){return e.getCompDetailsFromGridOptions(e1,"agNoRowsOverlay",t,!0)}function y1(e,t,n,s){return e.getCompDetails(t,t1,s,n)}function w1(e,t){return MS(e,t,wg)}function b1(e,t,n){return e.mergeParams(t,wg,n)}function vy(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var PS=new Set,zc={},Oi={},vc,LS=!1;function S1(e){const[t,n]=e.version.split(".")||[],[s,i]=vc.split(".")||[];return t===s&&n===i}function R1(e){vc||(vc=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?S1(e)||ga(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${vc}.`)):ga(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||ga(`${n.message}`)}}function xa(e,t){R1(e);const n=e.rowModels??["all"];PS.add(e);let s;t!==void 0?(LS=!0,Oi[t]===void 0&&(Oi[t]={}),s=Oi[t]):s=zc,n.forEach(i=>{s[i]===void 0&&(s[i]={}),s[i][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(i=>xa(i,t))}function x1(e){delete Oi[e]}function OS(e,t,n){const s=i=>{var a,l,u;return!!((a=zc[i])!=null&&a[e])||!!((u=(l=Oi[t])==null?void 0:l[i])!=null&&u[e])};return s(n)||s("all")}function IS(){return LS}function E1(e,t){const n=Oi[e]??{};return[...Object.values(zc.all??{}),...Object.values(n.all??{}),...Object.values(zc[t]??{}),...Object.values(n[t]??{})]}function D1(){return new Set(PS)}function A1(e,t){const n=Oi[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}var N2=class{static register(e){xa(e,void 0)}static registerModules(e){e.forEach(t=>xa(t,void 0))}},F1=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([n,s])=>{this.beans[n]=s}),e.beanClasses.forEach(n=>{const s=new n;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(s)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:s,bean:i}=n(this);this.beans[s]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var s,i;(s=n.preWireBeans)==null||s.call(n,this.beans),(i=n.wireBeans)==null||i.call(n,this.beans)}),e.forEach(n=>{var s;return(s=n.preConstruct)==null?void 0:s.call(n)}),t&&e.forEach(t),e.forEach(n=>{var s;return(s=n.postConstruct)==null?void 0:s.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},M1=class extends F1{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),x1(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},T1="ag-column-first",P1="ag-column-last";function kS(e,t,n,s){return qe(e)?[]:O1(e.headerClass,e,t,n,s)}function GS(e,t,n){e.addOrRemoveCssClass(T1,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(P1,n.isColAtEdge(t,"last"))}function L1(e,t,n,s){return t.addGridCommonParams({colDef:e,column:n,columnGroup:s})}function O1(e,t,n,s,i){if(qe(e))return[];let a;if(typeof e=="function"){const l=L1(t,n,s,i);a=e(l)}else a=e;return typeof a=="string"?[a]:Array.isArray(a)?[...a]:[]}function _n(e,t){const n=oS(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var I1=class extends se{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:n}=this.beans,s=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,s&&e===0){const i=(n==null?void 0:n.getCurrentPage())??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&me(92,{methodName:e})}createTask(e,t,n){this.verifyAnimationFrameOn(n);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,s)=>n.index!==s.index?t*(s.index-n.index):s.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,s=this.createTasksP2,i=s.list,a=this.destroyTasks,l=new Date().getTime();let u=new Date().getTime()-l;const h=e<=0,f=this.beans.ctrlsSvc.getScrollFeature();for(;h||u<e;){if(!f.scrollGridIfNeeded()){let m;if(n.length)this.sortTaskList(t),m=n.pop().task;else if(i.length)this.sortTaskList(s),m=i.pop().task;else if(a.length)m=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(m)||m()}u=new Date().getTime()-l}n.length||i.length||a.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);_n(this.beans,e)}isQueueEmpty(){return!this.ticking}},K={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},Mf=!1,Vc=0;function k1(e){Vc>0||(e.addEventListener("keydown",Wc),e.addEventListener("mousedown",Wc))}function G1(e){Vc>0||(e.removeEventListener("keydown",Wc),e.removeEventListener("mousedown",Wc))}function Wc(e){const t=Mf,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(Mf=n)}function N1(e){const t=Ct(e);return k1(t),Vc++,()=>{Vc--,G1(t)}}function NS(){return Mf}function Ii(e,t,n=!1){const s=GT;let i=Ub;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const a=Array.prototype.slice.apply(e.querySelectorAll(s)).filter(h=>Wn(h)),l=Array.prototype.slice.apply(e.querySelectorAll(i));return l.length?((h,f)=>h.filter(p=>f.indexOf(p)===-1))(a,l):a}function Bi(e,t=!1,n=!1){const s=Ii(e,null,n),i=t?Oe(s):s[0];return i?(i.focus({preventScroll:!0}),!0):!1}function gs(e,t,n,s){const i=Ii(t,n?':not([tabindex="-1"])':null),a=vt(e);let l;n?l=i.findIndex(h=>h.contains(a)):l=i.indexOf(a);const u=l+(s?-1:1);return u<0||u>=i.length?null:i[u]}function HS(e,t=5){let n=0;for(;e&&ly(e)===null&&++n<=t;)e=e.parentElement;return ly(e)===null?null:e}function Vo(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function BS(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Ea(e,t,n=!1){const s=e.ctrlsSvc.get("gridCtrl");return!n&&s.focusNextInnerContainer(t)?!0:((n||!t&&!s.isDetailGrid())&&s.forceFocusOutOfContainer(t),!1)}var H1=/[&<>"']/g,B1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ps(e,t){if(e==null)return null;const n=e.toString().toString();return t?n:n.replace(H1,s=>B1[s])}function z1(e,t=!1){return e===K.DELETE?!0:!t&&e===K.BACKSPACE?Vb():!1}var V1=class extends se{constructor(e,t,n,s){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=s,this.beans=t}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case K.ENTER:this.onEnterKeyDown(e);break;case K.F2:this.onF2KeyDown(e);break;case K.ESCAPE:this.onEscapeKeyDown(e);break;case K.TAB:this.onTabKeyDown(e);break;case K.BACKSPACE:case K.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case K.DOWN:case K.UP:case K.RIGHT:case K.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;this.cellCtrl.editing||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,this.cellCtrl.cellPosition,!0),e.preventDefault())}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const s=t.extendLatestRangeInDirection(e);s&&(n==null||n.ensureCellVisible(s))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var h;const{cellCtrl:n,beans:s,rowNode:i}=this,{gos:a,rangeSvc:l,eventSvc:u}=s;if(!n.editing){if(u.dispatchEvent({type:"keyShortcutChangedCellStart"}),z1(e,a.get("enableCellEditingOnBackspace"))){if(l&&Ra(a))l.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:f}=n,p=this.beans.valueSvc.getDeleteValue(f,i);i.setDataValue(f,p,"cellClear")}}else(h=s.editSvc)==null||h.startRowOrCellEdit(n,e,t);u.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var s,i;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const a=e.shiftKey?K.UP:K.DOWN;(s=n.navigation)==null||s.navigateToNextCell(null,a,t.cellPosition,!1)}else(i=n.editSvc)==null||i.startRowOrCellEdit(t,K.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var s;const{cellCtrl:t,beans:n}=this;t.editing||(s=n.editSvc)==null||s.startRowOrCellEdit(t,K.F2,e)}onEscapeKeyDown(e){var s;const{cellCtrl:t,beans:n}=this;t.editing&&((s=n.editSvc)==null||s.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var i;if(e.target!==this.eGui||this.cellCtrl.editing)return;const s=e.key;s===K.SPACE?this.onSpaceKeyDown(e):(i=this.beans.editSvc)!=null&&i.startRowOrCellEdit(this.cellCtrl,s,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&pg(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},W1=class extends se{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!En(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var f;if((f=this.beans.touchSvc)!=null&&f.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:s,editSvc:i}=this.beans,a=e.ctrlKey||e.metaKey;n&&a&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const l=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(l);const u=this.column.getColDef();u.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{u.onCellClicked(l)})},0),(s.get("singleClickEdit")||u.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(i==null||i.startRowOrCellEdit(this.cellCtrl))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:s}=this,{eventSvc:i,frameworkOverrides:a,gos:l,editSvc:u}=n,h=t.getColDef(),f=s.createEvent(e,"cellDoubleClicked");i.dispatchEvent(f),typeof h.onCellDoubleClicked=="function"&&window.setTimeout(()=>{a.wrapOutgoing(()=>{h.onCellDoubleClicked(f)})},0),!l.get("singleClickEdit")&&!l.get("suppressClickEdit")&&(u==null||u.startRowOrCellEdit(s,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:s}=e,i=e.target,{cellCtrl:a,beans:l}=this,{eventSvc:u,rangeSvc:h,focusSvc:f,gos:p}=l;if(this.isRightClickInExistingRange(e))return;const m=h&&!h.isEmpty(),v=this.containsWidget(i),{cellPosition:y}=a;if(!s||!m){const b=p.get("enableCellTextSelection")&&e.defaultPrevented,R=(ag()||b)&&!a.editing&&!lg(i)&&!v;a.focusCell(R)}if(s&&m&&!f.isCellFocused(y)){e.preventDefault();const S=f.getFocusedCell();if(S){const{column:b,rowIndex:R,rowPinned:E}=S,D=l.rowRenderer.getRowByPosition({rowIndex:R,rowPinned:E}),A=D==null?void 0:D.getCellCtrl(b);A!=null&&A.editing&&A.stopEditing(),f.setFocusedCell({column:b,rowIndex:R,rowPinned:E,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!v){if(h)if(s)h.extendLatestRangeToCell(y);else{const S=t||n;h.setRangeToCell(y,S)}u.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&s)return!0}return!1}containsWidget(e){return Li(e,"ag-selection-checkbox",3)||Li(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const{eGui:t}=this.cellCtrl,n=t.contains(e.target),s=t.contains(e.relatedTarget);return n&&s}destroy(){super.destroy()}},_1=class extends se{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Bn(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),s=[];if(n===1)s.push(e);else{let i=e;const a=e.getPinned();for(let l=0;i&&l<n&&(s.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||qe(i)||a!==i.getPinned()));l++);}return s}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Oe(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const s=t.bodyWidth;return n+s+(e||0)}return n+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=iS(this.beans)*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},U1="ag-cell",j1="ag-cell-auto-height",K1="ag-cell-normal-height",Y1="ag-cell-focus",q1="ag-cell-first-right-pinned",$1="ag-cell-last-left-pinned",X1="ag-cell-not-inline-editing",Z1="ag-cell-wrap-text",_c="cellCtrl";function zS(e,t){return fS(e,t,_c)}var Q1=0,yc=class extends se{constructor(e,t,n,s){super(),this.column=e,this.rowNode=t,this.rowCtrl=s,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=n,this.instanceId=e.getId()+"-"+Q1++,this.colIdSanitised=ps(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var s;const{beans:e}=this;this.positionFeature=new _1(this,e),this.customStyleFeature=(s=e.cellStyles)==null?void 0:s.createCellCustomStyleFeature(this,e),this.mouseListener=new W1(this,e,this.column),this.keyboardListener=new V1(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Ra(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,s,i,a){var l,u,h,f,p;this.comp=e,this.eGui=t,this.printLayout=s,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,a),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(l=this.positionFeature)==null||l.setComp(t),(u=this.customStyleFeature)==null||u.setComp(e),(h=this.tooltipFeature)==null||h.refreshTooltip(),(f=this.keyboardListener)==null||f.setComp(this.eGui),this.rangeFeature&&this.rangeFeature.setComp(e,t),i&&this.isCellEditable()?(p=this.beans.editSvc)==null||p.startEditing(this):this.showValue(),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(m=>m()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)&&((n=this.beans.rowAutoHeight)==null||n.setupCellAutoHeight(this,e,t))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e=!1){var f;const{beans:t,column:n,rowNode:s,rangeFeature:i}=this,{userCompFactory:a}=t,l=this.getValueToDisplay();let u;if(s.stub&&((f=s.groupData)==null?void 0:f[n.getId()])==null){const p=this.createCellRendererParams();u=p1(a,n.getColDef(),p)}else if(this.isCellRenderer()){const p=this.createCellRendererParams();u=TS(a,n.getColDef(),p)}this.comp.setRenderDetails(u,l,e),i&&_n(t,()=>i==null?void 0:i.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||xS(this.column)&&t&&typeof t!="string"&&uS(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||s||i}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:s,comp:i,eGui:a,beans:{valueSvc:l,gos:u}}=this;return u.addGridCommonParams({value:e,valueFormatted:t,getValue:()=>l.getValueForDisplay(n,s),setValue:f=>l.setValue(s,n,f),formatValue:this.formatValue.bind(this),data:s.data,node:s,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:a,eParentOfValue:i.getParentOfValue(),registerRowDragger:(f,p,m,v)=>this.registerRowDragger(f,p,v),setTooltip:(f,p)=>{var m;u.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(f,p),(m=this.tooltipFeature)==null||m.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var f,p,m,v,y,S;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,s=e!=null&&!!e.suppressFlash,i=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,a=e&&e.forceRefresh||i||n,l=!!this.comp,u=this.updateAndFormatValue(l),h=a||u;if(l){if(h){this.showValue(n);const b=(f=this.beans.filterManager)==null?void 0:f.isSuppressFlashingCellsBecauseFiltering();!s&&!b&&t.enableCellChangeFlash&&((p=this.beans.cellFlashSvc)==null||p.flashCell(this)),(m=this.customStyleFeature)==null||m.applyUserStyles(),(v=this.customStyleFeature)==null||v.applyClassesFromColDef()}(y=this.tooltipFeature)==null||y.refreshTooltip(),(S=this.customStyleFeature)==null||S.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var n;(n=this.beans.editSvc)==null||n.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Ko(this.beans.gos,t,_c,this),e.addDestroyFunc(()=>Ko(this.beans.gos,t,_c,null))}createEvent(e,t){const{rowNode:n,column:s,value:i}=this;return this.beans.gos.addGridCommonParams({type:t,node:n,data:n.data,value:i,column:s,colDef:s.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;GS(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);Hb(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({rowIndex:this.cellPosition.rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&Ho(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(q1,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass($1,e)}onCellFocused(e){var i;const{beans:t}=this;if(BS(t))return;const n=t.focusSvc.isCellFocused(this.cellPosition);if(!this.comp){n&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(Y1,n),n&&e&&e.forceBrowserFocus){let a=this.comp.getFocusableElement();if(this.editing){const l=Ii(a,null,!0);l.length&&(a=l[0])}a.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const s=t.gos.get("editType")==="fullRow";!n&&!s&&this.editing&&((i=t.editSvc)==null||i.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Qs(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(U1,!0),e.addOrRemoveCssClass(X1,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(j1,t),e.addOrRemoveCssClass(K1,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(Z1,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:s}=this;s.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{s.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const s=this.createRowDragComp(e,t,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var i;const s=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(s)return this.beans.context.createBean(s),s}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}},VS="__ag_grid_instance";function WS(e,t){t[VS]=e.gridInstanceId}function Uc(e,t){return J1(e,t.target)}function J1(e,t){let n=t;for(;n;){const s=n[VS];if(ye(s))return s===e.gridInstanceId;n=n.parentElement}return!1}function eL(e,t){var n;return((n=zS(e,t.target))==null?void 0:n.cellPosition)??null}var jc=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(jc||{}),tL=class extends se{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,s=t.find(i=>i.dragSource===e);s&&(n.removeDragSource(s.params),_t(t,s))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(s=>t.removeDragSource(s.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,s;(s=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||s.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var p,m;const n=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(v=>this.isMouseOnDropTarget(e,v)),a=this.findCurrentDropTarget(e,i),{lastDropTarget:l,dragSource:u,dragAndDropImageComp:h,dragItem:f}=this;if(a!==l){if(this.leaveLastTargetIfExists(e,n,s,t),l!==null&&a===null&&((p=u==null?void 0:u.onGridExit)==null||p.call(u,f)),l===null&&a!==null&&((m=u==null?void 0:u.onGridEnter)==null||m.call(u,f)),this.enterDragTargetIfExists(a,e,n,s,t),a&&h){const{comp:v,promise:y}=h;v?v.setIcon(a.getIconName?a.getIconName():null,!1):y.then(S=>{S&&S.setIcon(a.getIconName?a.getIconName():null,!1)})}this.lastDropTarget=a}else if(a&&a.onDragging){const v=this.createDropTargetEvent(a,e,n,s,t);a.onDragging(v)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let s=!1;const i=(u,h)=>{for(const f of h){const{width:p,height:m,left:v,right:y,top:S,bottom:b}=f.getBoundingClientRect();if(p===0||m===0)return!1;const R=u.clientX>=v&&u.clientX<y,E=u.clientY>=S&&u.clientY<b;if(!R||!E)return!1}return!0};for(const u of n)if(i(e,u)){s=!0;break}const{eElement:a,type:l}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(a)?!1:s&&t.isInterestedIn(l,a)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=ba(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const a of i)for(const l of t)if(this.getAllContainersFromDropTarget(l).flatMap(h=>h).indexOf(a)!==-1)return l;return null}enterDragTargetIfExists(e,t,n,s,i){if(e&&e.onDragEnter){const a=this.createDropTargetEvent(e,t,n,s,i);e.onDragEnter(a)}}leaveLastTargetIfExists(e,t,n,s){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const l=this.createDropTargetEvent(i,e,t,n,s);i.onDragLeave(l)}const a=this.getDragAndDropImageComponent();a&&a.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:s}=e;return n.contains(s)}getHorizontalDirection(e){var s;const t=(s=this.eventLastTime)==null?void 0:s.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var s;const t=(s=this.eventLastTime)==null?void 0:s.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,s,i){const a=e.getContainer(),l=a.getBoundingClientRect(),{dragItem:u,dragSource:h,gos:f}=this,p=t.clientX-l.left,m=t.clientY-l.top;return f.addGridCommonParams({event:t,x:p,y:m,vDirection:s,hDirection:n,dragSource:h,fromNudge:i,dragItem:u,dropZoneTarget:a})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&tP(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const s=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(s),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const t=r1(this.userCompFactory,{dragSource:e});if(!t)return;const n=t.newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const s=e.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),WS(this.gos,s),n.applyThemeClasses(s),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),s.style.top="20px",s.style.left="20px";const a=mg(this.beans);this.dragAndDropImageParent=a,a?a.appendChild(s):me(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:s=>s===1||s===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function yy(e,t){const n=e.column===t.column,s=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&s&&i}function nL(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ye(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function sL(e){let t=0,n;const{pinnedRowModel:s,rowModel:i,pageBounds:a}=e;return s!=null&&s.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=a.getFirstRow()):s!=null&&s.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function iL(e){let t,n=null;const{pinnedRowModel:s,pageBounds:i}=e,a=s==null?void 0:s.getPinnedBottomRowCount(),l=s==null?void 0:s.getPinnedTopRowCount();return a?(n="bottom",t=a-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):l&&(n="top",t=l-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function oL(e,t){var n,s;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(s=e.pinnedRowModel)==null?void 0:s.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function sc(e,t){const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function _S(e,t,n){if(n===0)return!1;const s=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(s,i)<=n}var rL=class extends se{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(s=>s.dragSource===e);n&&(this.removeListener(n),_t(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:s,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let a=null;const l=this.gos.get("suppressTouch");s&&!l&&(a=u=>{lg(u.target)||(i&&u.stopPropagation(),this.onTouchStart(e,u))},n.addEventListener("touchstart",a,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:a,touchEnabled:!!s})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const s=h=>this.onTouchMove(h,e.eElement),i=h=>this.onTouchUp(h,e.eElement),a=h=>{h.cancelable&&h.preventDefault()},l=t.target,u=[{target:ba(this.beans),type:"touchmove",listener:a,options:{passive:!1}},{target:l,type:"touchmove",listener:s,options:{passive:!0}},{target:l,type:"touchend",listener:i,options:{passive:!0}},{target:l,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=f=>this.onMouseMove(f,e.eElement),i=f=>this.onMouseUp(f,e.eElement),a=f=>f.preventDefault(),l=f=>{f.key===K.ESCAPE&&this.cancelDrag(e.eElement)},u=ba(this.beans),h=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:i},{target:u,type:"contextmenu",listener:a},{target:u,type:"keydown",listener:l}];this.addTemporaryEvents(h),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:s,listener:i,options:a}=t;n.addEventListener(s,i,a)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:s,listener:i,options:a}=t;n.removeEventListener(s,i,a)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,s=ye(n)?n:4;return _S(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var s;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(s=this.currentDragParams)==null||s.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;ag()&&((n=Ct(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),s=e.type==="mousemove",i=a=>{const l=a.target,u=l==null?void 0:l.tagName.toLocaleLowerCase();return!!(u!=null&&u.match("^a$|textarea|input|select|button"))};return n&&s&&e.cancelable&&Uc(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function US(e,t){return e+"_"+t}function st(e){return e instanceof jS}var jS=class extends se{constructor(e,t,n,s){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=s,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return US(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{st(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Oe(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{ni(t)?e.push(t):st(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{ni(t)?e.push(t):st(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(st(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Kc="row-group-",aL="t-",lL="b-",cL=0,au=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=cL++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var i,a,l;const n=this.data;this.data=e,(i=this.beans.valueCache)==null||i.onDataChanged(),this.updateDataOnDetailNode(),(a=this.beans.selectionSvc)==null||a.updateRowSelectable(this),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,n,t);(l=this.__localEventService)==null||l.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Ye(13),null):this.rowPinned==="top"?aL+this.rowIndex:this.rowPinned==="bottom"?lL+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var l,u;const{selectionSvc:n}=this.beans,s=(l=n==null?void 0:n.createDaemonNode)==null?void 0:l.call(n,this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,s));const a=this.createDataChangedEvent(e,i,!1);(u=this.__localEventService)==null||u.dispatchEvent(a)}setId(e){var n;const t=Df(this.beans.gos);if(t)if(this.data){const s=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Kc)&&Ye(14,{groupPrefix:Kc})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var s;(s=this.beans.expansionSvc)==null||s.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:s,valueSvc:i,gos:a,selectionSvc:l}=this.beans,u=typeof e!="string"?e:s.getCol(e)??s.getColDefCol(e);if(!u)return!1;const h=i.getValueForDisplay(u,this);if(a.get("readOnlyEdit")){const{beans:{eventSvc:p},data:m,rowIndex:v,rowPinned:y}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:v,rowPinned:y,column:u,colDef:u.colDef,data:m,node:this,oldValue:h,newValue:t,value:t,source:n}),!1}const f=i.setValue(this,u,t,n);return this.dispatchCellChangedEvent(u,t,h),l==null||l.updateRowSelectable(this),f}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var i;const s={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(i=this.__localEventService)==null||i.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var s;(s=this.beans.selectionSvc)==null||s.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}addEventListener(e,t){var s,i,a,l;(s=this.beans.validation)==null||s.checkRowEvents(e),this.__localEventService||(this.__localEventService=new er),this.frameworkEventListenerService=(a=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:a.call(i,this.frameworkEventListenerService,this.__localEventService);const n=((l=this.frameworkEventListenerService)==null?void 0:l.wrap(t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var s;if(!this.__localEventService)return;const n=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t))??t;this.__localEventService.removeEventListener(e,n),this.__localEventService.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(me(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function uL(e,t,n){return t.addGridCommonParams({type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var dL=class extends Je{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Qe.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(s=>{var i;(i=s==null?void 0:s.afterGuiAttached)==null||i.call(s,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var s;(s=n==null?void 0:n.afterGuiDetached)==null||s.call(n)})}createFilter(e){var s,i;const{column:t,source:n}=this;this.filterWrapper=((s=this.beans.filterManager)==null?void 0:s.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(a=>{const l=a.getGui();ye(l)||me(69,{guiFromFilter:l}),this.appendChild(l),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Fn(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},KS="ag-resizer-wrapper",Ks=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,hL=`<div class="${KS}">
        ${Ks("eTopLeft","topLeft")}
        ${Ks("eTop","top")}
        ${Ks("eTopRight","topRight")}
        ${Ks("eRight","right")}
        ${Ks("eBottomRight","bottomRight")}
        ${Ks("eBottom","bottom")}
        ${Ks("eBottomLeft","bottomLeft")}
        ${Ks("eLeft","left")}
    </div>`,YS=class extends se{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(n,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:s,minHeight:i,height:a,x:l,y:u}=this.config;this.offsetParent||this.setOffsetParent();let h=0,f=0;const p=Wn(this.element);if(p){const m=this.findBoundaryElement(),v=window.getComputedStyle(m);if(v.minWidth!=null){const y=m.offsetWidth-this.element.offsetWidth;f=parseInt(v.minWidth,10)-y}if(v.minHeight!=null){const y=m.offsetHeight-this.element.offsetHeight;h=parseInt(v.minHeight,10)-y}}if(this.minHeight=i||h,this.minWidth=n||f,s&&this.setWidth(s),a&&this.setHeight(a),(!s||!a)&&this.refreshSize(),e)this.center();else if(l||u)this.offsetElement(l,u);else if(p&&t){let m=this.boundaryEl,v=!0;if(m||(m=this.findBoundaryElement(),v=!1),m){const y=parseFloat(m.style.top),S=parseFloat(m.style.left);v?this.offsetElement(isNaN(S)?0:S,isNaN(y)?0:y):this.setPosition(S,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var s,i;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((s=this.dragSvc)==null||s.addDragSource(n),this.moveElementDragListener=n):((i=this.dragSvc)==null||i.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var l;const s=!!e[t],i=this.getResizerElement(t),a={dragStartPixels:0,eElement:i,onDragStart:u=>this.onResizeStart(u,t),onDragging:this.onResize.bind(this),onDragStop:u=>this.onResizeEnd(u,t)};(s||!this.isAlive()&&!s)&&(s?((l=this.dragSvc)==null||l.addDragSource(a),this.resizeListeners.push(a),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)fa(n,e),e=jb(n),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(s?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?fa(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),a=e?this.position.y:s.top,l=e?0:i.top;let u=0;if(t){const f=this.element.parentElement;if(f){const{bottom:p}=f.getBoundingClientRect();u=p-s.bottom}}return n+l-a-u}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Hn(t,e),e=Fc(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,a=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+a>i&&(e=i-a)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Hn(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var i;const{forcePopupParentAsOffsetParent:n}=this.config,s=n?this.boundaryEl:this.element;s&&((i=this.popupSvc)==null||i.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const s=this.getAvailableHeight();this.element.style.setProperty("max-height",`${s}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=bs(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:s,anywhereWithin:i,topBuffer:a}=e,l=t.clientX-this.dragStartPosition.x,u=t.clientY-this.dragStartPosition.y,h=this.shouldSkipX(t,!!n,!!i,l)?0:l,f=this.shouldSkipY(t,!!s,a,u)?0:u;return{movementX:h,movementY:f}}shouldSkipX(e,t,n,s){const i=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:i.left;let h=u<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=l.right;return h?!0:(t?h=s<0&&e.clientX>u+a.left||s>0&&e.clientX<u+a.left:n?h=s<0&&e.clientX>l.right||s>0&&e.clientX<u+a.left:h=s<0&&e.clientX>l.right||s>0&&e.clientX<l.right,h)}shouldSkipY(e,t,n=0,s){const i=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:i.top;let h=u<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=l.bottom;return h?!0:(t?h=s<0&&e.clientY>u+a.top+n||s>0&&e.clientY<u+a.top:h=s<0&&e.clientY>l.bottom||s>0&&e.clientY<l.bottom,h)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(hL,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${KS}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:s}=this.config;!n&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let s=0;s<e.length;s++){const i=e[s],a=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let l=this.minHeight||0,u=this.minWidth||0;if(a){const h=window.getComputedStyle(i);h.minHeight&&(l=parseInt(h.minHeight,10)),h.minWidth&&(u=parseInt(h.minWidth,10))}else l=i.offsetHeight,u=i.offsetWidth;t+=l,n+=u}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let s=0;s<n.length;s++){const i=n[s];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:s,isRight:i,isBottom:a,isLeft:l}=this.currentResizer,u=i||l,h=a||s,{movementX:f,movementY:p}=this.calculateMouseMovement({e,isLeft:l,isTop:s}),m=this.position.x,v=this.position.y;let y=0,S=0;if(u&&f){const b=l?-1:1,R=this.getWidth(),E=R+f*b;let D=!1;l&&(y=R-E,(m+y<=0||E<=this.minWidth)&&(D=!0,y=0)),D||this.setWidth(E)}if(h&&p){const b=s?-1:1,R=this.getHeight(),E=R+p*b;let D=!1;s?(S=R-E,(v+S<=0||E<=this.minHeight)&&(D=!0,S=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<E&&this.getMinSizeOfSiblings().height+E>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(E)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&y||S)&&this.offsetElement(m+y,v+S)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:i,movementY:a}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+i,n+a),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},fL="ag-focus-managed",Wi=class extends se{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const s=gs(this.beans,this.eFocusable,!1,n.shiftKey);s&&(s.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(fL),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||En(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Yo(t);return}t.key===K.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},qS={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function $S(e,t){const{debounceMs:n}=e;return Yc(e)?(n!=null&&me(71),0):n??t}function Yc(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var gL=class extends Je{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=xe,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Wi(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new YS(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=Yc(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=Yc(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:s}=t??{},{buttons:i,readOnly:a}=e;if(s===a&&$b(n,i))return;const l=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Fn(this.eButtonsPanel),this.buttonListeners.forEach(f=>f()),this.buttonListeners=[]):l&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!l){this.eButtonsPanel&&Hi(this.eButtonsPanel);return}const u=document.createDocumentFragment(),h=f=>{let p;const m=f?this.translate(`${f}Filter`):void 0;switch(f){case"apply":p=S=>this.onBtApply(!1,!1,S);break;case"clear":p=()=>this.onBtClear();break;case"reset":p=()=>this.onBtReset();break;case"cancel":p=S=>{this.onBtCancel(S)};break;default:me(75);return}const y=jo(`<button
                    type="${f==="apply"?"submit":"button"}"
                    data-ref="${f}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${m}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(y,{click:p})),u.append(y)};i.forEach(f=>h(f)),this.eButtonsPanel.append(u),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=$S(this.params,this.defaultDebounceMs),t=Zs(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:s}=this.params;s&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let s;(n==="Enter"||n==="Space")&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&wa(s,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,qS[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function pL(e,t,n){if(t==null)return null;let s=null;const{compName:i,jsComp:a,fwComp:l}=w1(e,t);return i?s={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:a==null&&l==null&&t.filter===!0&&(s=n()),s}var wc={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},bg=class extends se{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?wc.AUTO_HEIGHT:t.print?wc.PRINT:wc.NORMAL;this.view.updateLayoutClasses(n,t)}},Ys="Viewport",wy="fakeVScrollComp",by=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],mL=class extends se{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Zs(this,()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Zs(this,()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ys)});for(const e of by){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Zs(this,this.onVScroll.bind(this,Ys),100):this.onVScroll.bind(this,Ys),s=t?Zs(this,this.onVScroll.bind(this,wy),100):this.onVScroll.bind(this,wy);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...by,Ys]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Pc(n,e,this.enableRtl)}}getViewportForSource(e){return e===Ys?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const s=Tc(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ys?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===Ys?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!n||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():n.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!No()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=cg(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&Mc()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Ys)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Mc()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),Pc(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:n,lastScrollTop:s}=this;return{top:s,bottom:s+n}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,s=n.getRowCount();let i=-1;for(let a=0;a<s;a++){const l=n.getRow(a);if(typeof e=="function"){if(l&&e(l)){i=a;break}}else if(e===l||e===l.data){i=a;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(At(this.gos,"print"))return;const{rowModel:n}=this.beans,s=n.getRowCount();if(typeof e!="number"||e<0||e>=s){me(88,{index:e});return}const a=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:l,pagination:u,pageBounds:h,rowContainerHeight:f,rowRenderer:p}=this.beans;l.wrapIncoming(()=>{var R;a||u==null||u.goToPageWithIndex(e);const m=this.ctrlsSvc.getGridBodyCtrl(),v=m.stickyTopHeight,y=m.stickyBottomHeight,S=n.getRow(e);let b;do{const E=S.rowTop,D=S.rowHeight,A=h.getPixelOffset(),M=S.rowTop-A,T=M+S.rowHeight,G=this.getVScrollPosition(),O=f.divStretchOffset,z=G.top+O,N=G.bottom+O,V=N-z,_=f.getScrollPositionForPixel(M),Z=f.getScrollPositionForPixel(T-V),ie=Math.min((_+Z)/2,M),re=z+v>M,ee=N-y<T;let H=null;t==="top"?H=_:t==="bottom"?H=Z:t==="middle"?H=ie:re?H=_-v:ee&&(H=Z+y),H!==null&&(this.setVerticalScrollPosition(H),p.redraw({afterScroll:!0})),b=E!==S.rowTop||D!==S.rowHeight}while(b);(R=this.animationFrameSvc)==null||R.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:s}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const a=this.getPositionedHorizontalScroll(i,t);s.wrapIncoming(()=>{var l;a!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(a),this.centerRowsCtrl.onHorizontalViewportChanged(),(l=this.animationFrameSvc)==null||l.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:s}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),a=this.centerRowsCtrl.getCenterWidth(),l=this.enableRtl;let u=(l?n:s)||i,h=l?s:n;t!=="auto"&&(u=t==="start",h=t==="end");const f=t==="middle";if(u||h||f){const{colLeft:p,colMiddle:m,colRight:v}=this.getColumnBounds(e);return f?m-a/2:u?l?v:p:l?p-a:v-a}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:s,colRight:i}=this.getColumnBounds(e),a=this.enableRtl,l=a?t>i:n<i,u=a?n<s:t>s;return{columnBeforeStart:l,columnAfterEnd:u}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,s=e.getActualWidth(),i=e.getLeft(),a=t?-1:1,l=t?n-i:i,u=l+s*a,h=l+s/2*a;return{colLeft:l,colMiddle:h,colRight:u}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,s=e+t;return{start:n,end:s,width:e}}},Sg=class extends se{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=At(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,s=t.bodyWidth,i=t.getColsLeftWidth(),a=t.getDisplayedColumnsRightWidth();let l;e?l=s+i+a:(l=s,this.addSpacer&&(this.gos.get("enableRtl")?i:a)===0&&n.verticalScrollShowing&&(l+=n.getScrollbarWidth())),this.callback(l)}},CL=class extends se{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,s=()=>{_n(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(s),n.registerBodyViewportResizeListener(s)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=cg(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function XS(e,t,n,s,i,a){if(n==null&&t==null)return;const l={},u={},h=(f,p)=>{f.split(" ").forEach(m=>{m.trim()!=""&&p(m)})};if(n){const f=Object.keys(n);for(let p=0;p<f.length;p++){const m=f[p],v=n[m];let y;typeof v=="string"?y=e?e.evaluate(v,s):!0:typeof v=="function"&&(y=v(s)),h(m,S=>{y?l[S]=!0:u[S]=!0})}}t&&a&&Object.keys(t).forEach(f=>h(f,p=>{l[p]||(u[p]=!0)})),a&&Object.keys(u).forEach(a),Object.keys(l).forEach(i)}function Sy(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var vL=0,Da="renderedRow",Tf=class extends se{constructor(e,t,n,s,i){var a;super(),this.rowNode=e,this.useAnimationFrameForCreate=s,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((a=t.pagination)==null?void 0:a.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+vL++,this.rowId=ps(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Sy(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=ps(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,s){s=Pa(this,this.beans.context,s);const i={rowComp:e,element:t,containerType:n,compBean:s};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){var i;const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),(i=this.beans.rowAutoHeight)==null||i.checkAutoHeights(this.rowNode),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),pg(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(a=>n.addOrRemoveCssClass(a,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&ya(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Ko(t,e.element,Da,this),e.compBean.addDestroyFunc(()=>Ko(t,e.element,Da,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=ps(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(uy(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(uy(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var s;const t=(s=this.beans.rowDragSvc)==null?void 0:s.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var s;return(s=n==null?void 0:n.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:s}}=this,i=!!e||!s.isPinningLeft(),a=!!t,l=!!n||!s.isPinningRight();return i&&a&&l}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.colModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&Cg(this.gos,s);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":a?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t,n=null){const s={list:[],map:{}},i=(a,l)=>{s.list.push(l),s.map[a]=l};return t.forEach(a=>{const l=a.getInstanceId();let u=e.map[l];u||(u=new yc(a,this.rowNode,this.beans,this)),i(l,u)}),e.list.forEach(a=>{const l=a.column.getInstanceId();if(s.map[l]!=null)return;if(!this.isCellEligibleToBeRemoved(a,n)){i(l,a);return}a.destroy()}),s}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const s=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t)return!0;const{editing:a,cellPosition:l}=e,{focusSvc:u,visibleCols:h}=this.beans,f=u.isCellFocused(l);return a||f?!(h.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||At(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ye(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,s=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:a}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){a.fullWidth=!0;return}a.center=!0,a.left=s,a.right=i}else{const{fadeInAnimation:a}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){a.fullWidth=!0;return}a.center=!0,a.left=s,a.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(l,u)=>l?l.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(l.element,u).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),s=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&s&&i}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",s=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.checkAutoHeights(this.rowNode)}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Qs(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}onKeyboardNavigate(e){const t=this.findFullWidthRowGui(e.target);if(!((t?t.element:null)===e.target))return;const i=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),h={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:(u==null?void 0:u.column)??this.getColumnForFullWidth(t)};l==null||l.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){var u;if(e.defaultPrevented||En(e))return;const t=this.allRowGuis.find(h=>h.element.contains(e.target)),n=t?t.element:null,s=n===e.target,i=vt(this.beans);let a=!1;n&&i&&(a=n.contains(i)&&i.classList.contains("ag-cell"));let l=null;!s&&!a&&(l=gs(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&s||!l)&&((u=this.beans.navigation)==null||u.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>Wn(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Ho(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var i;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&s.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(s=>{s!==t&&(n.list.push(s),n.map[s.column.getInstanceId()]=s)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return this.gos.addGridCommonParams({type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){En(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Li(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:s}=this.beans;n==null||n.removeAllCellRanges();const i=this.findFullWidthRowGui(e.target),a=i==null?void 0:i.element,l=e.target;let u=!0;a&&a.contains(l)&&lg(l)&&(u=!1),s.setFocusedCell({rowIndex:t.rowIndex,column:this.getColumnForFullWidth(i),rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(En(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:s}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),s==null||s.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:s}=this,i=n.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(l,u,h,f)=>this.addFullWidthRowDragging(l,u,h,f),setTooltip:(l,u)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(l,u)}}),a=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return g1(a,i);case"FullWidthGroup":return f1(a,i);case"FullWidthLoading":return h1(a,i);default:return d1(a,i)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",s){const{rowDragSvc:i,context:a}=this.beans;if(!i||!this.isFullWidth())return;const l=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,s);this.createBean(l,a),this.addDestroyFunc(()=>{this.destroyBean(l,a)})}onUiLevelChanged(){const e=Sy(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(t,!0),s.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var u;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:s,beans:i}=this,a=[];a.push("ag-row"),a.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&a.push("ag-opacity-zero"),a.push(s.rowIndex%2===0?"ag-row-even":"ag-row-odd"),s.isRowPinned()&&a.push("ag-row-pinned"),s.isSelected()&&a.push("ag-row-selected"),s.footer&&a.push("ag-row-footer"),a.push("ag-row-level-"+this.rowLevel),s.stub&&a.push("ag-row-loading"),n&&a.push("ag-full-width-row"),(u=i.expansionSvc)==null||u.addExpandedCss(a,s),s.dragging&&a.push("ag-row-dragging");const{rowStyleSvc:l}=i;return l&&(l.processClassesFromGridOptions(a,s),l.preProcessRowClassRules(a,s)),a.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&a.push("ag-row-first"),this.isLastRowOnPage()&&a.push("ag-row-last"),n&&(t==="left"&&a.push("ag-cell-last-left-pinned"),t==="right"&&a.push("ag-cell-first-right-pinned")),a}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:s,beans:i,gos:a}=this;n.addManagedListeners(t,{mouseenter:()=>s.dispatchRowEvent("mouseEnter"),mouseleave:()=>s.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(s,{mouseEnter:()=>{var l;!((l=i.dragSvc)!=null&&l.dragging)&&!a.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{t.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,s=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),s)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=sS(this.gos)?Ic(this.beans,this.rowNode).height:void 0,a=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,l=>{l.element.style.height=`${t}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Bo(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ye(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const s=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(s);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(s=>{s.column==e&&(n=s)}),n!=null||t||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(e)>=0&&(n=s)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var a,l;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((a=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:a.getRowCount())??0)+(((l=this.beans.filterManager)==null?void 0:l.getHeaderRowCount())??0),s=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,u=>{u.rowComp.setRowIndex(t),u.rowComp.addOrRemoveCssClass("ag-row-even",s),u.rowComp.addOrRemoveCssClass("ag-row-odd",!s),AT(u.element,i)})}};function ZS(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function Ry(e,t,n,s,i){const a=s?s.getColDef().suppressKeyboardEvent:void 0;if(!a)return!1;const l=e.addGridCommonParams({event:t,editing:i,column:s,node:n,data:n.data,colDef:s.getColDef()});return!!(a&&a(l))}var yL=65,wL=67,bL=86,SL=68,RL=90,xL=89;function EL(e){const{keyCode:t}=e;let n;switch(t){case yL:n=K.A;break;case wL:n=K.C;break;case bL:n=K.V;break;case SL:n=K.D;break;case RL:n=K.Z;break;case xL:n=K.Y;break;default:n=e.code}return n}var DL=class extends se{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",hS("touchstart")?"touchstart":"mousedown"].forEach(n=>{const s=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:s})})}processMouseEvent(e,t){var i;if(!Uc(this.gos,t)||En(t))return;const{cellCtrl:n,rowCtrl:s}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(i=this.beans.contextMenuSvc)==null||i.handleContextMenuMouseEvent(t,void 0,s,n)):(n&&n.onMouseEvent(e,t),s&&s.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:zS(t,e),rowCtrl:fS(t,e,Da)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,n){var u;const{rowNode:s,column:i,editing:a}=e;!Ry(this.gos,n,s,i,a)&&t==="keydown"&&(!a&&((u=this.beans.navigation)!=null&&u.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),ZS(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:s}=e,{focusSvc:i,navigation:a}=this.beans,l=i.getFocusedCell(),u=l&&l.column;if(!Ry(this.gos,n,s,u,!1)){const f=n.key;if(t==="keydown")switch(f){case K.PAGE_HOME:case K.PAGE_END:case K.PAGE_UP:case K.PAGE_DOWN:a==null||a.handlePageScrollingKey(n,!0);break;case K.UP:case K.DOWN:e.onKeyboardNavigate(n);break;case K.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Uc(this.gos,e))return;const n=EL(e),{clipboardSvc:s,undoRedo:i}=this.beans;if(n===K.A)return this.onCtrlAndA(e);if(n===K.C)return this.onCtrlAndC(s,e);if(n===K.D)return this.onCtrlAndD(s,e);if(n===K.V)return this.onCtrlAndV(s,e);if(n===K.X)return this.onCtrlAndX(s,e);if(n===K.Y)return this.onCtrlAndY(i);if(n===K.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{pinnedRowModel:t,rowModel:n,visibleCols:s,rangeSvc:i,selectionSvc:a},gos:l}=this;if(i&&Ra(l)&&n.isRowsToRender()){const[u,h]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],f=u?null:"top";let p,m;h?(p=null,m=n.getRowCount()-1):(p="bottom",m=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const v=s.allCols;if(!(v!=null&&v.length))return;i.setCellRange({rowStartIndex:0,rowStartPinned:f,rowEndIndex:m,rowEndPinned:p,columnStart:v[0],columnEnd:Oe(v)})}else a&&(a==null||a.selectAllRowNodes({source:"keyboardSelectAll",selectAll:oP(l)}));e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:s}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||s!=null&&s.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:s}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||s!=null&&s.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:s}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||s!=null&&s.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},QS=class extends se{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},ic=e=>e.topRowCtrls,oc=e=>e.getStickyTopRowCtrls(),rc=e=>e.getStickyBottomRowCtrls(),ac=e=>e.bottomRowCtrls,lc=e=>e.allRowCtrls,AL={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:lc},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:lc},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:lc},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:lc},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:ic},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:ic},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:ic},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:ic},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:oc},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:oc},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:oc},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:oc},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:rc},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:rc},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:rc},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:rc},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:ac},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:ac},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:ac},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:ac}};function Lo(e){return AL[e]}var FL=["topCenter","topLeft","topRight"],ML=["bottomCenter","bottomLeft","bottomRight"],TL=["center","left","right"],PL=["center","left","right","fullWidth"],LL=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],OL=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],IL=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],JS=["stickyTopCenter","stickyTopLeft","stickyTopRight"],eR=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],kL=[...JS,"stickyTopFullWidth",...eR,"stickyBottomFullWidth"],GL=[...FL,...ML,...TL,...JS,...eR],NL=class extends se{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Lo(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new CL(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n){this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new DL(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:s,rangeSvc:i}=this.beans,a=()=>this.onPinnedWidthChanged();this.forContainers(OL,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(this.eContainer,!0)),this.addManagedEventListeners({leftPinnedWidthChanged:a})}),this.forContainers(IL,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s==null?void 0:s.createPinnedWidthFeature(this.eContainer,!1)),this.addManagedEventListeners({rightPinnedWidthChanged:a})}),this.forContainers(PL,()=>this.createManagedBean(new QS(this.eContainer,this.name==="center"?n:void 0))),i&&this.forContainers(GL,()=>this.createManagedBean(i.createDragListenerFeature(this.eContainer))),this.forContainers(LL,()=>this.createManagedBean(new Sg(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(kL.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),s=At(this.gos,"print");this.comp.setDomOrder(n||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ac(this.eViewport)}getCenterViewportScrollLeft(){return Tc(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=bs(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Yb(this.eViewport)}getViewportScrollLeft(){return Tc(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||HT(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Pc(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=At(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,a=t.filter(l=>{const u=l.isFullWidth();return this.options.fullWidth?!i&&u:i||!u});this.comp.setRowCtrls({rowCtrls:a,useFlushSync:e})}},HL="ag-force-vertical-scroll",BL="ag-selectable",zL="ag-column-moving",VL=class extends se{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,s,i,a,l){var u,h;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=s,this.eBottom=i,this.eStickyTop=a,this.eStickyBottom=l,this.eCenterColsViewport=n.querySelector(`.${Lo("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${Lo("fullWidth").container}`),this.eStickyTopFullWidthContainer=a.querySelector(`.${Lo("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=l.querySelector(`.${Lo("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",f=>this.setCellTextSelection(f.currentValue)),this.createManagedBean(new bg(this.comp)),this.scrollFeature=this.createManagedBean(new mL(this.eBodyViewport)),(u=this.beans.rowDragSvc)==null||u.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,n,i,a,l]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(h=this.filterManager)==null||h.setupAdvFilterHeaderComp(s),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,s=_b()?16:0,i=`calc(100% + ${n+s}px)`;_n(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const s=t.isPivotMode();n=(e?e.columns.length:0)>=(s?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:s}=n,i=Li(s,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:s,relatedTarget:i}=n,a=t.contains(i),l=Li(i,"ag-root",t);Li(s,"ag-root",t)||(!a||l)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(zL,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(BL,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var i,a;const e=(((i=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:i.getRowCount())??0)+(((a=this.filterManager)==null?void 0:a.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,s=n===-1?-1:e+n;this.comp.setRowCount(s)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?HL:null,n=At(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&BT(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const s=()=>{const i=n&&Bo(this.gos)&&!e.stretching,a=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(a,i)};s(),this.addManagedEventListeners({heightScaleChanged:s}),this.addManagedPropertyListener("animateRows",s),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,s())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,n=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:n}),t==null||t.mockBodyContextMenu(this,n),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(n))&&Uc(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:s}=e,i=s||Math.abs(t)>Math.abs(n),a=e.target;i?(this.eStickyTopFullWidthContainer.contains(a)||this.eStickyBottomFullWidthContainer.contains(a))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var i;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsSvc.get("center").eViewport)&&((i=this.beans.contextMenuSvc)==null||i.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var i,a;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),n=((a=this.pinnedRowModel)==null?void 0:a.getPinnedTopTotalHeight())??0;let s=0;t>0&&(s+=t),n>0&&(s+=n),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,s=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,a=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,l=s+a;n.setStickyBottomBottom(`${l}px`)}},tR=class extends Je{constructor(e,t){super(),this.direction=t,this.eViewport=xe,this.eContainer=xe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Vb()||No())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=_b(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),_n(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;Qb(()=>Wn(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},WL=class extends tR{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=xe,this.eRightSpacer=xe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Sg(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,s=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=s),Hn(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=s),Hn(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=s)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,a=n?0:s===0&&t?16:s,l=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),fa(this.getGui(),a),fa(this.eViewport,a),fa(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(l,100):l()}getScrollPosition(){return Tc(this.eViewport,this.enableRtl)}setScrollPosition(e){Wn(this.eViewport)||this.attemptSettingScrollPosition(e),Pc(this.eViewport,e,this.enableRtl)}},_L=class extends tR{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new QS(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,s=t&&e.getScrollbarWidth()||0,i=s===0&&n?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Hn(this.getGui(),i),Hn(this.eViewport,i),Hn(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,s=this.getScrollPosition(),i=n.scrollTop;s!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Wn(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function UL(e){return e.cols?e.cols.treeDepth+1:-1}function hs(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function Rg(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const s of n){if(!s)continue;const i=s.getGroupRowCount()||0;for(let a=0;a<i;a++){const l=s.getGroupRowCtrlAtIndex(a),u=t[a];if(l){const h=jL(e,l);(u==null||h>u)&&(t[a]=h)}}}return t}function jL(e,t){const n=e.colModel.isPivotMode()?YL(e):sR(e);let s=0;const i=t.getHeaderCtrls();for(const a of i){const{column:l}=a;if(l.isAutoHeaderHeight()){const u=l.getAutoHeaderHeight();u!=null&&u>s&&(s=u)}}return Math.max(n,s)}function xg(e){const t=e.colModel.isPivotMode()?KL(e):lu(e),s=e.visibleCols.allCols.filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...s)}function lu(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function nR(e){return e.gos.get("floatingFiltersHeight")??lu(e)}function sR(e){return e.gos.get("groupHeaderHeight")??lu(e)}function KL(e){return e.gos.get("pivotHeaderHeight")??lu(e)}function YL(e){return e.gos.get("pivotGroupHeaderHeight")??sR(e)}var qL=class extends se{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:s}=this,{headerNavigation:i,touchSvc:a,ctrlsSvc:l}=s;i&&this.createManagedBean(new Wi(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,s),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,s)}),this.onPivotModeChanged(s),this.setupHeaderHeight();const u=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:u}),a==null||a.mockHeaderContextMenu(this,u),l.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>_n(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var a;const{beans:e}=this;let t=0;const n=Rg(e).reduce((l,u)=>l+u,0),s=xg(e);if((a=e.filterManager)!=null&&a.hasFloatingFilters()&&(t+=nR(e)),t+=n,t+=s,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(s=>s.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,s=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:a,focusSvc:l}=i;(a.navigateHorizontally(s,!0,e)||!n&&l.focusOverlay(!1)||Ea(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case K.LEFT:t="LEFT";case K.RIGHT:{ye(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case K.UP:t="UP";case K.DOWN:{ye(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:s}=this;!t&&n.contains(vt(s))||n.contains(t)||(s.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var l;const{menuSvc:s,ctrlsSvc:i}=this.beans;if(!e&&!n||!(s!=null&&s.isHeaderContextMenuEnabled()))return;const{target:a}=e??t;(a===this.eGui||a===((l=i.getHeaderRowContainerCtrl())==null?void 0:l.eViewport))&&s.showHeaderContextMenu(void 0,e,n)}},Eg=class extends se{constructor(e,t,n,s){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=s,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Oe(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),s=ye(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&s&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:s}=this.beans;if(!At(n,"print")||e.getPinned()==="left")return t;const a=s.getColsLeftWidth();if(e.getPinned()==="right"){const l=s.bodyWidth;return a+l+t}return a+t}setLeft(e){if(ye(e)&&(this.eCell.style.left=`${e}px`),st(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&MT(this.ariaEl,t.length)}}},$L=0,iR="headerCtrl",Dg=class extends se{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+$L++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,s=n.getDefinition(),i=s&&s.suppressHeaderKeyboardEvent;if(!ye(i))return!1;const a=this.gos.addGridCommonParams({colDef:s,column:n,headerRowIndex:t,event:e});return!!i(a)}getWrapperHasFocus(){return vt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:s}=e,{beans:i}=this,a=m=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:v,paddingBottom:y,borderBottomWidth:S,borderTopWidth:b}=tr(this.eGui),R=v+y+S+b,D=t.offsetHeight+R;if(m<5){const A=Ct(i),M=!A||!A.contains(t),T=D==0;if(M||T){_n(i,()=>a(m+1));return}}this.setColHeaderHeight(this.column,D)};let l=!1,u;const h=()=>{const m=this.column.isAutoHeaderHeight();m&&!l&&f(),!m&&l&&p()},f=()=>{l=!0,a(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=bs(this.beans,t,()=>a(0))},p=()=>{l=!1,u&&u(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};h(),s.addDestroyFunc(()=>p()),s.addManagedListeners(this.column,{widthChanged:()=>l&&a(0)}),s.addManagedEventListeners({sortChanged:()=>{l&&window.setTimeout(()=>a(0))}}),n&&n(h)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:s}=this;!e||!t||!s||(GS(e,t,n.visibleCols),Hb(s,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Vo(this.beans);this.eGui&&Ho(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var a;const t=vt(this.beans),n=e.key===K.LEFT||e.key===K.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===K.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(l,e.shiftKey),(a=this.resizeFeature)==null||a.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let s=e.key===K.LEFT!==t.get("enableRtl");const i=n.getPinned(),a=t.get("enableRtl");return i&&a!==(i==="right")&&(s=!s),(s?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case K.PAGE_DOWN:case K.PAGE_UP:case K.PAGE_HOME:case K.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=iR,{eGui:n,gos:s}=this;Ko(s,n,t,this),e.addDestroyFunc(()=>Ko(s,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const s=e??t,{menuSvc:i,gos:a}=this.beans;a.get("preventDefaultOnContextMenu")&&s.preventDefault(),i!=null&&i.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},XL=class extends Dg{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,s,i){this.comp=e;const{colResize:a,context:l,colHover:u}=this.beans,h=Pa(this,l,i);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:p=>this.setRefreshFunction("measuring",p),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),a?this.resizeFeature=h.createManagedBean(a.createResizeFeature(this.rowCtrl.pinned,this.column,n,e,this)):Ze(n,!1),u==null||u.createHoverFeature(h,[this.column],t),h.createManagedBean(new Eg(this.column,t,this.beans)),h.createManagedBean(new Wi(t,{shouldStopEventPropagation:p=>this.shouldStopEventPropagation(p),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh()),h.addManagedListeners(this.column,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const f=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:f,columnRowGroupChanged:f,columnPivotChanged:f,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return a1(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:s}=this.beans;return s.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||en(this.gos)),showColumnMenu:a=>{e==null||e.showColumnMenu({column:this.column,buttonElement:a,positionBy:"button"})},showColumnMenuAfterMouseClick:a=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:a,positionBy:"mouse"})},showFilter:a=>{e==null||e.showFilterMenu({column:this.column,buttonElement:a,containerType:"columnFilter",positionBy:"button"})},progressSort:a=>{t==null||t.progressSort(this.column,!!a,"uiColumnSorted")},setSort:(a,l)=>{t==null||t.setSortForColumn(this.column,a,!!l,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(a,l)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(a,l)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===K.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===K.ENTER&&this.onEnterKeyDown(e),e.key===K.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();xy(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),NS()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=kS(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{s.has(i)?s.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),s.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:s}=this,i=Rg(this.beans),a=i.reduce((p,m)=>p+=m,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",a),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:l,isSpanningTotal:u}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",l>0);const h=xg(s);if(l===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${h}px`);return}n.addOrRemoveCssClass("ag-header-span-total",u);let f=0;for(let p=0;p<l;p++)f+=i[i.length-1-p];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${h+f}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(wT(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!en(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(vt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,s)=>n==="filter"?-1:s.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),s=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return xy(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function xy(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var ZL=0,Kh=class extends se{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=ZL++;const s=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}postConstruct(){this.isPrintLayout=At(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Pa(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=At(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=Rg(this.beans),s=xg(this.beans);t.push(...n),t.push(s),e!=null&&e.hasFloatingFilters()&&t.push(nR(this.beans));let i=0;for(let l=0;l<this.rowIndex;l++)i+=t[l];const a=t[this.rowIndex];return{topOffset:i,rowHeight:a}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const n=s=>{const{focusSvc:i,visibleCols:a}=this.beans;return i.isHeaderWrapperFocused(s)?a.isVisible(s.column):!1};if(e)for(const[s,i]of e)n(i)?this.headerCellCtrls.set(s,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const n=e.getUniqueId();let s;if(t&&(s=t.get(n),t.delete(n)),s&&s.column!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":s=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:s=this.createBean(new XL(e,this));break}this.headerCellCtrls.set(n,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(s=>{const i=n.getHeadersToRender(s,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let n;return typeof e=="function"?n=t.find(e):n=t.find(s=>s.column==e),n}focusHeader(e,t){const n=this.findHeaderCellCtrl(e);return n?n.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},QL=class extends se{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:s,colModel:i,colMoves:a,filterManager:l}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(a,this.eViewport);const u=this.onDisplayedColumnsChanged.bind(this,l);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:u,advancedFilterEnabledChanged:u});const h=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;s.register(h,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:s}=this.beans;let i=0;const a=t.getFocusHeaderToUseAfterRefresh(),l=()=>{const p=UL(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let m=0;m<p;m++){const v=this.createBean(new Kh(i++,this.pinned,"group"));this.groupsRowCtrls.push(v)}},u=()=>{const p=i++,m=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==p);(m||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),m&&(this.columnsRowCtrl=this.createBean(new Kh(p,this.pinned,"column")))},h=()=>{this.includeFloatingFilter=!!(s!=null&&s.hasFloatingFilters())&&!this.hidden;const p=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){p();return}const m=i++;if(this.filtersRowCtrl){const v=this.filtersRowCtrl.rowIndex!==m;(!e||v)&&p()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Kh(m,this.pinned,"filter")))};l(),u(),h();const f=this.getAllCtrls();this.comp.setCtrls(f),this.restoreFocusOnHeader(t,a)}getHeaderCtrlForColumn(e){var t;if(ni(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const s=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(s)return s}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Sg(e=>this.comp.setCenterWidth(`${e}px`),!0))}},JL=class extends se{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,s=t&&en(this.gos)?t:n;this.showColumnMenuCommon(s,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var s;(s=this.activeMenuFactory)==null||s.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(en(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&ni(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(No()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!en(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!en(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return en(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,s){const{positionBy:i}=t,a=t.column;if(i==="button"){const{buttonElement:l}=t;e==null||e.showMenuAfterButtonClick(a,l,n,s)}else if(i==="mouse"){const{mouseEvent:l}=t;e==null||e.showMenuAfterMouseEvent(a,l,n,s)}else if(a){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(a,"auto"),_n(l,()=>{var f;const h=(f=u.getHeaderRowContainerCtrl(a.getPinned()))==null?void 0:f.getHeaderCtrlForColumn(a);h&&(e==null||e.showMenuAfterButtonClick(a,h.getAnchorElementForMenu(s),n,!0))})}}};function Ey(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var oR=class extends Je{constructor(){super()}},eO=class extends oR{init(){var t;const e=Qs((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},tO=class extends oR{init(){var t;const e=Qs((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function nO(e,t,n){const s=Cn(e,t,n);if(s){const{className:a}=s;if(typeof a=="string"&&a.indexOf("ag-icon")>-1||typeof a=="object"&&a["ag-icon"])return s}const i=document.createElement("span");return i.appendChild(s),i}function Cn(e,t,n){var a;let s=null;e==="smallDown"?me(262):e==="smallLeft"?me(263):e==="smallRight"&&me(264);const i=n&&n.getColDef().icons;if(i&&(s=i[e]),t.gos&&!s){const l=t.gos.get("icons");l&&(s=l[e])}if(s){let l;if(typeof s=="function")l=s();else if(typeof s=="string")l=s;else{me(38,{iconName:e});return}if(typeof l=="string")return jo(l);if(dg(l))return l;me(133,{iconName:e});return}else{const l=document.createElement("span"),u=t.registry.getIcon(e);u||(a=t.validation)==null||a.validateIcon(e);const h=u??e;return l.setAttribute("class",`ag-icon ag-icon-${h}`),l.setAttribute("unselectable","on"),Wt(l,"presentation"),l}}var sO=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",iO=class extends Je{constructor(){super(),this.dragSource=null,this.eIcon=xe,this.eLabel=xe,this.registerCSS(sO)}postConstruct(){const e=t=>nO(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:s,dropIconMap:i,gos:a}=this;Fn(n);let l=null;e||(e=s!=null&&s.getDefaultIconName?s.getDefaultIconName():"notAllowed"),l=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(l===i.hide&&a.get("suppressDragLeaveHidesColumns"))&&l&&n.appendChild(l)}setLabel(e){this.eLabel.textContent=ps(e)}},oO=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",rO=class extends Je{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(oO)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:s,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Fn(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ze(t,!1),Wt(t,"presentation")):(Ze(t,!0),Wt(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Lc(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return wa(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},rR=class extends rO{constructor(e,t,n,s){super(e,t,n),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||ST(e)!==null?yf(e,""):yf(e,t??"")}setAriaLabel(e){return Vi(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Hn(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Oo=class extends rR{constructor(e,t,n="text",s="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],t),this.inputType=n,this.displayFieldTag=s,this.eLabel=xe,this.eWrapper=xe,this.eInput=xe}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:s}=this;e.classList.add(`${s}-label`),t.classList.add(`${s}-input-wrapper`),n.classList.add(`${s}-input`),this.addCssClass("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:a}=this.config;i!=null&&this.setInputName(i),a!=null&&this.setInputWidth(a),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Lc(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Ho(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Vi(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return wa(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ho(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Ho(this.eInput,"autocomplete",t)}return this}},aR=class extends Oo{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const s=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},aO={selector:"AG-CHECKBOX",component:aR},lO=".ag-checkbox-cell{height:100%}",cO=class extends Je{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[aO]),this.eCheckbox=xe,this.registerCSS(lO)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,s=t.getInputElement();s.setAttribute("tabindex","-1"),Nb(s,"polite"),this.addManagedListeners(s,{click:i=>{if(Yo(i),t.isDisabled())return;const a=t.getValue();this.onCheckboxChanged(a)},dblclick:i=>{Yo(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===K.SPACE&&!t.isDisabled()){e.eGridCell===vt(n)&&t.toggle();const a=t.getValue();this.onCheckboxChanged(a),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:s,column:i,node:a}=e;if(a.group&&i)if(typeof s=="boolean")t=s;else{const m=i.getColId();m.startsWith(qo)?t=s==null||s===""?void 0:s==="true":a.aggData&&a.aggData[m]!==void 0?t=s??void 0:n=!1}else t=s??void 0;const{eCheckbox:l}=this;if(!n){l.setDisplayed(!1);return}l.setValue(t);const u=e.disabled??!(i!=null&&i.isCellEditable(a));l.setDisabled(u);const h=this.getLocaleTextFunc(),f=OT(h,t),p=u?f:`${h("ariaToggleCellValue","Press SPACE to toggle cell value")} (${f})`;l.setInputAriaLabel(p)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:s,node:i,value:a}=n,l={column:s,colDef:s.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:a};t.dispatchEvent({type:"cellEditingStarted",...l});const u=i.setDataValue(s,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...l,oldValue:a,newValue:e,valueChanged:u}),u||this.updateCheckbox(n)}},uO="ROOT_NODE_ID",dO=class extends se{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=uO,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){const n=this.createTransactionForRowData(t),s=this.updateRowData(n,e.changedRowNodes);let i=!1;this.gos.get("suppressMaintainUnsortedOrder")||(i=this.updateRowOrderFromRowData(t));const{rowNodeTransaction:a,rowsInserted:l}=s,{add:u,remove:h,update:f}=a;(l||i||u.length||h.length||f.length)&&(e.step="group",e.rowDataUpdated=!0,e.rowNodeTransactions=[a],e.rowNodesOrderChanged=l||i)}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},s=[],i=Df(this.gos);return this.executeRemove(i,e,n,s),this.executeUpdate(i,e,n,s),this.executeAdd(e,n),this.deselectNodes(s),n}createTransactionForRowData(e){const t=Df(this.gos),n={...this.allNodesMap},s=[],i=[],a=[];ye(e)&&e.forEach(l=>{const u=t({data:l,level:0}),h=n[u];h?(h.data!==l&&i.push(l),n[u]=void 0):a.push(l)});for(const l of Object.values(n))l&&s.push(l.data);return{remove:s,update:i,add:a}}updateRowOrderFromRowData(e){var l;const t=(l=this.rootNode)==null?void 0:l.allLeafChildren,n=(t==null?void 0:t.length)??0,s=new Map;let i=-1,a=-1;for(let u=0;u<n;++u){const h=t[u],f=h.data;f!==e[u]&&(a<0&&(i=u),a=u,s.set(f,h))}if(i<0)return!1;for(let u=i;u<=a;++u){const h=s.get(e[u]);h!==void 0&&(t[u]=h,h.sourceRowIndex=u)}return!0}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let s=this.rootNode.allLeafChildren,i=s.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let m=0;m<s.length;m++){const v=s[m];if((v==null?void 0:v.rowIndex)==i-1){i=m+1;break}}const a=n.length,l=t.changedRowNodes,u=new Array(a);for(let p=0;p<a;p++){const m=this.createRowNode(n[p],i+p);l.add(m),u[p]=m}const h=this.rootNode;if(i<s.length){const p=s.slice(0,i),m=s.slice(i,s.length),v=p.length+u.length;for(let y=0,S=m.length;y<S;++y)m[y].sourceRowIndex=v+y;s=[...p,...u,...m],t.rowsInserted=!0}else s=s.concat(u);h.allLeafChildren=s;const f=h.sibling;f&&(f.allLeafChildren=s),t.rowNodeTransaction.add=u}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:s},i){var f,p;const{remove:a}=t;if(!(a!=null&&a.length))return;const l={};a.forEach(m=>{const v=this.lookupRowNode(e,m);v&&(v.isSelected()&&i.push(v),v.clearRowTopAndRowIndex(),l[v.id]=!0,delete this.allNodesMap[v.id],s.remove.push(v),n.remove(v))});const u=this.rootNode;u.allLeafChildren=((f=u.allLeafChildren)==null?void 0:f.filter(m=>!l[m.id]))??null,(p=u.allLeafChildren)==null||p.forEach((m,v)=>{m.sourceRowIndex=v});const h=u.sibling;h&&(h.allLeafChildren=u.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:s},i){const{update:a}=t;a!=null&&a.length&&a.forEach(l=>{const u=this.lookupRowNode(e,l);u&&(u.updateData(l),!u.selectable&&u.isSelected()&&i.push(u),s.update.push(u),n.update(u))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var i;const t="rowDataChanged",n=this.beans.selectionSvc,s=e.length>0;s&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(i=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||i.call(n,t),s&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new au(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&me(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var s,i;let n;if(e){const a=e({data:t,level:0});if(n=this.allNodesMap[a],!n)return Ye(4,{id:a}),null}else if(n=(i=(s=this.rootNode)==null?void 0:s.allLeafChildren)==null?void 0:i.find(a=>a.data===t),!n)return Ye(5,{data:t}),null;return n||null}},hO=class extends aR{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},lR=class extends Oo{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ye(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{ZS(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var i;const s=(i=n.clipboardData)==null?void 0:i.getData("text");s&&s.split("").some(a=>!e.test(a))&&n.preventDefault()}})}};function Dy(e,t){return e.toString().padStart(t,"0")}function Ay(e,t=!0,n="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Dy(i,2)).join(n);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Dy(i,2)).join(":")),s}function Fy(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const s=t.split("-").map(m=>parseInt(m,10));if(s.filter(m=>!isNaN(m)).length!==3)return null;const[i,a,l]=s,u=new Date(i,a-1,l);if(u.getFullYear()!==i||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;const[h,f,p]=n.split(":").map(m=>parseInt(m,10));return h>=0&&h<24&&u.setHours(h),f>=0&&f<60&&u.setMinutes(f),p>=0&&p<60&&u.setSeconds(p),u}function fO(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var gO=class extends Je{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case K.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case K.DOWN:case K.UP:e.preventDefault(),this.navigate(t);break;case K.PAGE_DOWN:case K.PAGE_UP:case K.PAGE_HOME:case K.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===K.DOWN;let n;const{itemEls:s,highlightedEl:i}=this;if(!i)n=s[t?0:s.length-1];else{let l=s.indexOf(i)+(t?1:-1);l=Math.min(Math.max(l,0),s.length-1),n=s[l]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const s=t.indexOf(n),i=this.options.length-1,a=t[0].clientHeight,l=Math.floor(this.getGui().clientHeight/a);let u=-1;e===K.PAGE_HOME?u=0:e===K.PAGE_END?u=i:e===K.PAGE_DOWN?u=Math.min(s+l,i):e===K.PAGE_UP&&(u=Math.max(s-l,0)),u!==-1&&this.highlightItem(t[u])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,s=n||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Hi(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{rg(t,n+1),og(t,e.length)})}renderOption(e,t){const n=Ct(this.beans),s=n.createElement("div");Wt(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=n.createElement("span");s.appendChild(i),i.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:a=>{a.preventDefault(),a.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(s=>s.value===e);if(n!==-1){const s=this.options[n];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Wn(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),ay(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:s}=t,{offsetTop:i,offsetHeight:a}=e;(i+a>n+s||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Wn(e)||(e.classList.remove(this.activeClass),ay(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},pO=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}",mO=class extends rR{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=xe,this.eWrapper=xe,this.eDisplayField=xe,this.eIcon=xe,this.registerCSS(pO),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:s,minPickerWidth:i,maxPickerWidth:a}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),a!=null&&this.setPickerMaxWidth(a)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:s}=this.config;if(n){const i=Cn(n,this.beans);i&&this.eIcon.appendChild(i)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),ya(e,!1),this.ariaRole&&Wt(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case K.UP:case K.DOWN:case K.ENTER:case K.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case K.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:s,modalPicker:i=!0},maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:u,variableWidth:h,beans:f,eWrapper:p}=this,m={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const b=rS(f);this.beforeHidePicker(),b&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,s),anchorToElement:p};e.style.position="absolute";const v=f.popupSvc,y=v.addPopup(m);h?(l&&(e.style.minWidth=l),e.style.width=ug(Fc(p)),u&&(e.style.maxWidth=u)):Lc(e,u??Fc(p));const S=a??`${cg(v.getPopupParent())}px`;return e.style.setProperty("max-height",S),this.alignPickerToComponent(),y.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:s},eWrapper:i,pickerComponent:a}=this,l=s.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:a.getGui(),position:"under",alignSide:l,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();ya(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return Lc(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},CO=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",vO=class extends mO{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(CO)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:fO(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new gO("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),LT(this.getAriaElement(),t),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),e.addManagedListeners(e,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===K.TAB&&this.hidePicker(),t){case K.ENTER:case K.UP:case K.DOWN:case K.PAGE_UP:case K.PAGE_DOWN:case K.PAGE_HOME:case K.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case K.ESCAPE:super.onKeyDown(e);break;case K.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,n){const{listComponent:s,config:{placeholder:i},eDisplayField:a,tooltipFeature:l}=this;if(this.value===e||!s)return this;if(n||s.setValue(e,!0),s.getValue()===this.getValue())return this;let h=s.getDisplayValue();return h==null&&i&&(h=i),a.textContent=h,l==null||l.setTooltipAndRefresh(h??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Wo={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},cR=class extends se{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:s,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:a,isFocusableContainer:l,focusInnerElement:u,onFocusIn:h,onFocusOut:f,shouldStopEventPropagation:p,onTabKeyDown:m,handleKeyDown:v,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=s,this.providedFocusInnerElement=u,this.eFocusableElement=y,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!a,this.isFocusableContainer=!!l,this.providedFocusIn=h,this.providedFocusOut=f,this.providedShouldStopEventPropagation=p,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=v}postConstruct(){this.createManagedBean(new Wi(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&Ii(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var h;const t=Ct(this.beans),n=Ii(t.body,null,!0),s=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let i,a;e?(i=0,a=s):(i=s+1,a=n.length);const l=n.slice(i,a),u=this.gos.get("tabIndex");l.sort((f,p)=>{const m=parseInt(f.getAttribute("tabindex")||"0"),v=parseInt(p.getAttribute("tabindex")||"0");return v===u?1:m===u?-1:m===0?1:v===0?-1:m-v}),(h=l[e?l.length-1:0])==null||h.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Ii(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return gs(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},yO=class extends se{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:s}=this,i=[t,n],a={setTabIndex:b=>{i.forEach(R=>b!=null?R.setAttribute("tabindex",b):R.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:l=!1,onFocusIn:u,onFocusOut:h,focusInnerElement:f,handleKeyDown:p,onTabKeyDown:m,shouldStopEventPropagation:v,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:S}=e;this.tabGuardCtrl=this.createManagedBean(new cR({comp:a,focusTrapActive:l,eTopGuard:t,eBottomGuard:n,eFocusableElement:s,onFocusIn:u,onFocusOut:h,focusInnerElement:f,handleKeyDown:p,onTabKeyDown:m,shouldStopEventPropagation:v,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:S}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Ct(this.beans).createElement("div"),n=e==="top"?Wo.TAB_GUARD_TOP:Wo.TAB_GUARD_BOTTOM;return t.classList.add(Wo.TAB_GUARD,n),Wt(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Fn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){dg(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,n)}},wO=class extends Je{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new yO(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},Po=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new er,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",s,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",s,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!_S(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},uR=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${Xb}/${this.frameworkName}-data-grid`,UT(this.baseDocLink)}setInterval(e,t){return new Qe(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,s){let i={};if(typeof s=="object"?i=s:typeof s=="boolean"&&(i={capture:s}),i.passive==null){const a=gS(t);a!=null&&(i.passive=a)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function bO(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var SO=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],My=Object.fromEntries(SO.map((e,t)=>[e,t]));function RO(e,t){const n=(e.beanName?My[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?My[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-s}function xO(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var EO=class extends se{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:s,ctrlsSvc:i}=this.beans;s==null||s.registerGridDropTarget(()=>this.eGui,this),WS(this.gos,t),this.createManagedBean(new bg(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const a=bs(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=HS(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,s,i;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(s=e.registry)==null?void 0:s.getSelector("AG-STATUS-BAR"),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(n>0){const{visibleCols:i,focusSvc:a}=this.beans,l=i.allCols,u=Oe(l);if(a.focusGridView(u,!0))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:s,visibleCols:i}=this.beans,a=i.allCols;if(e){if(n.length>1)return this.focusContainer(Oe(n),!0);const l=Oe(a);if(s.focusGridView(l,!0))return!0}if(this.gos.get("headerHeight")===0||Vo(this.beans)){if(s.focusGridView(a[0]))return!0;for(let l=1;l<n.length;l++)if(Bi(n[l].getGui()))return!0;return!1}return s.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var a;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||n<0||n>=t.length)return;const i=t[n];(a=i.setAllowFocus)==null||a.call(i,!0),setTimeout(()=>{var l;(l=i.setAllowFocus)==null||l.call(i,!1)})}getNextFocusableIndex(e,t){const n=vt(this.beans),s=e.findIndex(a=>a.getGui().contains(n)),i=s+(t?-1:1);return{indexWithFocus:s,nextIndex:i}}focusContainer(e,t){var s,i;(s=e.setAllowFocus)==null||s.call(e,!0);const n=Bi(e.getGui(),t);return(i=e.setAllowFocus)==null||i.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Ee=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},Ty={dispatchEvent:"CommunityCore",...Ee("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...Ee("GridState",{getState:0}),...Ee("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ee("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ee("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ee("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ee("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ee("ValueCache",{expireValueCache:0}),...Ee("CellApi",{getCellValue:0}),...Ee("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ee("Sort",{onSortChanged:0}),...Ee("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...Ee("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ee("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ee("HighlightChanges",{flashCells:0}),...Ee("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...Ee("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ee("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ee("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ee("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ee("ColumnResize",{setColumnWidths:0}),...Ee("ColumnHover",{isColumnHovered:0}),...Ee("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...Ee("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ee("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ee("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...Ee("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ee("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ee("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Ee("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ee("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ee("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ee("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ee("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ee("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ee("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ee("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ee("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ee("ContextMenu",{showContextMenu:0}),...Ee("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ee("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ee("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ee("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ee("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ee("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ee("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ee("StatusBar",{getStatusPanel:0})},Yh={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},DO=(e,t)=>e.eventSvc.dispatchEvent(t),dR=class{};Reflect.defineProperty(dR,"name",{value:"GridApi"});var AO=class extends se{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new dR,this.fns={...Yh,dispatchEvent:DO},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(Ty))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:n,beans:s}=this;n!==Yh&&(n[e]=((i=s==null?void 0:s.validation)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:s}}=this;return s?s(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:s}=this;if(!t)me(26,{fnName:e,preDestroyLink:s});else{const i=Ty[e];n.assertModuleRegistered(i,`api.${e}`)&&me(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=Yh,this.beans=null}};function FO(e){return e.context.getGridId()}function MO(e){e.gridDestroySvc.destroy()}function TO(e){return e.gridDestroySvc.destroyCalled}function PO(e,t){return e.gos.get(t)}function LO(e,t,n){hR(e,{[t]:n})}function hR(e,t){e.gos.updateGridOptions({options:t})}var OO=class extends se{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},fR={moduleName:"Drag",version:Ge,beans:[rL]},IO={moduleName:"SharedDragAndDrop",version:Ge,beans:[tL],dependsOn:[fR],userComponents:{agDragAndDropImage:iO},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},kO={moduleName:"HorizontalResize",version:Ge,beans:[OO],dependsOn:[fR]},GO=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",NO=class extends se{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:s}=this;if(n.length===0&&s.length===0){e(),t();return}const i=a=>{for(;a.length;){const l=a.pop();l&&l()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(s)},200)})}};function HO(e,t,n){var s;(s=e.colMoves)==null||s.moveColumnByIndex(t,n,"api")}function BO(e,t,n){var s;(s=e.colMoves)==null||s.moveColumns(t,n,"api")}var zO=class extends se{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:s}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(s==null||s.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function VO(e,t){!t||t.length<=1||t.filter(s=>e.indexOf(s)<0).length>0||t.sort((s,i)=>{const a=e.indexOf(s),l=e.indexOf(i);return a-l})}function gR(e){const{isFromHeader:t,fromLeft:n,xPosition:s,fromEnter:i,fakeEvent:a,pinned:l,gos:u,colModel:h,colMoves:f,visibleCols:p}=e;let{allMovingColumns:m}=e;if(t){const T=[];m.forEach(G=>{var N;let O=null,z=G.getParent();for(;z!=null&&z.getDisplayedLeafColumns().length===1;)O=z,z=z.getParent();O!=null?(!!((N=O.getColGroupDef())!=null&&N.marryChildren)?O.getProvidedColumnGroup().getLeafColumns():O.getLeafColumns()).forEach(Z=>{T.includes(Z)||T.push(Z)}):T.includes(G)||T.push(G)}),m=T}const v=m.slice();VO(h.getCols(),v);const y=jO({movingCols:v,draggingRight:n,xPosition:s,pinned:l,gos:u,colModel:h,visibleCols:p}),S=WO(v,h);if(y.length===0)return;const b=y[0];let R=S!==null&&!i;if(t&&(R=S!==null),R&&!a&&(!n&&b>=S||n&&b<=S))return;const E=p.allCols,D=[];let A=null;for(let T=0;T<y.length;T++){const G=y[T],O=f.getProposedColumnOrder(v,G);if(!f.doesOrderPassRules(O))continue;const z=O.filter(V=>E.includes(V));if(A===null)A=z;else if(!Bn(z,A))break;const N=_O(O);D.push({move:G,fragCount:N})}if(D.length===0)return;D.sort((T,G)=>T.fragCount-G.fragCount);const M=D[0].move;if(!(M>h.getCols().length-m.length))return{columns:m,toIndex:M}}function pR(e){const{columns:t,toIndex:n}=gR(e)||{},{finished:s,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",s),s?null:{columns:t,toIndex:n})}function WO(e,t){const n=t.getCols(),s=SP(e.map(h=>n.indexOf(h))),i=s[0];return Oe(s)-i!==s.length-1?null:i}function _O(e){function t(s){const i=[];let a=s.getOriginalParent();for(;a!=null;)i.push(a),a=a.getOriginalParent();return i}let n=0;for(let s=0;s<e.length-1;s++){let i=t(e[s]),a=t(e[s+1]);[i,a]=i.length>a.length?[i,a]:[a,i],i.forEach(l=>{a.indexOf(l)===-1&&n++})}return n}function UO(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function jO(e){const{movingCols:t,draggingRight:n,xPosition:s,pinned:i,gos:a,colModel:l,visibleCols:u}=e;if(a.get("suppressMovableColumns")||t.some(A=>A.getColDef().suppressMovable))return[];const f=UO(u,i),p=l.getCols(),m=f.filter(A=>t.includes(A)),v=f.filter(A=>!t.includes(A)),y=p.filter(A=>!t.includes(A));let S=0,b=s;if(n){let A=0;m.forEach(M=>A+=M.getActualWidth()),b-=A}if(b>0){for(let A=0;A<v.length;A++){const M=v[A];if(b-=M.getActualWidth(),b<0)break;S++}n&&S++}let R;if(S>0){const A=v[S-1];R=y.indexOf(A)+1}else R=y.indexOf(v[0]),R===-1&&(R=0);const E=[R],D=(A,M)=>A-M;if(n){let A=R+1;const M=p.length-1;for(;A<=M;)E.push(A),A++;E.sort(D)}else{let A=R;const M=p.length-1;let T=p[A];for(;A<=M&&f.indexOf(T)<0;)A++,E.push(A),T=p[A];A=R-1;const G=0;for(;A>=G;)E.push(A),A--;E.sort(D).reverse()}return E}function Pf(e){var f;const{pinned:t,fromKeyboard:n,gos:s,ctrlsSvc:i,useHeaderRow:a,skipScrollPadding:l}=e;let u=(f=i.getHeaderRowContainerCtrl(t))==null?void 0:f.eViewport,{x:h}=e;return u?(n&&(h-=u.getBoundingClientRect().left),s.get("enableRtl")&&(a&&(u=u.querySelector(".ag-header-row")),h=u.clientWidth-h),t==null&&!l&&(h+=i.get("center").getCenterViewportScrollLeft()),h):0}function qh(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var Py=7,Lf=100,cc=Lf/2,KO=5,YO=100,qO=class extends se{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ye(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,n=(t==null?void 0:t.dragItem.columns)??[];for(const s of n){const i=s.getPinned();if(s.getColDef().lockPinned){if(i==e)return"move";continue}if(i===e||!e)return"move";if(!i&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,a=(n||[]).filter(l=>i[l.getId()]);this.setColumnsVisible(a,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,s=!1){const{gos:i,ctrlsSvc:a}=this.beans,l=i.get("suppressMoveWhenColumnDragging");if(s&&!l){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&qe(e.hDirection))return;const u=Pf({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:a});t||this.checkCenterForScrolling(u),l?this.handleColumnDragWhileSuppressingMovement(e,t,n,u,s):this.handleColumnDragWhileAllowingMovement(e,t,n,u,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const s=e.filter(i=>!i.getColDef().lockVisible);this.beans.colModel.setColsVisible(s,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,n,s,i){const a=this.getAllMovingColumns(e,!0);if(i){const l=this.isAttemptingToPin(a);l&&this.attemptToPinColumns(a,void 0,!0);const{fromLeft:u,xPosition:h}=this.getNormalisedXPositionInfo(a,l)||{};if(u==null||h==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:a,xPosition:h,fromEnter:t,fakeEvent:n,fromLeft:u})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(a,s)}}handleColumnDragWhileAllowingMovement(e,t,n,s,i){const a=this.getAllMovingColumns(e),l=this.normaliseDirection(e.hDirection)==="right",u=e.dragSource.type===1,h=this.getMoveColumnParams({allMovingColumns:a,isFromHeader:u,xPosition:s,fromLeft:l,fromEnter:t,fakeEvent:n}),f=pR({...h,finished:i});f&&(this.lastMovedInfo=f)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let s=null;t?(s=n.columnsInSplit,s||(s=n.columns)):s=n.columns;const i=a=>a.getColDef().lockPinned?a.getPinned()==this.pinned:!0;return s?s.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:s,fromLeft:i,fromEnter:a,fakeEvent:l}=e,{gos:u,colModel:h,colMoves:f,visibleCols:p}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:s,pinned:this.pinned,fromEnter:a,fakeEvent:l,gos:u,colModel:h,colMoves:f,visibleCols:p}}highlightHoveredColumn(e,t){var p;const{gos:n,colModel:s}=this.beans,i=n.get("enableRtl"),a=s.getCols().filter(m=>m.isVisible()&&m.getPinned()===this.pinned);let l=null,u=null,h=null;for(const m of a){if(u=m.getActualWidth(),l=this.getNormalisedColumnLeft(m,0,i),l!=null){const v=l+u;if(l<=t&&v>=t){h=m;break}}l=null,u=null}if(h)e.indexOf(h)!==-1&&(h=null);else{for(let m=a.length-1;m>=0;m--){const v=a[m],y=a[m].getParent();if(!y){h=v;break}const S=y==null?void 0:y.getDisplayedLeafColumns();if(S.length){h=Oe(S);break}}if(!h)return;l=this.getNormalisedColumnLeft(h,0,i),u=h.getActualWidth()}if(((p=this.lastHighlightedColumn)==null?void 0:p.column)!==h&&this.clearHighlighted(),h==null||l==null||u==null)return;let f;t-l<u/2!==i?f=0:f=1,Ly(h,f),this.lastHighlightedColumn={column:h,position:f}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:s}=this.beans,i=n.get("enableRtl"),{firstMovingCol:a,column:l,position:u}=this.getColumnMoveAndTargetInfo(e,t,i);if(!a||!l||u==null)return;const h=s.allCols,f=h.indexOf(a),p=h.indexOf(l),m=u===0!==i,v=f<p||f===p&&!m;let y=0;if(m?v&&(y-=1):v||(y+=1),p+y===f)return;const S=h[p+y];if(!S)return;const b=this.getNormalisedColumnLeft(S,20,i);return{fromLeft:v,xPosition:b}}getColumnMoveAndTargetInfo(e,t,n){const s=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:a}=$O(e);if(!i||!a||s.column||!t)return{firstMovingCol:i,...s};const u=this.getPinDirection()==="left";return{firstMovingCol:i,position:u?1:0,column:u!==n?i:a}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:s,ctrlsSvc:i}=this.beans,a=e.getLeft();if(a==null)return null;const l=e.getActualWidth();return Pf({x:n?a+l-t:a+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:s,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>Py;return t&&n||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:s,fakeEvent:i,fromLeft:a}=e,l=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:a,fromEnter:s,fakeEvent:i}),{columns:u,toIndex:h}=gR(l)||{};u&&h!=null&&(this.lastMovedInfo={columns:u,toIndex:h}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(Ly(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),s=n+t.getCenterWidth();let i,a;this.gos.get("enableRtl")?(i=e<n+cc,a=e>s-cc):(a=e<n+cc,i=e>s-cc),this.needToMoveRight=i,this.needToMoveLeft=a,a||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),YO),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var s,i;let e;this.intervalCount++,e=10+this.intervalCount*KO,e>Lf&&(e=Lf);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:a,dragAndDrop:l,gos:u}=this.beans;if(this.failedMoveAttempts<=Py+1||!a)return;if((s=l.getDragAndDropImageComponent())==null||s.setIcon("pinned",!1),!u.get("suppressMoveWhenColumnDragging")){const h=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(h,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const s=(e||[]).filter(l=>!l.getColDef().lockPinned);if(!s.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:a}=this.beans;return i==null||i.setColsPinned(s,t,"uiColumnDragged"),n&&a.nudge(),s.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function Ly(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function $O(e){const t=e.length;let n,s;for(let i=0;i<=t;i++){if(!n){const a=e[i];a.getLeft()!=null&&(n=a)}if(!s){const a=e[t-1-i];a.getLeft()!=null&&(s=a)}if(n&&s)break}return{firstMovingCol:n,lastMovingCol:s}}var XO=class extends se{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,s=>{let i;const a=s.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[a,s.left.eContainer],[s.bottomLeft.eContainer],[s.topLeft.eContainer]];break;case"right":i=[[a,s.right.eContainer],[s.bottomRight.eContainer],[s.topRight.eContainer]];break;default:i=[[a,s.center.eViewport],[s.bottomCenter.eViewport],[s.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new qO(n)),this.bodyDropPivotTarget=this.createManagedBean(new zO(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},ZO=class extends se{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const s=this.beans.colModel.getCols();if(!s)return;const i=s[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,s=!0){const{colModel:i,colAnimation:a,visibleCols:l,eventSvc:u}=this.beans,h=i.getCols();if(!h)return;if(t>h.length-e.length){me(30,{toIndex:t});return}a==null||a.start();const f=i.getColsForKeys(e);this.doesMovePassRules(f,t)&&(py(i.getCols(),f,t),l.refresh(n),u.dispatchEvent({type:"columnMoved",columns:f,column:f.length===1?f[0]:null,toIndex:t,finished:s,source:n})),a==null||a.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!CS(e,t.getColTree())||!(i=>{const a=f=>f?f==="left"||f===!0?-1:1:0,l=n.get("enableRtl");let u=l?1:-1,h=!0;return i.forEach(f=>{const p=a(f.getColDef().lockPosition);l?p>u&&(h=!1):p<u&&(h=!1),u=p}),h})(e))}getProposedColumnOrder(e,t){const s=this.beans.colModel.getCols().slice();return py(s,e,t),s}createBodyDropTarget(e,t){return new XO(e,t)}moveHeader(e,t,n,s,i){const{ctrlsSvc:a,gos:l,colModel:u,visibleCols:h,focusSvc:f}=this.beans,p=t.getBoundingClientRect(),m=p.left,v=st(n),y=v?p.width:n.getActualWidth(),S=e==="left"!==l.get("enableRtl"),b=Pf({x:S?m-20:m+y+20,pinned:s,fromKeyboard:!0,gos:l,ctrlsSvc:a}),R=f.focusedHeader;pR({allMovingColumns:v?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:b,pinned:s,fromEnter:!1,fakeEvent:!1,gos:l,colModel:u,colMoves:this,visibleCols:h,finished:!0});let E;if(v){const D=n.getDisplayedLeafColumns();E=S?D[0]:Oe(D)}else E=n;if(a.getScrollFeature().ensureColumnVisible(E,"auto"),(!i.isAlive()||l.get("ensureDomOrder"))&&R){let D;if(v){const A=n.getGroupId(),M=n.getLeafColumns();if(!M.length)return;const T=M[0].getParent();if(!T)return;D=QO(T,A)}else D=n;D&&f.focusHeaderPosition({headerPosition:{...R,column:D}})}}setDragSourceForHeader(e,t,n){const{gos:s,colModel:i,dragAndDrop:a,visibleCols:l}=this.beans;let u=!s.get("suppressDragLeaveHidesColumns");const h=st(t),f=h?t.getProvidedColumnGroup().getLeafColumns():[t],m={type:1,eElement:e,getDefaultIconName:()=>u?"hide":"notAllowed",getDragItem:h?()=>eI(t,l.allCols):()=>JO(t),dragItemName:n,onDragStarted:()=>{u=!s.get("suppressDragLeaveHidesColumns"),qh(f,!0)},onDragStopped:()=>qh(f,!1),onDragCancelled:()=>qh(f,!1),onGridEnter:v=>{if(u){const{columns:y=[],visibleState:S}=v??{},b=h?E=>!S||S[E.getColId()]:()=>!0,R=y.filter(E=>!E.getColDef().lockVisible&&b(E));i.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:v=>{var y;if(u){const S=((y=v==null?void 0:v.columns)==null?void 0:y.filter(b=>!b.getColDef().lockVisible))||[];i.setColsVisible(S,!1,"uiColumnMoved")}}};return a.addDragSource(m,!0),m}};function QO(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function JO(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function eI(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),s={};n.forEach(u=>s[u.getId()]=u.isVisible());const i=[];t.forEach(u=>{n.indexOf(u)>=0&&(i.push(u),_t(n,u))}),n.forEach(u=>i.push(u));const a=[],l=e.getLeafColumns();for(const u of i)l.indexOf(u)!==-1&&a.push(u);return{columns:i,columnsInSplit:a,visibleState:s}}var tI={moduleName:"ColumnMove",version:Ge,beans:[ZO,NO],apiFunctions:{moveColumnByIndex:HO,moveColumns:BO},dependsOn:[IO],css:[GO]},nI=class extends se{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const s=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||s.push(n),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;e.forEach(a=>this.cloneItemIntoDummy(a,t)),n.appendChild(t);const s=t.offsetWidth;n.removeChild(t);const i=this.gos.get("autoSizePadding");return s+i}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const s=n.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const s=document.createElement("div"),i=s.classList;["ag-header-cell","ag-header-group-cell"].some(u=>n.classList.contains(u))?(i.add("ag-header","ag-header-row"),s.style.position="static"):i.add("ag-row");let l=e.parentElement;for(;l;){if(["ag-header-row","ag-row"].some(h=>l.classList.contains(h))){for(let h=0;h<l.classList.length;h++){const f=l.classList[h];f!="ag-row-position-absolute"&&i.add(f)}break}l=l.parentElement}s.appendChild(n),t.appendChild(s)}},sI={moduleName:"AutoWidth",version:Ge,beans:[nI]};function iI(e,t,n=!0,s="api"){var i;(i=e.colResize)==null||i.setColumnWidths(t,!1,n,s)}var oI=class extends se{constructor(e,t,n,s){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,s=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(s),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:s,groupAfterColumns:i,groupAfterStartWidth:a,groupAfterRatios:l}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=s,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=a,this.resizeTakeFromRatios=l,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const s=this.normaliseDragChange(t),i=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){var h;const t=f=>f.reduce((p,m)=>p+m.getActualWidth(),0),n=(f,p)=>f.map(m=>m.getActualWidth()/p),s=this.getColumnsToResize(),i=t(s),a=n(s,i),l={columnsToResize:s,resizeStartWidth:i,resizeRatios:a};let u=null;if(e&&(u=((h=this.beans.colGroupSvc)==null?void 0:h.getGroupAtDirection(this.columnGroup,"After"))??null),u){const f=u.getDisplayedLeafColumns(),p=l.groupAfterColumns=f.filter(v=>v.isResizable()),m=l.groupAfterStartWidth=t(p);l.groupAfterRatios=n(p,m)}else l.groupAfterColumns=void 0,l.groupAfterStartWidth=void 0,l.groupAfterRatios=void 0;return l}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(s,e,t,n)}resizeColumns(e,t,n,s=!0){var m;const{columnsToResize:i,resizeStartWidth:a,resizeRatios:l,groupAfterColumns:u,groupAfterStartWidth:h,groupAfterRatios:f}=e,p=[];if(p.push({columns:i,ratios:l,width:t}),u){const v=t-a;p.push({columns:u,ratios:f,width:h-v})}(m=this.beans.colResize)==null||m.resizeColumnSets({resizeSets:p,finished:s,source:n}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},rI=class extends se{constructor(e,t,n,s,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=s,this.ctrl=i}postConstruct(){const e=[];let t,n;const s=()=>{if(Ze(this.eResize,t),!t)return;const{horizontalResizeSvc:l,colAutosize:u}=this.beans,h=l.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(h),n&&u&&e.push(u.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(l=>l()),e.length=0},a=()=>{const l=this.column.isResizable(),u=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(l!==t||u!==n)&&(t=l,n=u,i(),s())};a(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",a)}onResizing(e,t){const{column:n,lastResizeAmount:s,resizeStartWidth:i,beans:a}=this,l=this.normaliseResizeAmount(t),u=i+l,h=[{key:n,newWidth:u}],{pinnedCols:f,ctrlsSvc:p,colResize:m}=a;if(this.column.getPinned()){const v=(f==null?void 0:f.leftWidth)??0,y=(f==null?void 0:f.rightWidth)??0,S=Ac(p.getGridBodyCtrl().eBodyViewport)-50;if(v+y+(l-s)>S)return}this.lastResizeAmount=l,m==null||m.setColumnWidths(h,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):s&&(t*=-1),t}},aI=class extends se{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,s){const i=[],{colModel:a,gos:l,visibleCols:u}=this.beans;e.forEach(h=>{const f=a.getColDefCol(h.key)||a.getCol(h.key);if(!f)return;if(i.push({width:h.newWidth,ratios:[1],columns:[f]}),l.get("colResizeDefault")==="shift"&&(t=!t),t){const m=u.getColAfter(f);if(!m)return;const v=f.getActualWidth()-h.newWidth,y=m.getActualWidth()+v;i.push({width:y,ratios:[1],columns:[m]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:s}=e;if(!(!t||t.every(p=>lI(p)))){if(n){const p=t&&t.length>0?t[0].columns:null;Gc(this.eventSvc,p,n,s)}return}const a=[],l=[];t.forEach(p=>{const{width:m,columns:v,ratios:y}=p,S={},b={};v.forEach(D=>l.push(D));let R=!0,E=0;for(;R;){if(E++,E>1e3){Ye(31);break}R=!1;const D=[];let A=0,M=m;v.forEach((G,O)=>{if(b[G.getId()])M-=S[G.getId()];else{D.push(G);const N=y[O];A+=N}});const T=1/A;D.forEach((G,O)=>{const z=O===D.length-1;let N;z?N=M:(N=Math.round(y[O]*m*T),M-=N);const V=G.getMinWidth(),_=G.getMaxWidth();N<V?(N=V,b[G.getId()]=!0,R=!0):_>0&&N>_&&(N=_,b[G.getId()]=!0,R=!0),S[G.getId()]=N})}v.forEach(D=>{const A=S[D.getId()];D.getActualWidth()!==A&&(D.setActualWidth(A,s),a.push(D))})});const u=a.length>0;let h=[];if(u){const{colFlex:p,visibleCols:m,colViewport:v}=this.beans;h=(p==null?void 0:p.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0}))??[],m.setLeftValues(s),m.updateBodyWidths(),v.checkViewportColumns()}const f=l.concat(h);(u||n)&&Gc(this.eventSvc,f,n,s,h)}resizeHeader(e,t,n){if(!e.isResizable())return;const s=e.getActualWidth(),i=e.getMinWidth(),a=e.getMaxWidth(),l=Math.min(Math.max(s+t,i),a);this.setColumnWidths([{key:e,newWidth:l}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,s,i){return new rI(e,t,n,s,i)}createGroupResizeFeature(e,t,n,s){return new oI(e,t,n,s)}};function lI(e){const{columns:t,width:n}=e;let s=0,i=0,a=!0;t.forEach(h=>{const f=h.getMinWidth();s+=f||0;const p=h.getMaxWidth();p>0?i+=p:a=!1});const l=n>=s,u=!a||n<=i;return l&&u}var cI={moduleName:"ColumnResize",version:Ge,beans:[aI],apiFunctions:{setColumnWidths:iI},dependsOn:[kO,sI]},uI=class extends se{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},dI=class extends Dg{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,s,i){const{column:a,beans:l}=this,{context:u,colNames:h,colHover:f,colResize:p}=l;this.comp=e,i=Pa(this,u,i),this.setGui(t,i),this.displayName=h.getDisplayNameForColumnGroup(a,"header"),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:s,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,v=a.getProvidedColumnGroup().getLeafColumns();f==null||f.createHoverFeature(i,v,t),i.createManagedBean(new Eg(a,t,l)),i.createManagedBean(new uI(e,a)),p?this.resizeFeature=i.createManagedBean(p.createGroupResizeFeature(e,n,m,a)):e.setResizableDisplayed(!1),i.createManagedBean(new Wi(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,v),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,s=Oe(t)===e;if(!n&&!s)return;const i=e.getHighlighted(),a=!!this.rowCtrl.findHeaderCellCtrl(h=>h.column.isMoving());let l=!1,u=!1;if(a){const h=this.beans.gos.get("enableRtl"),f=i===1,p=i===0;n&&(h?u=f:l=p),s&&(h?l=p:u=f)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",l),this.comp.addOrRemoveCssClass("ag-header-highlight-after",u)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const s=n.getInitialValues(t);n.resizeColumns(s,s.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n}=this.beans,s=n.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:a=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),a,"gridInitializing")},setTooltip:(a,l)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(a,l)}}),i=c1(t,s);i&&this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:s})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=kS(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!0))}setupMovingCss(e){const{column:t}=this,s=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());s.forEach(a=>{e.addManagedListeners(a,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===K.ENTER){const n=this.column,s=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function hI(e,t,n){var s;(s=e.colGroupSvc)==null||s.setColumnGroupOpened(t,n,"api")}function fI(e,t,n){var s;return((s=e.colGroupSvc)==null?void 0:s.getColumnGroup(t,n))??null}function gI(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function pI(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function mI(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function CI(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function vI(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function yI(e){return e.visibleCols.treeLeft}function wI(e){return e.visibleCols.treeCenter}function bI(e){return e.visibleCols.treeRight}function SI(e){return e.visibleCols.getAllTrees()}function RI(e,t){for(let n=0;n<t.length;n++){const s=e.indexOf(t[n]);s>=0&&(e[s]=e[e.length-1],e.pop())}}var xI=class extends se{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var u;const{colModel:n,colGroupSvc:s,colViewport:i}=this.beans;t||this.buildTrees(n,s),s==null||s.updateOpenClosedVisibility();const a=$h(this.treeLeft);this.leftCols=a,this.centerCols=$h(this.treeCenter);const l=$h(this.treeRight);this.rightCols=l,this.joinColsAriaOrder(n),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(h=>h.isAutoHeight()),(u=this.beans.colFlex)==null||u.refreshFlexedColumns(),this.updateBodyWidths(),i.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(n,a,l,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=To(this.centerCols),t=To(this.leftCols),n=To(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,s){let i,a;this.gos.get("enableRtl")?(i=t?t[0]:null,a=n?Oe(n):null):(i=t?Oe(t):null,a=n?n[0]:null),e.getCols().forEach(l=>{l.setLastLeftPinned(l===i,s),l.setFirstRightPinned(l===a,s)})}buildTrees(e,t){const n=e.getColsToShow(),s=n.filter(h=>h.getPinned()=="left"),i=n.filter(h=>h.getPinned()=="right"),a=n.filter(h=>h.getPinned()!="left"&&h.getPinned()!="right"),l=new VP,u=h=>t?t.createColumnGroups(h):h.columns;this.treeLeft=u({columns:s,idCreator:l,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=u({columns:i,idCreator:l,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=u({columns:a,idCreator:l,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],s=[],i=[];for(const a of t){const l=a.getPinned();l?l===!0||l==="left"?n.push(a):i.push(a):s.push(a)}this.ariaOrderColumns=n.concat(s).concat(i)}getAriaColIndex(e){let t;return st(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{st(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const s=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(a=>{if(i){let l=To(a);a.forEach(u=>{l-=u.getActualWidth(),u.setLeft(l,e)})}else{let l=0;a.forEach(u=>{u.setLeft(l,e),l+=u.getActualWidth()})}RI(s,a)}),s.forEach(a=>{a.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,s){const i=[];let a=null;for(let l=0;l<t.length;l++){const u=t[l],h=t.length-l,f=Math.min(u.getColSpan(e),h),p=[u];if(f>1){const v=f-1;for(let y=1;y<=v;y++)p.push(t[l+y]);l+=v}let m;n?(m=!1,p.forEach(v=>{n(v)&&(m=!0)})):m=!0,m&&(i.length===0&&a&&(s&&s(u))&&i.push(a),i.push(u)),a=u}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};ki(this.treeCenter,!1,e),ki(this.treeLeft,!1,e),ki(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const s=this[t[n]];if(s.length)return e?Oe(s):s[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return To(this.leftCols)}getDisplayedColumnsRightWidth(){return To(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const s=t==="first";let i;if(st(e)){const a=e.getDisplayedLeafColumns();if(!a.length)return!1;i=s?a[0]:Oe(a)}else i=e;return(s?n[0]:Oe(n))===i}};function ki(e,t,n){if(e)for(let s=0;s<e.length;s++){const i=e[s];if(st(i)){const a=t?i.getDisplayedChildren():i.getChildren();ki(a,t,n)}n(i)}}function $h(e){const t=[];return ki(e,!0,n=>{ni(n)&&t.push(n)}),t}var EI=class extends se{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return fs(null,t,n=>{Ot(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];fs(null,t,s=>{if(Ot(s)){const i=s.getColGroupDef(),a={groupId:s.getGroupId(),open:i?i.openByDefault:void 0};n.push(a)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:s,visibleCols:i,eventSvc:a}=this.beans;if(!n.getColTree())return;s==null||s.start();const u=[];e.forEach(h=>{const f=h.groupId,p=h.open,m=this.getProvidedColGroup(f);m&&m.isExpanded()!==p&&(m.setExpanded(p),u.push(m))}),i.refresh(t,!0),u.length&&a.dispatchEvent({type:"columnGroupOpened",columnGroup:u.length===1?u[0]:void 0,columnGroups:u}),s==null||s.finish()}setColumnGroupOpened(e,t,n){let s;Ot(e)?s=e.getId():s=e||"",this.setColumnGroupState([{groupId:s,open:t}],n)}getProvidedColGroup(e){let t=null;return fs(null,this.beans.colModel.getColTree(),n=>{Ot(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),i=t==="After"?Oe(s):s[0],a=`getCol${t}`;for(;;){const l=this.beans.visibleCols[a](i);if(!l)return null;const u=this.getColGroupAtLevel(l,n);if(u!==e)return u}}getColGroupAtLevel(e,t){let n=e.getParent(),s,i;for(;s=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(s+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();ki(e,!1,t=>{st(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(st(e))return e;const n=this.beans.visibleCols.getAllTrees(),s=typeof t=="number";let i=null;return ki(n,!1,a=>{if(st(a)){const l=a;let u;s?u=e===l.getGroupId()&&t===l.getPartId():u=e===l.getGroupId(),u&&(i=l)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:s,oldDisplayedGroups:i,isStandaloneStructure:a}=e,l=this.mapOldGroupsById(i),u=[];let h=t;for(;h.length;){const f=h;h=[];let p=0;const m=v=>{const y=p;p=v;const S=f[y],R=(st(S)?S.getProvidedColumnGroup():S).getOriginalParent();if(R==null){for(let D=y;D<v;D++)u.push(f[D]);return}const E=this.createColumnGroup(R,n,l,s,a);for(let D=y;D<v;D++)E.addChild(f[D]);h.push(E)};for(let v=1;v<f.length;v++){const y=f[v],b=(st(y)?y.getProvidedColumnGroup():y).getOriginalParent(),R=f[p],D=(st(R)?R.getProvidedColumnGroup():R).getOriginalParent();b!==D&&m(v)}p<f.length&&m(f.length)}return a||this.setupParentsIntoCols(u,null),u}createProvidedColumnGroup(e,t,n,s,i,a,l){const u=i.getUniqueKey(t.groupId||null,null),h=this.createMergedColGroupDef(t,u),f=new Cc(h,u,!1,n);this.createBean(f);const p=this.findExistingGroup(t,a);p&&a.splice(p.idx,1);const m=p==null?void 0:p.group;m&&f.setExpanded(m.isExpanded());const v=DS(this.beans,h.children,n+1,e,s,i,a,l);return f.setChildren(v),f}balanceColumnTree(e,t,n,s){const i=[];for(let a=0;a<e.length;a++){const l=e[a];if(Ot(l)){const u=l,h=this.balanceColumnTree(u.getChildren(),t+1,n,s);u.setChildren(h),i.push(u)}else{let u,h;for(let f=n-1;f>=t;f--){const p=s.getUniqueKey(null,null),m=this.createMergedColGroupDef(null,p),v=new Cc(m,p,!0,t);this.createBean(v),h&&h.setChildren([v]),h=v,u||(u=h)}if(u&&h)if(i.push(u),e.some(p=>Ot(p))){h.setChildren([l]);continue}else{h.setChildren(e);break}i.push(l)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Ot(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let s=0;s<e.length;s++){const i=e[s];if(Ot(i)){const a=i,l=this.findMaxDepth(a.getChildren(),t+1);n<l&&(n=l)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(s=>{let i=s;for(let a=t-1;a>=0;a--){const l=new Cc(null,`FAKE_PATH_${s.getId()}}_${a}`,!0,a);this.createBean(l),l.setChildren([i]),i.originalParent=l,i=l}t===0&&(s.originalParent=null),n.push(i)}),n}createMergedColGroupDef(e,t){const n={},{gos:s,validation:i}=this.beans;return Object.assign(n,s.get("defaultColGroupDef")),Object.assign(n,e),i==null||i.validateColDef(n,t),n}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const i=t[s];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:s,group:i}}}createColumnGroup(e,t,n,s,i){const a=e.getGroupId(),l=t.getInstanceIdForKey(a),u=US(a,l);let h=n[u];return h&&h.getProvidedColumnGroup()!==e&&(h=null),ye(h)?h.reset():(h=new jS(e,a,l,s),i||this.createBean(h)),h}mapOldGroupsById(e){const t={},n=s=>{s.forEach(i=>{if(st(i)){const a=i;t[i.getUniqueId()]=a,n(a.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,st(n)){const s=n;this.setupParentsIntoCols(s.getChildren(),s)}})}},DI={moduleName:"ColumnGroup",version:Ge,dynamicBeans:{headerGroupCellCtrl:dI},beans:[EI],apiFunctions:{getAllDisplayedColumnGroups:SI,getCenterDisplayedColumnGroups:wI,getColumnGroup:fI,getColumnGroupState:mI,getDisplayNameForColumnGroup:pI,getLeftDisplayedColumnGroups:yI,getProvidedColumnGroup:gI,getRightDisplayedColumnGroups:bI,resetColumnGroupState:vI,setColumnGroupOpened:hI,setColumnGroupState:CI}},AI={moduleName:"CheckboxCellRenderer",version:Ge,userComponents:{agCheckboxCellRenderer:cO}},FI=class extends se{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:s}=this.beans,i=s.centerCols;let a=-1;if(e.resizingCols){const S=new Set(e.resizingCols);for(let b=i.length-1;b>=0;b--)if(S.has(i[b])){a=b;break}}let l=!1;const u=i.map((S,b)=>{const R=S.getFlex(),E=R!=null&&R>0&&b>a;return l||(l=E),{col:S,isFlex:E,flex:Math.max(0,R??0),initialSize:S.getActualWidth(),min:S.getMinWidth(),max:S.getMaxWidth(),targetSize:0}});if(!l)return[];let h=u.length,f=u.reduce((S,b)=>S+b.flex,0),p=n;const m=(S,b)=>{S.frozenSize=b,S.col.setActualWidth(b,t),p-=b,f-=S.flex,h-=1},v=S=>S.frozenSize!=null;for(const S of u)S.isFlex||m(S,S.initialSize);for(;h>0;){const S=Math.round(f<1?p*f:p);let b,R=0,E=0;for(const M of u){if(v(M))continue;b=M,E+=S*(M.flex/f);const T=E-R,G=Math.round(T);M.targetSize=G,R+=G}b&&(b.targetSize+=S-R);let D=0;for(const M of u){if(v(M))continue;const T=M.targetSize,G=Math.min(Math.max(T,M.min),M.max);D+=G-T,M.violationType=G===T?void 0:G<T?"max":"min",M.targetSize=G}const A=D===0?"all":D>0?"min":"max";for(const M of u)v(M)||(A==="all"||M.violationType===A)&&m(M,M.targetSize)}e.skipSetLeft||s.setLeftValues(t),e.updateBodyWidths&&s.updateBodyWidths();const y=u.filter(S=>S.isFlex&&!S.violationType).map(S=>S.col);if(e.fireResizedEvent){const S=u.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),b=u.filter(R=>R.flex).map(R=>R.col);Gc(this.eventSvc,S,!0,t,b)}return y}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},MI=class extends se{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(zo(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const s=l=>u=>{const{column:h,node:f,value:p}=u;let m=h.getColDef().valueFormatter;return m===l.groupSafeValueFormatter&&(m=l.valueFormatter),this.beans.valueSvc.formatValue(h,f,p,m)};Object.entries(e).forEach(([l,u])=>{const h={...u,groupSafeValueFormatter:ky(u,this.gos)};t[l]=h,n[l]=s(h)});const i=this.gos.get("dataTypeDefinitions")??{},a={};this.dataTypeMatchers=a,Object.entries(i).forEach(([l,u])=>{const h=this.processDataTypeDefinition(u,i,[l],e);h&&(t[l]=h,u.dataTypeMatcher&&(a[l]=u.dataTypeMatcher),n[l]=s(h))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(l=>{const u=a[l];u&&delete a[l],a[l]=u??e[l].dataTypeMatcher})}processDataTypeDefinition(e,t,n,s){let i;const a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let l=s[a];const u=t[a];if(l&&u&&(l=u),!Iy(e,l,a))return;i=Oy(l,e)}else{if(n.includes(a)){me(44);return}const l=t[a];if(!Iy(e,l,a))return;const u=this.processDataTypeDefinition(l,t,[...n,a],s);if(!u)return;i=Oy(u,e)}return{...i,groupSafeValueFormatter:ky(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:s}=t;const{field:i}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!s){e.cellDataType=!1;return}const a=this.dataTypeDefinitions[s];if(!a){me(47,{cellDataType:s});return}return e.cellDataType=s,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,a,n),a.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=s=>{t.add(s.key)};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!nr(n))return!1;const s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Xh(t,s))return!1;const i=t.type===null?e.type:t.type;if(i){const a=n.get("columnTypes")??{};if(Hc(i).some(u=>{const h=a[u.trim()];return h&&Xh(h,s)}))return!1}return!Xh(e,s)}inferCellDataType(e,t){if(!e)return;let n;const s=this.getInitialData();if(s){const a=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=mc(s,e,a)}else this.initWaitForRowData(t);if(n==null)return;const[i]=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(n))??["object"];return i}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:s}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:a=>{const{firstRowData:l}=a;l&&(i==null||i(),this.isPendingInference=!1,this.processColumnsPendingInference(l,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),s.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const s={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([a,l])=>{const u=this.colModel.getCol(a);if(!u)return;const h=u.getColDef();if(!this.resetColDefIntoCol(u,"cellDataTypeInferred"))return;const f=u.getColDef();if(t&&f.type&&f.type!==h.type){const p=PI(u,l);p.rowGroup&&p.rowGroupIndex==null&&(s[a]=p),p.pivot&&p.pivotIndex==null&&(i[a]=p),n.push(p)}}),t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(s,i)),n.length&&bS(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:s,pivotColsSvc:i}=this.beans;return s==null||s.restoreColumnOrder(n,e),i==null||i.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const s=Bc(this.beans,n,e.getColId());return e.setColDef(s,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var s;if(t==null)return!0;const n=(s=this.getDataTypeDefinition(e))==null?void 0:s.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>me(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,s){var a;const i=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===K.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,u)=>{const h=this.colModel.getColDefCol(s),f=h==null?void 0:h.getColDef();if(!h||!f)return 0;const p=l==null?"":i({column:h,node:null,value:l}),m=u==null?"":i({column:h,node:null,value:u});return p===m?0:p>m?1:-1},e.keyCreator=i;break}}(a=this.beans.filterManager)==null||a.setColDefPropertiesForDataType(e,n,i)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var s,i;return((i=(s=n.newValue)==null?void 0:s.trim)==null?void 0:i.call(s))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:Sf(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var s,i;return n.newValue==null?n.newValue:((i=(s=n.newValue)==null?void 0:s.trim)==null?void 0:i.call(s))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>Fy(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):Ay(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>Fy(n)??void 0,dateFormatter:n=>Ay(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>Sf(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function Oy(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...Hc(e.columnTypes),...Hc(t.columnTypes)]),n}function Iy(e,t,n){return t?t.baseDataType!==e.baseDataType?(me(46),!1):!0:(me(45,{parentCellDataType:n}),!1)}function ky(e,t){if(e.valueFormatter)return n=>{var s,i;if((s=n.node)!=null&&s.group){const a=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(a){if(a==="first"||a==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&a!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((i=e.dataTypeMatcher)!=null&&i.call(e,n.value)))return;return e.valueFormatter(n)}}function TI(e,t,n,s){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):s===void 0?!!i:i===s}function Xh(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,s])=>TI(e,t,n,s))}function PI(e,t){const n=xP(e);return t.forEach(s=>{delete n[s],s==="rowGroup"?delete n.rowGroupIndex:s==="pivot"&&delete n.pivotIndex}),n}var LI={moduleName:"DataType",version:Ge,beans:[MI],dependsOn:[AI]},OI={moduleName:"ColumnFlex",version:Ge,beans:[FI]};function II(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var kI=class extends se{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,n){const s=t==null?void 0:t.getColGroupDef();return s?this.getHeaderName(s,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,s,i){var l;const a=e.headerValueGetter;if(a){const u=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:n,providedColumnGroup:s,location:i});return typeof a=="function"?a(u):typeof a=="string"?((l=this.beans.expressionSvc)==null?void 0:l.evaluate(a,u))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return II(e.field)}return""}},GI=class extends se{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:s}=this,i=s.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,s.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const l=s.bodyWidth;this.viewportLeft=l-t-e,this.viewportRight=l-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||NI(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),s=this.viewportLeft-200,i=this.viewportRight+200,a=t<s&&n<s,l=t>i&&n>i;return!a&&!l}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=a=>{const l=a.getLeft();return ye(l)&&l>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:s}=this,i=s.centerCols;return s.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:s,treeRight:i,treeCenter:a}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(h=>e[h.getId()]=!0);const u=(h,f,p)=>{let m=!1;for(let v=0;v<h.length;v++){const y=h[v];let S=!1;if(ni(y))S=e[y.getId()]===!0;else{const R=y.getDisplayedChildren();R&&(S=u(R,f,p+1))}S&&(m=!0,f[p]||(f[p]=[]),f[p].push(y))}return m};u(s,this.rowsOfHeadersToRenderLeft,0),u(i,this.rowsOfHeadersToRenderRight,0),u(a,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function NI(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var HI=class extends se{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const a=t(i),l=typeof a;if(l==="string"||l==="number"||l==="boolean"){this.eGui=jo("<span>"+a+"</span>");return}if(a==null){this.eGui=jo("<span></span>");return}this.eGui=a}}return n}},BI={moduleName:"CellRendererFunction",version:Ge,beans:[HI]},zI=class extends se{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");e!=null&&Object.entries(e).forEach(([t,n])=>{this.jsComps[t]=n})}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:s,selectors:i}=e;if(n){const a=(l,u,h)=>{this.agGridDefaults[l]=u,h&&(this.agGridDefaultParams[l]=h)};for(const l of Object.keys(n)){const u=n[l];typeof u=="object"?a(l,u.classImp,u.params):a(l,u)}}if(s)for(const a of Object.keys(s))this.dynamicBeans[a]=s[a];if(i==null||i.forEach(a=>{this.selectors[a.selector]=a}),t)for(const a of Object.keys(t))this.icons[a]=t[a]}getUserComponent(e,t){var u;const n=(h,f,p)=>({componentFromFramework:f,component:h,params:p}),{frameworkOverrides:s}=this.beans,i=s.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const a=this.jsComps[t];if(a){const h=s.isFrameworkComponent(a);return n(a,h)}const l=this.agGridDefaults[t];return l?n(l,!1,this.agGridDefaultParams[t]):((u=this.beans.validation)==null||u.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const s=this.dynamicBeans[e];if(s==null){if(t)throw new Error(tS(256));return}return new s(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},VI=23,WI=class extends se{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===VI&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},_I=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px))}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}:where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;outline:solid 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}:where(.ag-ltr) :where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}:where(.ag-rtl) :where(.ag-resizer){&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}',ow,rw,Ag=typeof window!="object"||!((rw=(ow=window==null?void 0:window.document)==null?void 0:ow.fonts)!=null&&rw.forEach),Of=new WeakMap,$o=(e,t,n)=>{if(Ag)return;const s=t.getRootNode()===document?document.head:t;let i=Of.get(s);if(i||(i={css:new Set},Of.set(s,i)),i.css.has(e))return;const a=document.createElement("style");a.dataset.agGlobalCss=n,a.textContent=e,i.last?i.last.insertAdjacentElement("afterend",a):s.insertBefore(a,s.querySelector(":not(title, meta)")),i.css.add(e),i.last=a},mR=e=>{$o(_I,e,"core"),Array.from(D1()).sort((t,n)=>t.moduleName.localeCompare(n.moduleName)).forEach(t=>{var n;return(n=t.css)==null?void 0:n.forEach(s=>$o(s,e,`module-${t.moduleName}`))})},If=new Set,UI=e=>{If.add(e)},jI=e=>{if(If.delete(e),If.size===0){Of=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},It=e=>new CR(e),$s="$default",KI=0,CR=class{constructor({feature:e,params:t,modeParams:n={},css:s,cssImports:i}){this.feature=e,this.css=s,this.cssImports=i,this.modeParams={[$s]:{...n[$s]??{},...t??{}},...n}}use(e){let t=this._inject;if(t==null){let{css:n}=this;if(n){const s=`ag-theme-${this.feature??"part"}-${++KI}`;typeof n=="function"&&(n=n()),n=`:where(.${s}) {
${n}
}
`;for(const i of this.cssImports??[])n=`@import url(${JSON.stringify(i)});
${n}`;t={css:n,class:s}}else t=!1;this._inject=t}return t&&e&&$o(t.css,e,t.class),t?t.class:!1}},YI=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),vR=e=>`--ag-${YI(e)}`,ws=e=>`var(${vR(e)})`,qI=(e,t,n)=>Math.max(t,Math.min(n,e)),$I=e=>{const t=new Map;return n=>{const s=n;return t.has(s)||t.set(s,e(n)),t.get(s)}},Xs=e=>({ref:"accentColor",mix:e}),zt=e=>({ref:"foregroundColor",mix:e}),pn=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),XI={ref:"foregroundColor"},ms={ref:"accentColor"},Xo={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:zt(.15),chromeBackgroundColor:pn(.02),browserColorScheme:"light"},ZI={...Xo,textColor:XI,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:{ref:"backgroundColor"},sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:ms,rangeSelectionBackgroundColor:Xs(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Xs(.5),rowHoverColor:Xs(.08),columnHoverColor:Xs(.05),selectedRowBackgroundColor:Xs(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:zt(.7),focusShadow:{spread:3,color:Xs(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:ms,toggleButtonOffBackgroundColor:pn(.3),toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},toggleButtonSwitchInset:2,menuBorder:{color:zt(.2)},menuBackgroundColor:pn(.03),menuTextColor:pn(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:zt(.8),iconButtonHoverColor:zt(.1),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:ms},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:zt(.2)},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:zt(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:zt(.13)},selectCellBackgroundColor:zt(.07),selectCellBorder:{color:zt(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:zt(.1),rowLoadingSkeletonEffectColor:zt(.15)},QI=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],JI=$I(e=>(e=e.toLowerCase(),QI.find(t=>e.endsWith(t.toLowerCase()))??"length")),cu=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,Fg=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=ws(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?ws(e.onto):"transparent"}, ${t} ${qI(e.mix*100,0,100)}%)`}return!1},ek=cu,Io=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${ws(n)} `)})`:e&&"ref"in e?ws(e.ref):!1,tk=cu,nk=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?ws(e.ref):yR(e.style??"solid")+" "+Io(e.width??1)+" "+Fg(e.color??{ref:"borderColor"}),sk=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?ws(e.ref):[Io(e.offsetX??0),Io(e.offsetY??0),Io(e.radius??0),Io(e.spread??0),Fg(e.color??{ref:"foregroundColor"})].join(" "),yR=cu,wR=e=>typeof e=="string"?e:e&&"googleFont"in e?wR(e.googleFont):e&&"ref"in e?ws(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),ik(t))).join(", "):!1,ik=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),ok=cu,bR=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?bR({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?ws(e.ref):!1,rk=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Ye(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?ws(e.ref):!1,ak={color:Fg,colorScheme:ek,length:Io,scale:tk,border:nk,borderStyle:yR,shadow:sk,image:bR,fontFamily:wR,fontWeight:ok,duration:rk},lk=(e,t)=>{const n=JI(e);return ak[n](t,e)},ck=()=>new SR,SR=class RR{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof CR?new RR([...this.parts,t]):(xf(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(It({feature:t}))}withParams(t,n=$s){return this.withPart(It({modeParams:{[n]:t}}))}_startUse({container:t,loadThemeGoogleFonts:n}){if(Ag)return;dk(),mR(t);const s=uk(this);if(s.length>0)for(const i of s)n&&fk(i);for(const i of this.parts)i.use(t)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=Gy(this.parts).map(t=>t.use()).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[$s]:{...ZI}};for(const s of Gy(this.parts))for(const[i,a]of Object.entries(s.modeParams))if(a){const l=n[i]??(n[i]={}),u=new Set;for(const[h,f]of Object.entries(a))f!==void 0&&(l[h]=f,u.add(h));if(i===$s){for(const[h,f]of Object.entries(n))if(h!==$s)for(const p of u)delete f[p]}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let s=this._paramsCssCache;if(!s){let i="",a="";for(const[u,h]of Object.entries(this._getModeParams())){if(u!==$s){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(u):u}"]) & {
`;i+=p,a+=p}for(const[f,p]of Object.entries(h)){const m=lk(f,p);if(m===!1)Ye(107,{key:f,value:p});else{const v=vR(f),y=v.replace("--ag-","--ag-inherited-");i+=`	${v}: var(${y}, ${m});
`,a+=`	${y}: var(${v});
`}}u!==$s&&(i+=`}
`,a+=`}
`)}let l=`${n} {
${i}}
`;l+=`:has(> ${n}):not(${n}) {
${a}}
`,this._paramsCssCache=s=l}return s.replaceAll(n,`:where(.${t})`)}},Gy=e=>{const t=new Map;for(const s of e)t.set(s.feature,s);const n=[];for(const s of e)(!s.feature||t.get(s.feature)===s)&&n.push(s);return n},uk=e=>{const t=new Set,n=a=>{if(Array.isArray(a))a.forEach(n);else{const l=a==null?void 0:a.googleFont;typeof l=="string"&&t.add(l)}};return Object.values(e._getModeParams()).flatMap(a=>Object.values(a)).forEach(n),Array.from(t).sort()},Ny=!1,dk=()=>{if(!Ny){Ny=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},hk=new Set,fk=async e=>{hk.add(e);const t=`@import url('https://${gk}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;$o(t,document.head,`googleFont:${e}`)},gk="fonts.googleapis.com",pk='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',mk=It({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:pn(.3),checkboxCheckedBackgroundColor:ms,checkboxCheckedBorderColor:ms,checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:pn(.3),checkboxIndeterminateBorderColor:pn(.3),checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:pk});({...Xo});({...Xo});var xR={...Xo,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:pn(.05),rowHoverColor:Xs(.15),selectedRowBackgroundColor:Xs(.2),menuBackgroundColor:pn(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:pn(.4),toggleButtonOffBackgroundColor:pn(.4)},Ck={...xR,backgroundColor:"#1f2836"},vk=It({feature:"colorScheme",params:Xo,modeParams:{light:Xo,dark:xR,"dark-blue":Ck}}),yk=':where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}',ER={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},DR={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},wk=(e={})=>{let t=yk;for(const n of[...Object.keys(ER),...Object.keys(DR)]){const s=bk(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(s)}'); }
`}return t},bk=(e,t=1.5)=>{const n=DR[e];if(n)return n;const s=ER[e];if(!s)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+s+"</svg>"},Sk=(e={})=>It({feature:"iconSet",css:()=>wk(e)}),Rk=Sk(),Mg=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',xk=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",Ek=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){border-left:none;border-right:none;border-top:none}",Tg={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"}};It({feature:"inputStyle",params:Tg,css:Mg});var Dk=It({feature:"inputStyle",params:{...Tg,inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:ms},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:pn(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}},css:()=>Mg+xk});({...Tg,inputBorder:zt(.3)});var Oa='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',Ak=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:0;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",Ia={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};It({feature:"tabStyle",params:Ia,css:Oa});var Fk=It({feature:"tabStyle",params:{...Ia,tabBarBorder:!0,tabBarBackgroundColor:zt(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}},css:Oa});({...Ia});({...Ia});({...Ia});var Mk=ck().withPart(mk).withPart(vk).withPart(Rk).withPart(Fk).withPart(()=>Dk).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Hy={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},By={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},zy={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Zh={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Tk=0,Pk=class extends se{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++Tk}`,this.globalCSS=[]}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(Hy),this.getSizeEl(By),this.getSizeEl(zy),this.getSizeEl(Zh),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>jI(this))}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Hy)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(By)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(zy)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Zh)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{let s=this.eGridDiv;for(;s;){for(const i of Array.from(s.classList))i.startsWith("ag-theme-")&&(n=n?`${n} ${i}`:i);s=s.parentElement}}for(const s of Array.from(e.classList))s.startsWith("ag-theme-")&&e.classList.remove(s);if(n){const s=e.className;e.className=s+(s?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const s=`${n}px`;return t!=s?(e.style.setProperty("--ag-line-height",s),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?$o(e,this.eGridDiv,t):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===Qh?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=document.createElement("div");const{border:s}=e;s?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${Qh}px`)):t.style.width=`var(${e.cssName}, ${Qh}px)`,n.appendChild(t),this.sizeEls.set(e,t);let i=this.measureSizeEl(e);i==="no-styles"&&me(9,{variable:e});const a=bs(this.beans,t,()=>{const l=this.measureSizeEl(e);l==="detached"||l==="no-styles"||(this.lastKnownValues.set(e,l),l!==i&&(i=l,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>a()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(Zh);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:s}=this,i=e.get("theme");let a;if(i==="legacy")a=void 0;else{const l=i??Mk;l instanceof SR?a=l:Ye(240,{theme:l})}if(a!==s){if(a){UI(this),mR(t);for(const[u,h]of n)$o(u,t,h);n.length=0}this.gridTheme=a,a==null||a._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:t});let l=this.eParamsStyle;l||(l=this.eParamsStyle=document.createElement("style"),t.appendChild(l)),Ag||(l.textContent=(a==null?void 0:a._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}a&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ye(i?106:239)}},Qh=15538,Lk=class extends se{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new er}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}};function AR(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function kf(e,t){let n;if(st(e)&&AR(e)&&e.isPadding()){const s=e;n=s.getLeafColumns()[0];let i=n;for(;i!==s;)t++,i=i.getParent()}return{column:n||e,headerRowIndex:t}}var Ok=class extends se{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Ct(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:s,colGroupSvc:i,ctrlsSvc:a}=this.beans;if(typeof e=="string"?(n=s.getCol(e),n||(n=(i==null?void 0:i.getColumnGroup(e))??null)):n=e,!n)return null;const l=a.getHeaderRowContainerCtrl(),u=l==null?void 0:l.getAllCtrls(),h=Oe(u||[]).type==="filter",f=hs(this.beans)-1;let p=-1,m=n;for(;m;)p++,m=m.getParent();let v=p;return t&&h&&v===f-1&&v++,v===-1?null:{headerRowIndex:v,column:n}}navigateVertically(e,t,n){const s=this.beans.focusSvc;if(t||(t=s.focusedHeader),!t)return!1;const{headerRowIndex:i}=t,a=t.column,l=hs(this.beans),u=e==="UP",h=this.getHeaderRowType(i);let{headerRowIndex:f,column:p,headerRowIndexWithoutSpan:m}=u?Ik(h,a,i):kk(h,a,i),v=!1;return f<0&&(f=0,p=a,v=!0),f>=l?(f=-1,this.currentHeaderRowWithoutSpan=-1):m!==void 0&&(this.currentHeaderRowWithoutSpan=m),!v&&!p?!1:s.focusHeaderPosition({headerPosition:{headerRowIndex:f,column:p},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:s,gos:i}=this.beans,a=s.focusedHeader;let l,u;if(this.currentHeaderRowWithoutSpan!==-1?a.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=a.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(u="Before",l=this.findHeader(a,u)):(u="After",l=this.findHeader(a,u)),l||!t)return s.focusHeaderPosition({headerPosition:l,direction:u,fromTab:t,allowUserOverride:!0,event:n});if(t){const h=i.getCallback("tabToNextHeader");if(h)return s.focusHeaderPositionFromUserFunc({userFunc:h,headerPosition:l,direction:u})}return this.focusNextHeaderRow(a,u,n)}focusNextHeaderRow(e,t,n){const s=e.headerRowIndex;let i=null,a;const l=this.beans;if(t==="Before"?s>0&&(a=s-1,this.currentHeaderRowWithoutSpan-=1,i=this.findColAtEdgeForHeaderRow(a,"end")):(a=s+1,this.currentHeaderRowWithoutSpan<hs(l)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,i=this.findColAtEdgeForHeaderRow(a,"start")),!i)return!1;const{column:u,headerRowIndex:h}=kf(i.column,i==null?void 0:i.headerRowIndex);return l.focusSvc.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:h},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(st(e)){const s=e.getDisplayedLeafColumns();n=t==="Before"?Oe(s):s[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,s;const{colGroupSvc:i,visibleCols:a}=this.beans;if(st(e.column)?n=(i==null?void 0:i.getGroupAtDirection(e.column,t))??void 0:(s=`getCol${t}`,n=a[s](e.column)),!n)return;const{headerRowIndex:l}=e;if(this.getHeaderRowType(l)!=="filter"){const f=[n];for(;n.getParent();)n=n.getParent(),f.push(n);n=f[Math.max(0,f.length-1-l)]}const{column:u,headerRowIndex:h}=kf(n,l);return{column:u,headerRowIndex:h}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:s,colGroupSvc:i}=this.beans,a=n.allCols,l=a[t==="start"?0:a.length-1];if(!l)return;const u=s.getHeaderRowContainerCtrl(l.getPinned()),h=u==null?void 0:u.getRowType(e);if(h=="group"){const f=i==null?void 0:i.getColGroupAtLevel(l,e);return{headerRowIndex:e,column:f}}return{headerRowIndex:h==null?-1:e,column:l}}};function Ik(e,t,n){const s=e==="filter",i=e==="column";let a=s?t:t.getParent(),l=n-1,u=l;if(i&&AR(t.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;u=l,l<0&&(a=t,l=n,u=void 0)}return{column:a,headerRowIndex:l,headerRowIndexWithoutSpan:u}}function kk(e,t,n,s="After"){let i=t,a=n+1;const l=a;if(e==="group"){const u=t.getDisplayedLeafColumns(),h=s==="After"?u[0]:Oe(u),f=[];let p=h;for(;p.getParent()!==t;)p=p.getParent(),f.push(p);if(i=h,h.isSpanHeaderHeight())for(let m=f.length-1;m>=0;m--){const v=f[m];if(!v.isPadding()){i=v;break}a++}else i=Oe(f),i||(i=h)}return{column:i,headerRowIndex:a,headerRowIndexWithoutSpan:l}}var Gk=class extends se{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(N1(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(vt(this.beans),Da)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(vt(this.beans),iR)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(kc(this.gos,n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:yy(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:s}=e,i={rowIndex:t,rowPinned:n,column:s,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return a&&(i.isFullWidthCell=a.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:s,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:a=!1}=e,l=this.colModel.getCol(t);if(!l){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Qs(s),column:l},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:i,preventScrollOnBrowserFocus:a})}isCellFocused(e){return this.focusedCell==null?!1:yy(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:s}}=e,{column:i,headerRowIndex:a}=this.focusedHeader;return t===i&&n===a&&s==i.getPinned()}focusHeaderPosition(e){var h;if(Vo(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:s,event:i,fromCell:a,rowWithoutSpanValue:l}=e;let{headerPosition:u}=e;if(a&&((h=this.filterManager)!=null&&h.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(u);if(s){const f=this.focusedHeader,p=hs(this.beans);if(n){const m=this.gos.getCallback("tabToNextHeader");m&&(u=this.getHeaderPositionFromUserFunc({userFunc:m,direction:t,currentPosition:f,headerPosition:u,headerRowCount:p}))}else{const m=this.gos.getCallback("navigateToNextHeader");if(m&&i){const v={key:i.key,previousHeaderPosition:f,nextHeaderPosition:u,headerRowCount:p,event:i};u=m(v)}}}return u?this.focusProvidedHeaderPosition({headerPosition:u,direction:t,event:i,fromCell:a,rowWithoutSpanValue:l}):!1}focusHeaderPositionFromUserFunc(e){if(Vo(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:s,event:i}=e,a=this.focusedHeader,l=hs(this.beans),u=this.getHeaderPositionFromUserFunc({userFunc:t,direction:s,currentPosition:a,headerPosition:n,headerRowCount:l});return!!u&&this.focusProvidedHeaderPosition({headerPosition:u,direction:s,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:s,headerPosition:i,headerRowCount:a}=e,u=t({backwards:n==="Before",previousHeaderPosition:s,nextHeaderPosition:i,headerRowCount:a});return u===!0?s:u===!1?null:u}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:s,rowWithoutSpanValue:i,event:a}=e,{column:l,headerRowIndex:u}=t,{filterManager:h,ctrlsSvc:f,headerNavigation:p}=this.beans;if(u===-1)return h!=null&&h.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(l);p==null||p.scrollToColumn(l,n);const m=f.getHeaderRowContainerCtrl(l.getPinned()),v=(m==null?void 0:m.focusHeader(t.headerRowIndex,l,a))||!1;return p&&v&&(i!=null||s)&&(p.currentHeaderRowWithoutSpan=i??-1),v}focusFirstHeader(){var s;if((s=this.overlays)!=null&&s.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=kf(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var s;if((s=this.overlays)!=null&&s.isExclusive()&&this.focusOverlay(!0))return!0;const t=hs(this.beans)-1,n=Oe(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Qs(t)}focusOverlay(e){var n,s;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((s=this.overlays.eWrapper)==null?void 0:s.getGui());return!!t&&Bi(t,e)}focusGridView(e,t=!1,n=!0){var i,a,l,u,h;if((i=this.overlays)!=null&&i.isExclusive())return n&&this.focusOverlay(t);if(BS(this.beans))return t&&!Vo(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:Ea(this.beans,!1);const s=t?iL(this.beans):sL(this.beans);if(s){const{rowIndex:f,rowPinned:p}=s;if(e??(e=(a=this.focusedHeader)==null?void 0:a.column),e&&f!==void 0&&f!==null){if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:f,column:e,rowPinned:p}),t){const m=this.rowRenderer.getRowByPosition(s);if(m!=null&&m.isFullWidth()&&((u=this.navigation)!=null&&u.tryToFocusFullWidthRow(s,t)))return!0}return this.setFocusedCell({rowIndex:f,column:e,rowPinned:Qs(p),forceBrowserFocus:!0}),(h=this.beans.rangeSvc)==null||h.setRangeToCell({rowIndex:f,rowPinned:p,column:e}),!0}}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var s;const n=(t?void 0:this.advFilterFocusColumn)??((s=this.visibleCols.allCols)==null?void 0:s[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:hs(this.beans)-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Nk=class extends se{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:kT();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Hk=class extends se{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var s;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(s=t.get("gridCtrl"))==null||s.destroyGridUi(),n.destroy(),super.destroy()}},Bk=new Set(["gridPreDestroyed","fillStart","pasteStart"]),zk={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},Vk=0,Wk=0,_k=class extends se{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=Wk++,this.propEventSvc=new er,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const s=Bk.has(t);if(s&&!e||!s&&e)return;const i=lP(t),a=this.gridOptions[i];typeof a=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{a(n)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??zk[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ye(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const s={id:Vk++,properties:[]},i=[],{gridOptions:a,validation:l}=this;Object.entries(e).forEach(([u,h])=>{l==null||l.warnOnInitialPropertyUpdate(n,u);const f=t||typeof h=="object"&&n==="api",p=a[u];if(f||p!==h){a[u]=h;const m={type:u,currentValue:h,previousValue:p,changeSet:s,source:n};i.push(m)}}),l==null||l.processGridOptions(this.gridOptions),s.properties=i.map(u=>u.type),i.forEach(u=>{Oc(this,`Updated property ${u.type} from`,u.previousValue," to ",u.currentValue),this.propEventSvc.dispatchEvent(u)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(s=>this.isModuleRegistered(s)):this.isModuleRegistered(e);return n||Ye(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:IS(),rowModelType:this.get("rowModelType")}}isModuleRegistered(e){return OS(e,this.gridId,this.get("rowModelType"))}};function Uk(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var jk=class extends Je{constructor(){super(...arguments),this.eFilter=xe,this.eFilterButton=xe,this.eSortIndicator=xe,this.eMenu=xe,this.eLabel=xe,this.eText=xe,this.eSortOrder=xe,this.eSortAsc=xe,this.eSortDesc=xe,this.eSortMixed=xe,this.eSortNone=xe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,n=e.template??Uk(!!t.sortSvc);return n!=null&&n.trim?n.trim():n}init(e){this.params=e;const{sortSvc:t,touchSvc:n,userCompFactory:s}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=l1(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderComponent=s,this.eText.appendChild(s.getGui())):this.destroyBean(s))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;if(this.currentDisplayName=t,n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const s=ps(t,!0);this.eText.textContent=s}addInIcon(e,t,n){if(t==null)return;const s=Cn(e,this.beans,n);s&&t.appendChild(s)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Hi(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,s=en(e);this.addInIcon(s?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!s);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>n.showColumnMenu(t)}),t.classList.toggle("ag-header-menu-always-show",i)}onMenuKeyboardShortcut(e){var h;const{params:t,gos:n,beans:s,eMenu:i,eFilterButton:a}=this,l=t.column,u=en(n);if(e&&!u){if((h=s.menuSvc)!=null&&h.isFilterMenuInHeaderEnabled(l))return t.showFilter(a??i??this.getGui()),!0}else if(t.enableMenu)return t.showColumnMenu(i??a??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:s,eSortOrder:i,eSortAsc:a,eSortDesc:l,eSortMixed:u,eSortNone:h}=this;s.attachCustomElements(i,a,l,u,h)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,s){if(!e)return Hi(t),!1;const i=this.params.column;return this.addInIcon(s,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Ze(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},Kk=class extends Je{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=xe,this.agClosed=xe,this.agLabel=xe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&me(89)}workOutInnerHeaderGroupComponent(e,t){const n=u1(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderGroupComponent=s,this.agLabel.appendChild(s.getGui())):this.destroyBean(s))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:s}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=h=>{if(En(h))return;const f=!n.isExpanded();s.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),f,"uiColumnExpanded")};this.addTouchAndClickListeners(s,t,i),this.addTouchAndClickListeners(s,e,i);const a=h=>{Yo(h)};this.addManagedElementListeners(t,{dblclick:a}),this.addManagedElementListeners(e,{dblclick:a}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const l=n.getProvidedColumnGroup(),u=this.updateIconVisibility.bind(this);this.addManagedListeners(l,{expandedChanged:u,expandableChanged:u})}addTouchAndClickListeners(e,t,n){var s;(s=e.touchSvc)==null||s.setupForHeaderGroup(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const s=n.isExpanded();Ze(e,s),Ze(t,!s)}else Ze(e,!1),Ze(t,!1)}addInIcon(e,t){const n=Cn(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ze(t,!1),Ze(n,!1);return}}setupLabel(e){var i;const{displayName:t,columnGroup:n}=e,s=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(ye(t)&&!s){const a=ps(t,!0);this.agLabel.textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!((i=n.getColGroupDef())!=null&&i.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Yk={moduleName:"ColumnHeaderComp",version:Ge,userComponents:{agColumnHeader:jk},icons:{menu:"menu",menuAlt:"menu-alt"}},qk={moduleName:"ColumnGroupHeaderComp",version:Ge,userComponents:{agColumnGroupHeader:Kk},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},$k={moduleName:"AnimationFrame",version:Ge,beans:[I1]},Xk=class extends se{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!No())return;const t=(n,s,i)=>{var u;const{rowCtrl:a,cellCtrl:l}=e.getControlsForEventTarget((i==null?void 0:i.target)??null);l!=null&&l.column&&l.dispatchCellContextMenuEvent(i??null),(u=this.beans.contextMenuSvc)==null||u.handleContextMenuMouseEvent(void 0,i,a,l)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!No()||hS("dblclick"))return!1;const s=new Date().getTime(),i=s-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=s,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:s,eMenu:i,eFilterButton:a}=e,l=new Po(e.getGui(),!0),u=e.shouldSuppressMenuHide(),h=u&&ye(i),f=h?new Po(i,!0):l;if(s.enableMenu){const p=h?"tap":"longTap",m=v=>s.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(f,{[p]:m})}if(s.enableSorting){const p=m=>{const v=m.touchStart.target;u&&(i!=null&&i.contains(v)||a!=null&&a.contains(v))||n==null||n.progressSort(s.column,!1,"uiColumnSorted")};e.addManagedListeners(l,{tap:p})}if(s.enableFilterButton&&a){const p=new Po(a,!0);e.addManagedListeners(p,{tap:()=>s.showFilter(a)}),e.addDestroyFunc(()=>p.destroy())}e.addDestroyFunc(()=>l.destroy()),h&&e.addDestroyFunc(()=>f.destroy())}setupForHeaderGroup(e,t,n){const s=new Po(t,!0);e.addManagedListeners(s,{tap:n}),e.addDestroyFunc(()=>s.destroy())}mockContextMenu(e,t,n){if(!No())return;const s=new Po(t),i=a=>{n(void 0,a.touchStart,a.touchEvent)};e.addManagedListeners(s,{longTap:i}),e.addDestroyFunc(()=>s.destroy())}},Zk={moduleName:"Touch",version:Ge,beans:[Xk]},Qk=class extends se{constructor(){super(...arguments),this.beanName="cellNavigation"}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===K.UP,s=e===K.DOWN,i=e===K.LEFT;let a,l;const{pageBounds:u,gos:h,visibleCols:f}=this.beans;if(n||s)l=n?u.getFirstRow():u.getLastRow(),a=t.column;else{const p=f.allCols,m=h.get("enableRtl");l=t.rowIndex,a=i!==m?p[0]:Oe(p)}return{rowIndex:l,rowPinned:null,column:a}}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,s=!1;for(;!s;){switch(e){case K.UP:n=this.getCellAbove(n);break;case K.DOWN:n=this.getCellBelow(n);break;case K.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case K.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,me(8,{key:e});break}n?s=this.isCellGoodToFocusOn(n):s=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:s,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=s==null?void 0:s.getPinnedTopRow(e.rowIndex);break;case"bottom":n=s==null?void 0:s.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;let s=!1;const{pageBounds:i,pinnedRowModel:a,rowModel:l}=this.beans;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return l.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:a!=null&&a.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return a!=null&&a.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(s=!0);const u=l.getRow(e.rowIndex),h=s?void 0:this.getNextStickyPosition(u);return h||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){const{gos:n,rowRenderer:s}=this.beans;if(!ou(n)||!e||!e.sticky)return;const i=s.getStickyTopRowCtrls().some(f=>f.rowNode.rowIndex===e.rowIndex);let a=[];i?a=[...s.getStickyTopRowCtrls()].sort((f,p)=>f.rowNode.rowIndex-p.rowNode.rowIndex):a=[...s.getStickyBottomRowCtrls()].sort((f,p)=>p.rowNode.rowIndex-f.rowNode.rowIndex);const l=t?-1:1,u=a.findIndex(f=>f.rowNode.rowIndex===e.rowIndex),h=a[u+l];if(h)return{rowIndex:h.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex,{pinnedRowModel:s,pageBounds:i}=this.beans;return t==="top"?((s==null?void 0:s.getPinnedTopRowCount())??-1)<=n:t==="bottom"?((s==null?void 0:s.getPinnedBottomRowCount())??-1)<=n:i.getLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned,{pageBounds:s,pinnedRowModel:i,rowModel:a}=this.beans,l=n?t===0:t===s.getFirstRow();let u=!1;const h=()=>({rowIndex:(i==null?void 0:i.getPinnedTopRowCount())??-1,rowPinned:"top"});if(l)return n==="top"?null:n&&a.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:i!=null&&i.isRowsToRender("top")?h():null;n&&(u=!0);const f=a.getRow(e.rowIndex),p=u?void 0:this.getNextStickyPosition(f,!0);return p||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,s=t.allCols;let i=e.rowIndex,a=e.rowPinned,l=t.getColAfter(e.column);if(!l){l=s[0];const u=this.getRowBelow(e);if(qe(u)||!u.rowPinned&&!((n==null?void 0:n.isRowInPage(u))??!0))return null;i=u?u.rowIndex:null,a=u?u.rowPinned:null}return{rowIndex:i,column:l,rowPinned:a}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:n}=this.beans,s=t.allCols;let i=e.rowIndex,a=e.rowPinned,l=t.getColBefore(e.column);if(!l){l=Oe(s);const u=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(qe(u)||!u.rowPinned&&!((n==null?void 0:n.isRowInPage(u))??!0))return null;i=u?u.rowIndex:null,a=u?u.rowPinned:null}return{rowIndex:i,column:l,rowPinned:a}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const s=e.createColumnFunctionCallbackParams(t);return n(s)}return!1}};function Jk(e){return e.focusSvc.getFocusedCell()}function eG(e){return e.focusSvc.clearFocusedCell()}function tG(e,t,n,s){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:s,forceBrowserFocus:!0})}function nG(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function sG(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function iG(e,t,n=!1){var i;const s=(i=e.headerNavigation)==null?void 0:i.getHeaderPositionForColumn(t,n);s&&e.focusSvc.focusHeaderPosition({headerPosition:s})}var oG=class extends se{constructor(){super(),this.beanName="navigation",this.onPageDown=dy(this.onPageDown,100),this.onPageUp=dy(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,s=e.altKey,i=e.ctrlKey||e.metaKey,a=!!this.beans.rangeSvc&&e.shiftKey,l=eL(this.gos,e);let u=!1;switch(n){case K.PAGE_HOME:case K.PAGE_END:!i&&!s&&(this.onHomeOrEndKey(n),u=!0);break;case K.LEFT:case K.RIGHT:case K.UP:case K.DOWN:if(!l)return!1;i&&!s&&!a&&(this.onCtrlUpDownLeftRight(n,l),u=!0);break;case K.PAGE_DOWN:case K.PAGE_UP:!i&&!s&&(u=this.handlePageUpDown(n,l,t));break}return u&&e.preventDefault(),u}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===K.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:s,focusIndex:i,focusColumn:a}=e,{scrollFeature:l}=this.gridBodyCon;ye(s)&&!s.isPinned()&&l.ensureColumnVisible(s),ye(t)&&l.ensureIndexVisible(t,n),e.isAsync||l.ensureIndexVisible(i);const{focusSvc:u,rangeSvc:h}=this.beans;u.setFocusedCell({rowIndex:i,column:a,rowPinned:null,forceBrowserFocus:!0}),h==null||h.setRangeToCell({rowIndex:i,rowPinned:null,column:a})}onPageDown(e){const t=this.beans,n=Jh(t),s=this.getViewportHeight(),{pageBounds:i,rowModel:a,rowAutoHeight:l}=t,u=i.getPixelOffset(),h=n.top+s,f=a.getRowIndexAtPixel(h+u);l!=null&&l.active?this.navigateToNextPageWithAutoHeight(e,f):this.navigateToNextPage(e,f)}onPageUp(e){const t=this.beans,n=Jh(t),{pageBounds:s,rowModel:i,rowAutoHeight:a}=t,l=s.getPixelOffset(),u=n.top,h=i.getRowIndexAtPixel(u+l);a!=null&&a.active?this.navigateToNextPageWithAutoHeight(e,h,!0):this.navigateToNextPage(e,h,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:s,rowModel:i}=this.beans,a=this.getViewportHeight(),l=s.getFirstRow(),u=s.getLastRow(),h=s.getPixelOffset(),f=i.getRow(e.rowIndex),p=n?(f==null?void 0:f.rowHeight)-a-h:a-h,m=(f==null?void 0:f.rowTop)+p;let v=i.getRowIndexAtPixel(m+h);if(v===e.rowIndex){const S=n?-1:1;t=v=e.rowIndex+S}let y;n?(y="bottom",v<l&&(v=l),t<l&&(t=l)):(y="top",v>u&&(v=u),t>u&&(t=u)),this.isRowTallerThanView(i.getRow(v))&&(t=v,y="top"),this.navigateTo({scrollIndex:t,scrollType:y,scrollColumn:null,focusIndex:v,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,s=this.getViewportHeight(),{pageBounds:i,rowModel:a}=this.beans,l=i.getLastRow();let u=0,h=e.rowIndex;for(;h>=0&&h<=l;){const f=a.getRow(h);if(f){const p=f.rowHeight??0;if(u+p>s)break;u+=p}h+=n}return Math.max(0,Math.min(h,l))}getViewportHeight(){const e=this.beans,t=Jh(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let s=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(s-=n),s}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:s}=n,i=n.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:i,focusIndex:s,focusColumn:i})}onHomeOrEndKey(e){const t=e===K.PAGE_HOME,{visibleCols:n,pageBounds:s}=this.beans,i=n.allCols,a=t?i[0]:Oe(i),l=t?s.getFirstRow():s.getLastRow();this.navigateTo({scrollIndex:l,scrollType:null,scrollColumn:a,focusIndex:l,focusColumn:a})}onTabKeyDown(e,t){const n=t.shiftKey,s=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:a,pageBounds:l,focusSvc:u,gos:h}=i;if(s!==!1){s?t.preventDefault():s===null&&a.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:f,rowPinned:p}=e.getRowPosition();(p?f===0:f===l.getFirstRow())&&(h.get("headerHeight")===0||Vo(i)?Ea(i,!0,!0):(t.preventDefault(),u.focusPreviousFromFirstCell(t)))}else e instanceof yc&&e.focusCell(!0),(!n&&u.focusOverlay(!1)||Ea(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:s,rowRenderer:i}=n,a=s.getFocusedCell();if(!a)return!1;let l=sc(n,a);return!l&&(l=i.getRowByPosition(a),!l||!l.isFullWidth())?!1:!!this.tabToNextCellCommon(l,e,t)}tabToNextCellCommon(e,t,n){let s=e.editing;if(!s&&e instanceof yc){const l=e.rowCtrl;l&&(s=l.editing)}let i;return s?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,n):i=this.moveToNextEditingCell(e,t,n):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var a;const s=e.cellPosition;e.eGui.focus(),e.stopEditing();const i=this.findNextCellToFocusOn(s,t,!0);return i===!1?null:i==null?!1:((a=this.beans.editSvc)==null||a.startEditing(i,null,!0,n),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const s=e.cellPosition,i=this.findNextCellToFocusOn(s,t,!0);if(i===!1)return null;if(i==null)return!1;const a=i.cellPosition,l=this.isCellEditable(s),u=this.isCellEditable(a),h=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned,{editSvc:f,rowEditSvc:p}=this.beans;if(l&&(f==null||f.setFocusOutOnEditor(e)),!h){const m=e.rowCtrl;f==null||f.stopRowEditing(m);const v=i.rowCtrl;p==null||p.startEditing(v,void 0,void 0,n)}return u?(f==null||f.setFocusInOnEditor(i),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.beans.visibleCols.allCols;let s;e instanceof Tf?s={...e.getRowPosition(),column:t?n[0]:Oe(n)}:s=e.cellPosition;const i=this.findNextCellToFocusOn(s,t,!1);if(i===!1)return null;if(i instanceof yc)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return ye(i)}findNextCellToFocusOn(e,t,n){let s=e;const i=this.beans,{cellNavigation:a,gos:l,focusSvc:u,rowRenderer:h,rangeSvc:f}=i;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=a.getNextTabbedCell(s,t);const p=l.getCallback("tabToNextCell");if(ye(p)){const S=p({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:s||null});if(S===!0)s=e;else{if(S===!1)return!1;s={rowIndex:S.rowIndex,column:S.column,rowPinned:S.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const y=hs(i);return u.focusHeaderPosition({headerPosition:{headerRowIndex:y+s.rowIndex,column:s.column},fromCell:!0}),null}const m=l.get("editType")==="fullRow";if(n&&!m&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const v=sc(i,s);if(!v){const y=h.getRowByPosition(s);if(!y||!y.isFullWidth()||n)continue;return y}if(!a.isSuppressNavigable(v.column,v.rowNode))return f==null||f.setRangeToCell(s),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:s}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):s.getRow(e)}navigateToNextCell(e,t,n,s){let i=n,a=!1;const l=this.beans,{cellNavigation:u,focusSvc:h,gos:f}=l;for(;i&&(i===n||!this.isValidNavigateCell(i));)f.get("enableRtl")?t===K.LEFT&&(i=this.getLastCellOfColSpan(i)):t===K.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=u.getNextCellToFocus(t,i),a=qe(i);if(a&&e&&e.key===K.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),s){const m=f.getCallback("navigateToNextCell");if(ye(m)){const y=m({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});ye(y)?i={rowPinned:y.rowPinned,rowIndex:y.rowIndex,column:y.column}:i=null}}if(!i)return;if(i.rowIndex<0){const m=hs(l);h.focusHeaderPosition({headerPosition:{headerRowIndex:m+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const p=this.getNormalisedPosition(i);p?this.focusPosition(p):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=sc(this.beans,e);return t?(e=t.cellPosition,this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:s,focusSvc:i,eventSvc:a}=this.beans,l=n.allCols,u=s.getRowByPosition(e);if(!u||!u.isFullWidth())return!1;const h=i.getFocusedCell(),f={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Oe(l):l[0])};this.focusPosition(f);const p=t??(h!=null&&nL(f,h));return a.dispatchEvent({type:"fullWidthRowFocused",rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:f.column,isFullWidthCell:!0,fromBelow:p}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!oL(this.beans,e)}getLastCellOfColSpan(e){const t=sc(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Oe(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=ou(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),s=t&&(n==null?void 0:n.sticky),{scrollFeature:i}=this.gridBodyCon;!s&&qe(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}};function Jh(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var rG={moduleName:"KeyboardNavigation",version:Ge,beans:[oG,Qk,Ok],apiFunctions:{getFocusedCell:Jk,clearFocusedCell:eG,setFocusedCell:tG,setFocusedHeader:iG,tabToNextCell:nG,tabToPreviousCell:sG}},aG=class extends se{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},lG=class extends se{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,s=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:s}}calculateBounds(e,t){const{rowModel:n}=this.beans,s=n.getRowBounds(e);s&&(s.rowIndex=e),this.topRowBounds=s;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},cG=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",uG=class extends se{constructor(e,t){super(),this.element=e,this.isLeft=t,this.getWidth=t?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;Ze(this.element,t),Hn(this.element,e)}},dG=class extends se{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,s=At(e,"print"),i=s?0:t.getColsLeftWidth(),a=s?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),a!=this.rightWidth&&(this.rightWidth=a,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ac(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50);const s=this.gos.getCallback("processUnpinnedColumns");n.length&&(s&&(n=s({columns:n,viewportWidth:t})),this.setColsPinned(n,null,"viewportSizeFeature"))}createPinnedWidthFeature(e,t){return new uG(e,t)}setColsPinned(e,t,n){const{colModel:s,colAnimation:i,visibleCols:a,gos:l}=this.beans;if(!s.cols||!(e!=null&&e.length))return;if(At(l,"print")){me(37);return}i==null||i.start();let u;t===!0||t==="left"?u="left":t==="right"?u="right":u=null;const h=[];e.forEach(f=>{if(!f)return;const p=s.getCol(f);p&&p.getPinned()!==u&&(this.setColPinned(p,u),h.push(p))}),h.length&&(a.refresh(n),yS(this.eventSvc,h,n)),i==null||i.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",s=e.pinned==="right";e.hidden=!0;const i=()=>{const a=n?this.leftWidth:this.rightWidth;if(a==null)return;const l=a==0,u=e.hidden!==l,h=this.gos.get("enableRtl"),f=t.getScrollbarWidth(),m=t.verticalScrollShowing&&(h&&n||!h&&s)?a+f:a;e.comp.setPinnedContainerWidth(`${m}px`),e.comp.setDisplayed(!l),u&&(e.hidden=l,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:s,rightWidth:i}=this,a=Ac(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(s+i+e>a)if(a>s+i)e=a-s-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,s=t+n;if(s<e)return[];const{visibleCols:i}=this.beans,a=[...i.leftCols],l=[...i.rightCols];let u=0,h=0;const f=0,p=[];let m=s-f-e;for(;(h<a.length||u<l.length)&&m>0;){if(u<l.length){const v=l[u++];m-=v.getActualWidth(),p.push(v)}if(h<a.length&&m>0){const v=a[h++];m-=v.getActualWidth(),p.push(v)}}return p}},hG={moduleName:"PinnedColumn",version:Ge,beans:[dG],css:[cG]},fG=class extends se{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Zs(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Ct(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),Nb(n,"polite"),xT(n,"additions text"),RT(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(Fn(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},gG={moduleName:"Aria",version:Ge,beans:[fG]};function pG(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function mG(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function CG(e){var t;(t=e.overlays)==null||t.hideOverlay()}var vG=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",FR=class extends Je{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=xe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(vG)}handleKeyDown(e){if(e.key!==K.TAB||e.defaultPrevented||En(e))return;const t=this.beans;if(gs(t,this.eOverlayWrapper,!1,e.shiftKey))return;let s=!1;e.shiftKey?s=t.focusSvc.focusGridView(Oe(t.visibleCols.allCols),!0,!1):s=Ea(t,!1),s&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:s,NORMAL:i,PRINT:a}=wc;n.toggle(s,t.autoHeight),n.toggle(i,t.normal),n.toggle(a,t.print)}postConstruct(){this.createManagedBean(new bg(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=vt(this.beans);i&&!rS(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,s)){const a=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:l})=>{var u;(u=a.refresh)==null||u.call(a,this.gos.addGridCommonParams({...l??{}}))})}n&&this.isGridFocused()&&Bi(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var s;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Fn(this.eOverlayWrapper),(s=t==null?void 0:t.focus)==null||s.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=vt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},yG={selector:"AG-OVERLAY-WRAPPER",component:FR},wG=class extends se{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=nr(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){me(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return yG}getOverlayWrapperCompClass(){return FR}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,beans:{gos:n,colModel:s,rowModel:i}}=this;let a=this.gos.get("loading");a!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&a===void 0&&!n.get("suppressLoadingOverlay")&&(a=!n.get("columnDefs")||!s.ready||!n.get("rowData")&&t),a?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,i.isEmpty()&&!n.get("suppressNoRowsOverlay")&&t?e!==2&&this.doShowNoRowsOverlay():e!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(C1(this.beans.userCompFactory,{}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(v1(this.beans.userCompFactory,{}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var i;const s=(e==null?void 0:e.newAgStackInstance())??null;(i=this.eWrapper)==null||i.showOverlay(s,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},bG={moduleName:"Overlay",version:Ge,userComponents:{agLoadingOverlay:eO,agNoRowsOverlay:tO},apiFunctions:{showLoadingOverlay:pG,showNoRowsOverlay:mG,hideOverlay:CG},beans:[wG]},SG=class extends se{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=IT(),Oc(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Oc(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},RG=400,xG=class extends se{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(a=>a.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(a=>a.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},s=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ra(this.gos)?n():s()}),Ra(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:s})=>{(!s&&n||s&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=At(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new EG(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var s;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((s=this.cachedRowCtrls)==null?void 0:s.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=h=>{this.getAllCellCtrls().forEach(f=>{f.column===t&&h(f)})},s=()=>{n(h=>h.onLeftChanged())},i=()=>{n(h=>h.onWidthChanged())},a=()=>{n(h=>h.onFirstRightPinnedChanged())},l=()=>{n(h=>h.onLastLeftPinnedChanged())},u=()=>{n(h=>h.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",a),t.addEventListener("lastLeftPinnedChanged",l),t.addEventListener("colDefChanged",u),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",a),t.removeEventListener("lastLeftPinnedChanged",l),t.removeEventListener("colDefChanged",u)})})}onDomLayoutChanged(){const e=At(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var i;const s=(i=n.getCellCtrl(e,!0))==null?void 0:i.eGui;s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:s,printLayout:i}=this,a=Object.fromEntries(e.map(u=>[u.rowNode.id,u]));n==null||n.forEachPinnedRow(t,(u,h)=>{const f=e[h];f&&n.getPinnedRowById(f.rowNode.id,t)===void 0&&(f.destroyFirstPass(),f.destroySecondPass()),u.id in a?(e[h]=a[u.id],delete a[u.id]):e[h]=new Tf(u,s,!1,!1,i)});const l=(t==="top"?n==null?void 0:n.getPinnedTopRowCount():n==null?void 0:n.getPinnedBottomRowCount())??0;e.length=l}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var n,s;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((s=this.cachedRowCtrls)!=null&&s.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=a=>{const l=a[e.rowIndex];l&&l.rowNode===e&&(l.destroyFirstPass(),l.destroySecondPass(),a[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=vt(this.beans),s=kc(this.gos,n,_c),i=kc(this.gos,n,Da);return s||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&Bo(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:a}=this;if(a){a.checkStickyRows();const l=a.extraTopHeight+a.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(i,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var s;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(s=this.stickyRowFeature)==null||s.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(tS(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let s=0;s<n;s++){const i=t[s].getAllCellCtrls(),a=i.length;for(let l=0;l<a;l++)e.push(i[l])}return e}getAllRowCtrls(){const e=this.getStickyTopRowCtrls(),t=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t,...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=Vy(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(s=>{const i=s.rowNode;return Wy(i,t)})}getCellCtrls(e,t){let n;ye(t)&&(n={},t.forEach(i=>{const a=this.colModel.getCol(i);ye(a)&&(n[a.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(a=>{const l=a.column.getId();n&&!n[l]||s.push(a)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const[n,s]of Object.entries(this.rowCtrlsByRowIndex))s.rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const s=n.rowNode;t[s.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const s=this.rowCtrlsByRowIndex[n];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var h;const{afterScroll:t}=e;let n;const s=this.stickyRowFeature;s&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const f=s.extraTopHeight+s.extraBottomHeight;f&&this.updateContainerHeights(f)}const u=this.firstRenderedRow!==i||this.lastRenderedRow!==a;if(!(t&&!l&&!u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!l),n!=null)){const f=this.getCellToRestoreFocusToAfterRefresh();n!=null&&f==null&&((h=this.beans.animationFrameSvc)==null||h.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(a=>n[a]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(a=>!n[a]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)t.push(i);const n=i=>{const a=i.rowNode.rowIndex;a!=null&&(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(a)};for(const i of Object.values(this.rowCtrlsByRowIndex))n(i);if(e)for(const i of Object.values(e))n(i);t.sort((i,a)=>i-a);const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const s=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i&&n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=Vy(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const s=n.rowNode;return!(t!=null&&!Wy(s,t))})}createOrUpdateRowCtrl(e,t,n,s){let i,a=this.rowCtrlsByRowIndex[e];if(a||(i=this.rowModel.getRow(e),ye(i)&&ye(t)&&t[i.id]&&i.alreadyRendered&&(a=t[i.id],t[i.id]=null)),!a)if(i||(i=this.rowModel.getRow(e)),ye(i))a=this.createRowCon(i,n,s);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a}destroyRowCtrls(e,t){const n=[];if(e){for(const s of Object.values(e))if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);continue}if(s.destroyFirstPass(!t),t){const i=s.instanceId;this.zombieRowCtrls[i]=s,n.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[i]})}else s.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(s=>s()),RG))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=iS(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let s,i;if(!n.isRowsToRender())s=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),s=t.getFirstRow(),i=t.getLastRow();else{const p=this.getRowBufferInPixels(),m=this.ctrlsSvc.getScrollFeature(),v=this.gos.get("suppressRowVirtualisation");let y=!1,S,b;do{const M=t.getPixelOffset(),{pageFirstPixel:T,pageLastPixel:G}=t.getCurrentPagePixelRange(),O=e.divStretchOffset,z=m.getVScrollPosition(),N=z.top,V=z.bottom;v?(S=T+O,b=G+O):(S=Math.max(N+M-p,T)+O,b=Math.min(V+M+p,G)+O),this.firstVisibleVPixel=Math.max(N+M,T)+O,this.lastVisibleVPixel=Math.min(V+M,G)+O,y=this.ensureAllRowsInRangeHaveHeightsCalculated(S,b)}while(y);let R=n.getRowIndexAtPixel(S),E=n.getRowIndexAtPixel(b);const D=t.getFirstRow(),A=t.getLastRow();R<D&&(R=D),E>A&&(E=A),s=R,i=E}const a=At(this.gos,"normal"),l=this.gos.get("suppressMaxRenderedRowRestriction"),u=Math.max(this.getRowBuffer(),500);a&&!l&&i-s>u&&(i=s+u);const h=s!==this.firstRenderedRow,f=i!==this.lastRenderedRow;(h||f)&&(this.firstRenderedRow=s,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:s,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var u,h;const n=(u=this.pinnedRowModel)==null?void 0:u.ensureRowHeightsValid(),s=(h=this.stickyRowFeature)==null?void 0:h.ensureRowHeightsValid(),{pageBounds:i,rowModel:a}=this,l=a.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(l||s)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),s||l||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const s=e.rowNode,i=this.focusSvc.isRowNodeFocused(s),a=e.editing,l=s.detail;return i||a||l?!!this.isRowPresent(s):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,n){var u;const s=((u=this.cachedRowCtrls)==null?void 0:u.getRow(e))??null;if(s)return s;const i=this.gos.get("suppressAnimationFrame"),a=n&&!i&&!this.printLayout&&!!this.beans.animationFrameSvc;return new Tf(e,this.beans,t,a,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.rowNode)}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(s=>s.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},EG=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],_t(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],_t(this.entriesList,e)}getEntries(){return this.entriesList}};function Vy(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const s=n.id;switch(n.rowPinned){case"top":t.top[s]=n;break;case"bottom":t.bottom[s]=n;break;default:t.normal[s]=n;break}}),t}function Wy(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var DG=class extends se{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=xn(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=xn(e))}doFullSort(e,t){const n=e.map((s,i)=>({currentPos:i,rowNode:s}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(s=>s.rowNode)}compareRowNodes(e,t,n){const s=t.rowNode,i=n.rowNode;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.sort==="desc",f=this.getValue(s,u.column),p=this.getValue(i,u.column);let m;const v=this.getComparator(u,s);if(v?m=v(f,p,s,i,h):m=WT(f,p,this.isAccentedSort),!isNaN(m)&&m!==0)return u.sort==="asc"?m:m*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,s=n.getColDef().comparator;if(s!=null)return s;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const a=this.beans.colModel.getColDefCol(i);if(a)return a.getColDef().comparator}getValue(e,t){var u,h;const{valueSvc:n,colModel:s,showRowGroupCols:i,gos:a}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(Cg(a,s.isPivotActive())){const m=(u=e.allLeafChildren)==null?void 0:u[0];return m?n.getValue(t,m,!1):void 0}const p=i==null?void 0:i.getShowRowGroupCol(t.getId());return p?(h=e.groupData)==null?void 0:h[p.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function AG(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function ca(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var FG=`<span class="ag-sort-indicator-container">
        ${ca("Order","order")}
        ${ca("Asc","ascending-icon")}
        ${ca("Desc","descending-icon")}
        ${ca("Mixed","mixed-icon")}
        ${ca("None","none-icon")}
    </span>`,Pg=class extends Je{constructor(e){super(),this.eSortOrder=xe,this.eSortAsc=xe,this.eSortDesc=xe,this.eSortMixed=xe,this.eSortNone=xe,e||this.setTemplate(FG)}attachCustomElements(e,t,n,s,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=s,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const s=Cn(e,this.beans,n);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:s,gos:i,beans:a}=this,l=a.sortSvc.getDisplaySortForColumn(s);if(e&&Ze(e,l==="asc",{skipAriaHidden:!0}),t&&Ze(t,l==="desc",{skipAriaHidden:!0}),n){const u=!s.getColDef().unSortIcon&&!i.get("unSortIcon"),h=l==null;Ze(n,!u&&h,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const s=t.getColDef().showRowGroup;xn(n)&&s&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const s=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ze(e,s,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const s=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,a=s.some(u=>n.getDisplaySortIndexForColumn(u)??!1),l=i>=0&&a;Ze(e,l,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():Fn(e)}},MG={selector:"AG-SORT-INDICATOR",component:Pg},TG=["asc","desc",null],PG=class extends se{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,n)}progressSortFromEvent(e,t){const s=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,s,"uiColumnSorted")}setSortForColumn(e,t,n,s){var p;t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:a}=this.beans,l=xn(i);let u=[e];if(l&&e.getColDef().showRowGroup){const m=(p=a==null?void 0:a.getSourceColumnsForGroupColumn)==null?void 0:p.call(a,e),v=m==null?void 0:m.filter(y=>y.isSortable());v&&(u=[e,...v])}u.forEach(m=>this.setColSort(m,t,s));const h=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),f=[];if(!h){const m=this.clearSortBarTheseColumns(u,s);f.push(...m)}this.updateSortIndex(e),f.push(...u),this.dispatchSortChangedEvents(s,f)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:s}=this.beans,i=xn(t),a=s==null?void 0:s.getShowRowGroupCol(e.getId()),l=i&&a||e,u=this.getColumnsWithSortingOrdered();n.getAllCols().forEach(p=>this.setColSortIndex(p,null));const h=u.filter(p=>i&&p.getColDef().showRowGroup?!1:p!==l);(l.getSort()?[...h,l]:h).forEach((p,m)=>this.setColSortIndex(p,m))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.getAllCols().forEach(s=>{e.includes(s)||(s.getSort()&&n.push(s),this.setColSort(s,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??TG,n=t.indexOf(e.getSort()),s=n<0,i=n==t.length-1;return s||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:s}=this.beans;let i=t.getAllCols().filter(f=>!!f.getSort());if(t.isPivotMode()){const f=xn(e);i=i.filter(p=>{const m=!!p.getAggFunc(),v=!p.isPrimary(),y=f?n==null?void 0:n.getShowRowGroupCol(p.getId()):p.getColDef().showRowGroup;return m||v||y})}const a=(s==null?void 0:s.columns.filter(f=>!!f.getSort()))??[],l={};i.forEach((f,p)=>l[f.getId()]=p),i.sort((f,p)=>{const m=f.getSortIndex(),v=p.getSortIndex();if(m!=null&&v!=null)return m-v;if(m==null&&v==null){const y=l[f.getId()],S=l[p.getId()];return y>S?1:-1}else return v==null?-1:1});const u=xn(e)&&!!a.length;u&&(i=[...new Set(i.map(f=>(n==null?void 0:n.getShowRowGroupCol(f.getId()))??f))]);const h=new Map;return i.forEach((f,p)=>h.set(f,p)),u&&a.forEach(f=>{const p=n.getShowRowGroupCol(f.getId());h.set(f,h.get(p))}),h}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=xn(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var l;const t=(l=this.beans.showRowGroupCols)==null?void 0:l.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=s[0].getSort();return s.every(u=>u.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let s=0;e.addManagedListeners(t,{movingChanged:()=>{s=new Date().getTime()}}),n&&e.addManagedElementListeners(n,{click:a=>{const l=t.isMoving(),h=new Date().getTime()-s<50;l||h||this.progressSortFromEvent(t,a)}});const i=()=>{var l;const a=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",a==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",a==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!a),t.getColDef().showRowGroup){const u=(l=this.beans.showRowGroupCols)==null?void 0:l.getSourceColumnsForGroupColumn(t),f=!(u==null?void 0:u.every(p=>t.getSort()==p.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",f)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:s,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),s!==void 0?s!==null&&(e.sortIndex=s):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new Pg(e)}getSortIndicatorSelector(){return MG}},MR={moduleName:"Sort",version:Ge,beans:[PG,DG],apiFunctions:{onSortChanged:AG},userComponents:{agSortIndicator:Pg},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},LG=class extends se{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Oc(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,zo(e.source))}}},TR=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:s}=e;if(s)for(let i=0;i<s.length;++i)this.depthFirstSearchChangedPath(s[i],t);t(n)}depthFirstSearchEverything(e,t,n){const s=e.childrenAfterGroup;if(s)for(let i=0,a=s.length;i<a;++i){const l=s[i];l.childrenAfterGroup?this.depthFirstSearchEverything(l,t,n):n&&t(l)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(s=>this.nodeIdsToColumns[n.id][s.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let s=0;s<t;s++){const i=this.mapToItems[n.id],a=this.mapToItems[n.parent.id];a.children||(a.children=[]),a.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},OG="paste",IG=class extends se{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;nr(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===OG||t.get("suppressChangeDetection"))return;const s=e.node,i=[s],a=this.clientSideRowModel,l=a==null?void 0:a.rootNode;if(l&&!s.isRowPinned()){const u=t.get("aggregateOnlyChangedColumns"),h=new TR(u,l);h.addParentNode(s.parent,[e.column]),a.doAggregate(h),h.forEachChangedNodeDepthFirst(f=>{i.push(f)})}n.refreshCells({rowNodes:i})}},kG=class extends se{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ye(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Ye(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),s=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=s,s}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},GG={moduleName:"Expression",version:Ge,beans:[kG]},NG={moduleName:"ChangeDetection",version:Ge,beans:[IG]},HG=class extends se{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=gg(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const n=t.leafGroup&&this.colModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!n,i=this.gos.get("groupSuppressBlankHeader");if(!s||i)return this.getValue(e,t);let a=!1;const l=this.gos.get("groupTotalRow");typeof l!="function"?a=!!l:a=!!this.gos.getCallback("groupTotalRow")({node:this});const u=s&&a;return this.getValue(e,t,u)}getValue(e,t,n=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),i=s.field,a=e.getColId(),l=t.data;let u;const h=t.groupData&&t.groupData[a]!==void 0,f=!n&&t.aggData&&t.aggData[a]!==void 0,p=this.isSsrm&&n&&!!e.getColDef().aggFunc,m=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&f?u=t.aggData[a]:this.isTreeData&&s.valueGetter?u=this.executeValueGetter(s.valueGetter,l,e,t):this.isTreeData&&i&&l?u=mc(l,i,e.isFieldContainsDots()):h?u=t.groupData[a]:f?u=t.aggData[a]:s.valueGetter?u=this.executeValueGetter(s.valueGetter,l,e,t):m?u=mc(l,t.field,e.isFieldContainsDots()):i&&l&&!p&&(u=mc(l,i,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const v=u.substring(1);u=this.executeValueGetter(v,l,e,t)}if(u==null){const v=this.getOpenedGroup(t,e);if(v!=null)return v}return u}parseValue(e,t,n,s){var l;const i=e.getColDef(),a=i.valueParser;if(ye(a)){const u=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:s,newValue:n,colDef:i,column:e});return typeof a=="function"?a(u):(l=this.expressionSvc)==null?void 0:l.evaluate(a,u)}return n}getDeleteValue(e,t){return ye(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,n,s,i=!0){let a=null,l;const u=e.getColDef();if(s?l=s:i&&(l=u.valueFormatter),l){const h=this.gos.addGridCommonParams({value:n,node:t,data:t?t.data:null,colDef:u,column:e});typeof l=="function"?a=l(h):a=this.expressionSvc?this.expressionSvc.evaluate(l,h):null}else if(u.refData)return u.refData[n]||"";return a==null&&Array.isArray(n)&&(a=n.join(", ")),a}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(s===!0||s===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,n,s){var p,m;const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;qe(e.data)&&(e.data={});const{field:a,valueSetter:l}=i.getColDef();if(qe(a)&&qe(l))return me(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return me(135),!1;const u=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:n,colDef:i.getColDef(),column:i});u.newValue=n;let h;if(ye(l)?typeof l=="function"?h=l(u):h=(p=this.expressionSvc)==null?void 0:p.evaluate(l,u):h=this.setValueUsingField(e.data,a,n,i.isFieldContainsDots()),h===void 0&&(h=!0),!h)return!1;e.resetQuickFilterAggregateText(),(m=this.valueCache)==null||m.onDataChanged();const f=this.getValue(i,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,colDef:u.colDef,data:e.data,node:e,oldValue:u.oldValue,newValue:f,value:f,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,s){if(!t)return!1;let i=!1;if(!s)i=e[t]===n,i||(e[t]=n);else{const a=t.split(".");let l=e;for(;a.length>0&&l;){const u=a.shift();a.length===0?(i=l[u]===n,i||(l[u]=n)):l=l[u]}}return!i}executeValueGetterWithValueCache(e,t,n,s){const i=n.getColId(),a=this.valueCache.getValue(s,i);if(a!==void 0)return a;const l=this.executeValueGetterWithoutValueCache(e,t,n,s);return this.valueCache.setValue(s,i,l),l}executeValueGetterWithoutValueCache(e,t,n,s){var l;const i=this.gos.addGridCommonParams({data:t,node:s,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return typeof e=="function"?a=e(i):a=(l=this.expressionSvc)==null?void 0:l.evaluate(e,i),a}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),s=e.getColDef().keyCreator;let i=n;if(s){const a=this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=s(a)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&me(121)),i}},BG={moduleName:"CommunityCore",version:Ge,beans:[Hk,AO,zI,UP,SG,xI,Lk,_k,zP,lG,aG,xG,HG,Gk,Pk,Nk,WI,LG,kI,GI],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:FO,destroy:MO,isDestroyed:TO,getGridOption:PO,setGridOption:LO,updateGridOptions:hR},dependsOn:[LI,tI,cI,MR,Yk,DI,qk,bG,NG,$k,rG,hG,gG,Zk,BI,OI,GG]},Lg=class Ti{static applyGlobalGridOptions(t){if(!Ti.gridOptions)return{...t};let n={};return Dt(n,Ti.gridOptions,!0,!0),Ti.mergeStrategy==="deep"?Dt(n,t,!0,!0):n={...n,...t},Ti.gridOptions.context&&(n.context=Ti.gridOptions.context),t.context&&(Ti.mergeStrategy==="deep"&&n.context&&Dt(t.context,n.context,!0,!0),n.context=t.context),n}};Lg.gridOptions=void 0;Lg.mergeStrategy="shallow";var PR=Lg;function zG(e){var t;return(t=PR.gridOptions)==null?void 0:t[e]}var VG=1,WG=class{create(e,t,n,s,i,a){const l=PR.applyGlobalGridOptions(t),u=l.gridId??String(VG++),h=l.rowModelType??"clientSide",f=this.getRegisteredModules(i,u,h),p=this.createBeansList(h,f,u),m=this.createProvidedBeans(e,l,i);if(!p)return;const v={providedBeanInstances:m,beanClasses:p,gridId:u,beanInitComparator:RO,beanDestroyComparator:xO,derivedBeans:[bO],destroyCallback:a},y=new M1(v);return this.registerModuleFeatures(y,f),n(y),y.getBean("syncSvc").start(),s&&s(y),y.getBean("gridApi")}getRegisteredModules(e,t,n){var s;return xa(BG,void 0),(s=e==null?void 0:e.modules)==null||s.forEach(i=>xa(i,t)),E1(t,n)}registerModuleFeatures(e,t){const n=e.getBean("registry"),s=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const a=i.apiFunctions;a&&Object.keys(a).forEach(u=>{s==null||s.addFunction(u,a[u])})})}createProvidedBeans(e,t,n){let s=n?n.frameworkOverrides:null;qe(s)&&(s=new uR);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:s};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!i){xf(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!OS(i,n,e)){xf(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:i,gridScoped:IS(),gridId:n,rowModelType:e},`Missing module ${i}Module for rowModelType ${e}. 
If upgrading from before v33, see ${hg}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const a=new Set;return t.forEach(l=>{var u;return(u=l.beans)==null?void 0:u.forEach(h=>a.add(h))}),Array.from(a)}},_G=class{wrap(e,t,n,s){const i=this.createWrapper(e,s);return t==null||t.forEach(a=>{this.createMethod(i,a,!0)}),n==null||n.forEach(a=>{this.createMethod(i,a,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&me(49,{methodName:t}),null)}}};function LR(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var UG=class extends se{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(s,i)=>{s.hasChildren()&&e&&!i?s.childrenAfterFilter=s.childrenAfterGroup.filter(a=>{const l=a.childrenAfterFilter&&a.childrenAfterFilter.length>0,u=a.data&&this.filterManager.doesRowPassFilter({rowNode:a});return l||u}):s.childrenAfterFilter=s.childrenAfterGroup,LR(s)};if(this.doingTreeDataFiltering()){const s=(a,l)=>{if(a.childrenAfterGroup)for(let u=0;u<a.childrenAfterGroup.length;u++){const h=a.childrenAfterGroup[u],f=l||this.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?s(a.childrenAfterGroup[u],f):n(h,f)}n(a,l)},i=a=>s(a,!1);t.executeFromRootNode(i)}else{const s=i=>n(i,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},jG=class extends Dg{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,s,i){this.comp=e;const a=Pa(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=s,this.setGui(t,a),this.setupActive(),this.setupWidth(a),this.setupLeft(a),this.setupHover(a),this.setupFocus(a),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(a),this.setupUi(),a.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(a),a.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(a)}),a.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Cn("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Wi(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Vi(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var l;const{beans:t}=this;if(vt(t)===this.eGui)return;const i=gs(t,this.eGui,null,e.shiftKey);if(i){(l=t.headerNavigation)==null||l.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const a=this.findNextColumnWithFloatingFilter(e.shiftKey);a&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:a},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case K.UP:case K.DOWN:t||e.preventDefault();case K.LEFT:case K.RIGHT:if(t)return;e.stopPropagation();case K.ENTER:t&&Bi(this.eGui)&&e.preventDefault();break;case K.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&Li(e.relatedTarget,"ag-floating-filter");if(n&&s&&e.target===this.eGui){const i=this.lastFocusEvent,a=!!(i&&i.key===K.TAB);if(i&&a){const l=i.shiftKey;Bi(this.eGui,l)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Eg(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!en(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(a=>{if(a){const l=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),u=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,u)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var a;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?(a=this.beans.filterManager)==null?void 0:a.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!s?this.updateCompDetails(e,s,n):i.then(l=>{var u;!l||(u=this.beans.filterManager)!=null&&u.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,n):this.updateFloatingFilterParams(s)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(s=>{s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function KG(e,t){var s;const n=e.colModel.getCol(t);if(!n){Ye(12,{colKey:t});return}(s=e.menuSvc)==null||s.showColumnMenu({column:n,positionBy:"auto"})}function YG(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var qG={moduleName:"SharedMenu",version:Ge,beans:[JL],apiFunctions:{showColumnMenu:KG,hidePopupMenu:YG}},$G=0,XG=200,ZG=class extends se{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n}=e,s=this.getPopupIndex(n);if(s!==-1){const y=this.popupList[s];y.alignedToElement=t}const i=t.getBoundingClientRect(),a=this.getParentRect(),l=this.keepXYWithinBounds(n,i.top-a.top,0),u=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${u}px`;const f=a.right-a.left-u;let p;this.gos.get("enableRtl")?(p=v(),p<0&&(p=m(),this.setAlignedStyles(n,"left")),p>f&&(p=0,this.setAlignedStyles(n,"right"))):(p=m(),p>f&&(p=v(),this.setAlignedStyles(n,"right")),p<0&&(p=0,this.setAlignedStyles(n,"left"))),n.style.left=`${p}px`,n.style.top=`${l}px`;function m(){return i.right-a.left-2}function v(){return i.left-a.left-u}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:s,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:s,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:s,keepWithinBounds:i,eventSource:a,alignSide:l="left",position:u="over",column:h,rowNode:f,type:p}=e,m=a.getBoundingClientRect(),v=this.getParentRect(),y=this.getPopupIndex(t);if(y!==-1){const b=this.popupList[y];b.alignedToElement=a}const S=()=>{let b=m.left-v.left;l==="right"&&(b-=t.offsetWidth-m.width);let R;return u==="over"?(R=m.top-v.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,m,v,e.nudgeY||0)==="under"?R=m.top-v.top+m.height:R=m.top-t.offsetHeight-(s||0)*2-v.top),{x:b,y:R}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:s,keepWithinBounds:i,updatePosition:S,postProcessCallback:()=>this.callPostProcessPopup(p,t,a,null,h,f)})}shouldRenderUnderOrAbove(e,t,n,s){const i=n.bottom-t.bottom,a=t.top-n.top,l=e.offsetHeight+s;return i>l?"under":a>l||a>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const s=this.popupList[n],{alignedToElement:i}=s;!i||(["right","left","over","above","under"].forEach(l=>{i.classList.remove(`ag-has-popup-positioned-${l}`),e.classList.remove(`ag-popup-positioned-${l}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,n,s,i,a){const l=this.gos.getCallback("postProcessPopup");l&&l({column:i,rowNode:a,ePopup:t,type:e,eventSource:n,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:s,nudgeY:i,skipObserver:a,updatePosition:l}=e,u={width:0,height:0},h=(f=!1)=>{let{x:p,y:m}=l();f&&t.clientWidth===u.width&&t.clientHeight===u.height||(u.width=t.clientWidth,u.height=t.clientHeight,s&&(p+=s),i&&(m+=i),n&&(p=this.keepXYWithinBounds(t,p,1),m=this.keepXYWithinBounds(t,m,0)),t.style.left=`${p}px`,t.style.top=`${m}px`,e.postProcessCallback&&e.postProcessCallback())};if(h(),!a){const f=bs(this.beans,t,()=>h(!0));setTimeout(()=>f(),XG)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Ct(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Kb(t)}keepXYWithinBounds(e,t,n){const s=n===0,i=s?"clientHeight":"clientWidth",a=s?"top":"left",l=s?"height":"width",u=s?"scrollTop":"scrollLeft",h=Ct(this.beans),f=h.documentElement,p=this.getPopupParent(),m=e.getBoundingClientRect(),v=p.getBoundingClientRect(),y=h.documentElement.getBoundingClientRect(),S=p===h.body,b=Math.ceil(m[l]);let E=S?(s?jb:Fc)(f)+f[u]:p[i];S&&(E-=Math.abs(y[a]-v[a]));const D=E-b;return Math.min(Math.max(t,0),Math.abs(D))}addPopup(e){const t=Ct(this.beans),{eChild:n,ariaLabel:s,alwaysOnTop:i,positionCallback:a,anchorToElement:l}=e;if(!t)return me(122),{hideFunc:()=>{}};const u=this.getPopupIndex(n);if(u!==-1)return{hideFunc:this.popupList[u].hideFunc};this.initialisePopupPosition(n);const h=this.createPopupWrapper(n,s,!!i),f=this.addEventListenersToPopup({...e,wrapperEl:h});return a&&a(),this.addPopupToPopupList(n,h,f,l),{hideFunc:f}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ye(e.style.top)||(e.style.top=`${n.top*-1}px`),ye(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const s=this.getPopupParent(),i=document.createElement("div"),{environment:a,gos:l}=this.beans;return a.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(l.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Wt(e,"dialog"),Vi(e,t),i.appendChild(e),s.appendChild(i),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Ct(t),s=this.getPopupParent(),{wrapperEl:i,eChild:a,closedCallback:l,afterGuiAttached:u,closeOnEsc:h,modal:f}=e;let p=!1;const m=b=>{if(!i.contains(vt(t)))return;b.key===K.ESCAPE&&!En(b)&&S({keyboardEvent:b})},v=b=>S({mouseEvent:b}),y=b=>S({touchEvent:b}),S=(b={})=>{const{mouseEvent:R,touchEvent:E,keyboardEvent:D,forceHide:A}=b;!A&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:E},a)||p)||(p=!0,s.removeChild(i),n.removeEventListener("keydown",m),n.removeEventListener("mousedown",v),n.removeEventListener("touchstart",y),n.removeEventListener("contextmenu",v),this.eventSvc.removeEventListener("dragStarted",v),l&&l(R||E||D),this.removePopupFromPopupList(a))};return u&&u({hidePopup:S}),window.setTimeout(()=>{h&&n.addEventListener("keydown",m),f&&(n.addEventListener("mousedown",v),this.eventSvc.addEventListener("dragStarted",v),n.addEventListener("touchstart",y),n.addEventListener("contextmenu",v))},0),S}addPopupToPopupList(e,t,n,s){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:$G++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const s=this.popupList[n];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(a=>a&&a()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=i,s.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:s,ePopup:i}=e,a=s.getBoundingClientRect(),l=m=>parseInt(m.substring(0,m.length-1),10),u=(m,v)=>{const y=n[m]-a[m],S=l(i.style[m]);return{initialDiff:y,lastDiff:y,initial:S,last:S,direction:v}},h=u("top",0),f=u("left",1),p=this.beans.frameworkOverrides;return new Qe(m=>{p.wrapIncoming(()=>{p.setInterval(()=>{const v=t.getBoundingClientRect(),y=s.getBoundingClientRect();if(y.top==0&&y.left==0&&y.height==0&&y.width==0){e.hidePopup();return}const b=(R,E)=>{const D=l(i.style[E]);R.last!==D&&(R.initial=D,R.last=D);const A=v[E]-y[E];if(A!=R.lastDiff){const M=this.keepXYWithinBounds(i,R.initial+R.initialDiff-A,R.direction);i.style[E]=`${M}px`,R.last=M}R.lastDiff=A};b(h,"top"),b(f,"left")},200).then(v=>{m(()=>{v!=null&&window.clearInterval(v)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:s}=e,i=n||s;if(!i)return!1;const a=this.getPopupIndex(t);if(a===-1)return!1;for(let l=a;l<this.popupList.length;l++){const u=this.popupList[l];if(Af(u.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Ct(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=n.length,i=this.getWrapper(e);if(!i||s<=1||!t.contains(e))return;const a=[],l=[];for(const v of n)v!==i&&(v.classList.contains("ag-always-on-top")?l.push(v):a.push(v));const u=[],h=l.length,m=i.classList.contains("ag-always-on-top")||!h?[...a,...l,i]:[...a,i,...l];for(let v=0;v<=s;v++){const y=m[v];if(n[v]===m[v]||y===i)continue;y.querySelectorAll("div").forEach(b=>{b.scrollTop!==0&&u.push([b,b.scrollTop])}),v===0?t.insertAdjacentElement("afterbegin",y):m[v-1].insertAdjacentElement("afterend",y)}for(;u.length;){const v=u.pop();v[0].scrollTop=v[1]}}},OR={moduleName:"Popup",version:Ge,beans:[ZG]},QG=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function JG(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function eN(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function tN(e,t){var s;const n=e.colModel.getColDefCol(t);if(n)return(s=e.filterManager)==null?void 0:s.destroyFilter(n,"api")}function nN(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function sN(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function iN(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function oN(e,t,n){var s;return((s=e.filterManager)==null?void 0:s.setColumnFilterModel(t,n))??Promise.resolve()}function rN(e,t){var s;const n=e.colModel.getCol(t);if(!n){Ye(12,{colKey:t});return}(s=e.menuSvc)==null||s.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var _y={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Uy=["january","february","march","april","may","june","july","august","september","october","november","december"];function aN(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var lN=class extends se{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var s;(n.rowDataUpdated||(s=n.changedProps)!=null&&s.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:s,filterManager:i}=this.beans;if(s!=null&&s.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const a=[],l=this.getFilterModel(!0);if(e){const u=new Set(Object.keys(e));this.allColumnFilters.forEach((h,f)=>{const p=e[f];a.push(uc(h.filterPromise,p)),u.delete(f)}),u.forEach(h=>{const f=n.getColDefCol(h)||n.getCol(h);if(!f){me(62,{colId:h});return}if(!f.isFilterAllowed()){me(63,{colId:h});return}const p=this.getOrCreateFilterWrapper(f);if(!p){me(64,{colId:h});return}a.push(uc(p.filterPromise,e[h]))})}else this.allColumnFilters.forEach(u=>{a.push(uc(u.filterPromise,null))});Qe.all(a).then(()=>{const u=this.getFilterModel(!0),h=[];this.allColumnFilters.forEach((f,p)=>{const m=l?l[p]:null,v=u?u[p]:null;$b(m,v)||h.push(f.column)}),h.length>0&&(i==null||i.onFilterChanged({columns:h,source:t}))})}getFilterModel(e){const t={},{allColumnFilters:n,initialFilterModel:s,beans:{colModel:i}}=this;return n.forEach((a,l)=>{const u=this.getModelFromFilterWrapper(a);ye(u)&&(t[l]=u)}),e||Object.entries(s).forEach(([a,l])=>{var u;ye(l)&&!n.has(a)&&((u=i.getCol(a))!=null&&u.isFilterAllowed())&&(t[a]=l)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(me(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(me(67),!1):!1,{colModel:t,gos:n}=this.beans,s=!!Sa(n),i=u=>{if(!u.isPrimary())return!0;const f=!t.isPivotActive();return!u.isValueActive()||!f?!1:t.isPivotMode()?!0:s},a=[],l=[];return this.forEachColumnFilter((u,h)=>{e(u)&&(i(h.column)?a.push(u):l.push(u))}).then(()=>{this.activeAggregateFilters=a,this.activeColumnFilters=l})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,s)=>this.setColFilterActive(s.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const s=n.filterPromise;s&&t.push(s.then(i=>e(i,n)))}),Qe.all(t)}doColumnFiltersPass(e,t,n){const{data:s,aggData:i}=e,a=n?this.activeAggregateFilters:this.activeColumnFilters,l=n?i:s;for(let u=0;u<a.length;u++){const h=a[u];if(!(h==null||h===t)){if(typeof h.doesFilterPass!="function"){Ye(91);continue}if(!h.doesFilterPass({node:e,data:l}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,s=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(s,0):s()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(s,i)=>{const a=i?n.getCol(i):e;return a?t.getValue(a,s):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:s}=this.beans;if(_h(n))t="agSetColumnFilter";else{const i=s==null?void 0:s.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:s}=this.beans;if(_h(n))t="agSetColumnFloatingFilter";else{const i=s==null?void 0:s.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),s=e.getColDef();let i;const a={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:u=>this.filterChangedCallbackFactory(i,e)(u),doesRowPassOtherFilter:u=>{var h;return((h=this.beans.filterManager)==null?void 0:h.doesRowPassOtherFilters(i,u))??!0}},l=m1(this.beans.userCompFactory,s,a,n);return l?{filterPromise:()=>{const u=l.newAgStackInstance();return u.then(h=>{i=h,t&&(t.filter=h??void 0)}),u},compDetails:l}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=s,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((i,a)=>{let l;i.column.isPrimary()?l=t.getColDefCol(a):l=t.getCol(a),!(l&&l===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(a))});const s=e.every(i=>i.getColDef().filter==="agGroupColumnFilter");e.length>0&&!s?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getAutoCols())==null||t.forEach(n=>{n.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=p=>{var v;const m=(v=this.getOrCreateFilterWrapper(e))==null?void 0:v.filterPromise;m!=null&&m.then(y=>{p(vy(y))})},s=e.getColDef(),i={...this.createFilterParams(e,s),filterChangedCallback:()=>n(p=>this.filterChangedCallbackFactory(p,e)())},{userCompFactory:a,frameworkOverrides:l}=this.beans,u=b1(a,s,i);let h=pL(l,s,()=>this.getDefaultFloatingFilter(e));return h==null&&(h="agReadOnlyFloatingFilter"),y1(a,s,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t},h)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var i;const n=e.getColId(),s=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],s&&(this.disposeFilterWrapper(s,t),(i=this.beans.filterManager)==null||i.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;(n=e.filterPromise)==null||n.then(s=>{this.destroyBean(s),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const s=(n==null?void 0:n.source)??"columnFilter",i={filter:e,additionalEventAttributes:n,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:s}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s)){this.destroyFilter(n,"paramsUpdated");return}const i=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(a=>{(a!=null&&a.refresh?a.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(a,n),filterChangedCallback:this.filterChangedCallbackFactory(a,n),doesRowPassOtherFilter:u=>{var h;return((h=this.beans.filterManager)==null?void 0:h.doesRowPassOtherFilters(a,u))??!0},...i}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:s}=t;return!(n===s||(n==null?void 0:n.render)&&(s==null?void 0:s.render)&&n.render===s.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(vy(n))})})}getFilterInstanceImpl(e){var s;const t=this.beans.colModel.getColDefCol(e);return t?((s=this.getOrCreateFilterWrapper(t))==null?void 0:s.filterPromise)??Qe.resolve(null):Qe.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:s}=this.beans;if(s!=null&&s.isPendingInference){let u=()=>{};const h=new Promise(f=>{u=f});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:u}),h}const i=n.getColDefCol(e),a=i?this.getOrCreateFilterWrapper(i):null;return a?(u=>new Promise(h=>{u.then(f=>h(f))}))(uc(a.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const s=_h(this.gos),i=this.getLocaleTextFunc(),a=l=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?{...u,...l}:l};switch(t.baseDataType){case"number":{s&&a({comparator:aN});break}case"boolean":{a(s?{valueFormatter:l=>ye(l.value)?i(String(l.value),l.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,u)=>u===!1,numberOfInputs:0}]});break}case"date":{s&&a({valueFormatter:l=>{const u=n(l);return ye(u)?u:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,u)=>{if(u===1&&l!=null){const h=Uy[Number(l)-1];return i(h,_y[h])}return l??i("blanks","(Blanks)")}});break}case"dateString":{const l=t.dateParser;a(s?{valueFormatter:u=>{const h=n(u);return ye(h)?h:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const h=l(u??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:(u,h)=>{if(h===1&&u!=null){const f=Uy[Number(u)-1];return i(f,_y[f])}return u??i("blanks","(Blanks)")}}:{comparator:(u,h)=>{const f=l(h);return h==null||f<u?-1:f>u?1:0}});break}case"object":{s?a({valueFormatter:l=>{const u=n(l);return ye(u)?u:i("blanks","(Blanks)")}}):e.filterValueGetter=l=>n({column:l.column,node:l.node,value:this.beans.valueSvc.getValue(l.column,l.node)});break}}}setColFilterActive(e,t,n,s){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,s)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function uc(e,t){return e?new Qe(n=>{e.then(s=>{typeof s.setModel!="function"&&(me(65),n()),(s.setModel(t)||Qe.resolve()).then(()=>n())})}):Qe.resolve()}function cN(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function uN(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var dN=class extends se{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:s})=>this.onAdvFilterEnabledChanged(s),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}resetQuickFilterCache(){var e;(e=this.quickFilter)==null||e.resetCache()}refreshFiltersForAggregations(){Sa(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Qe.resolve()).then(()=>{var a;const i={source:t,type:"filterChanged",columns:s};n&&Dt(i,n),this.eventSvc.dispatchEvent(i),(a=this.colFilter)==null||a.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Sa(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e){var t;if(this.isAdvFilterEnabled()){if((t=this.beans.dataTypeSvc)!=null&&t.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){me(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var s;(s=this.colFilter)==null||s.setColDefPropertiesForDataType(e,t,n)}},hN=class extends se{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n){this.showPopup(e,s=>{var i;(i=this.popupSvc)==null||i.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:s})},n,t.target,en(this.gos))}showMenuAfterButtonClick(e,t,n){let s=-1,i="left";const a=en(this.gos);!a&&this.gos.get("enableRtl")&&(s=1,i="right");const l=a?void 0:4*s,u=a?void 0:4;this.showPopup(e,h=>{var f;(f=this.popupSvc)==null||f.positionPopupByComponent({type:n,eventSource:t,ePopup:h,nudgeX:l,nudgeY:u,alignSide:i,keepWithinBounds:!0,position:"under",column:e})},n,t,a)}showPopup(e,t,n,s,i){var S;const a=e?this.createBean(new dL(e,"COLUMN_MENU")):void 0;if(this.activeMenu=a,!(a!=null&&a.hasFilter())||!e){Ye(57);return}const l=document.createElement("div");Wt(l,"presentation"),l.classList.add("ag-menu"),i||l.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(l,{keydown:b=>this.trapFocusWithin(b,l)}),l.appendChild(a==null?void 0:a.getGui());let u;const h=()=>a==null?void 0:a.afterGuiDetached(),f=aP(this.gos)?s??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=b=>{Ey(e,!1,"contextMenu");const R=b instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),R&&s&&Wn(s)){const E=HS(s);E==null||E.focus({preventScroll:!0})}h(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e)},m=this.getLocaleTextFunc(),v=i&&n!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),y=(S=this.popupSvc)==null?void 0:S.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:v});y&&(this.hidePopup=u=y.hideFunc),a.afterInit().then(()=>{t(l),a.afterGuiAttached({container:n,hidePopup:u})}),Ey(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==K.TAB||e.defaultPrevented||gs(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Bi(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},fN=class extends se{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:s}=n;return s?this.executeFilterValueGetter(s,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,s,i){const{expressionSvc:a,valueSvc:l}=this.beans,u=this.gos.addGridCommonParams({data:t,node:s,column:n,colDef:i,getValue:l.getValueCallback.bind(l,s)});return typeof e=="function"?e(u):a==null?void 0:a.evaluate(e,u)}},IR=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],s=i=>i.some(a=>t[a]!=null)?!0:(me(72,{keys:i}),!1);if(!n.every(s)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:me(73)}else me(74)}getCustomOption(e){return this.customFilterOptions[e]}};function jy(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function Ky(e){return e==null||typeof e=="string"&&e.trim().length===0}function gN(e){return e==="AND"||e==="OR"?e:"AND"}function pN(e,t,n){if(e==null)return;const{predicate:s}=e;if(s!=null&&!t.some(i=>i==null))return s(t,n)}function mN(e,t){let n=e.length;return n>t&&(e.splice(t),me(78),n=t),n}var CN=class extends gL{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:s}=t;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const s=n===0?e:this.optionsFactory.defaultOption;t.setValue(s,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,s=!t.operator;if(!n&&s||n&&!s)return!1;let a;if(n){const l=e,u=t;a=this.areSimpleModelsEqual(l,u)}else{const l=e,u=t;a=l.operator===u.operator&&Bn(l.conditions,u.conditions,(h,f)=>this.areSimpleModelsEqual(h,f))}return a}shouldRefresh(e){var a;const t=this.getModel(),n=t?t.conditions??[t]:null,s=((a=e.filterOptions)==null?void 0:a.map(l=>typeof l=="string"?l:l.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(l=>s.find(u=>u===l.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let s=n.conditions;s==null&&(s=[],me(77));const i=mN(s,this.maxNumConditions),a=this.getNumConditions();if(i<a)this.removeConditionsAndOperators(i);else if(i>a)for(let u=a;u<i;u++)this.createJoinOperatorPanel(),this.createOption();const l=n.operator==="OR";this.eJoinOperatorsAnd.forEach(u=>u.setValue(!l,!0)),this.eJoinOperatorsOr.forEach(u=>u.setValue(l,!0)),s.forEach((u,h)=>{this.eTypes[h].setValue(u.type,!0),this.setConditionIntoUi(u,h)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Qe.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,s=[];if(n){const a=t;s.push(...a.conditions??[])}else s.push(t);return s[n&&n==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=gN(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new IR,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(me(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(me(80),n=1),n>t&&(me(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new vO);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,s=>this.resetInput(s)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,i),this.resetJoinOperatorOr(n,s,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const s=this.createManagedBean(new hO);e.push(s);const i="ag-filter-condition-operator";return s.addCssClass(i),s.addCssClass(`${i}-${n}`),t.appendChild(s.getGui()),s}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const s=e+1,i=n-s;i>0&&this.removeConditionsAndOperators(s,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,i)=>{const a=this.isConditionDisabled(i,e);s.setDisabled(a||this.filterListOptions.length<=1),i===1&&(wa(this.eJoinOperatorPanels[0],a),this.eJoinOperatorsAnd[0].setDisabled(a),this.eJoinOperatorsOr[0].setDisabled(a))}),this.eConditionBodies.forEach((s,i)=>{Ze(s,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(n,!0)}),this.forEachInput((s,i,a,l)=>{this.setElementDisplayed(s,i<l),this.setElementDisabled(s,this.isConditionDisabled(a,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:s,eJoinOperatorPanels:i,eJoinOperatorsAnd:a,eJoinOperatorsOr:l}=this;this.removeComponents(n,e,t),this.removeElements(s,e,t),this.removeValueElements(e,t);const u=Math.max(e-1,0);this.removeElements(i,u,t),this.removeComponents(a,u,t),this.removeComponents(l,u,t)}removeElements(e,t,n){jy(e,t,n).forEach(i=>Hi(i))}removeComponents(e,t,n){jy(e,t,n).forEach(i=>{Hi(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:s}=this;let i;if(!this.isReadOnly()){const a=this.getInputs(0)[0];a instanceof Oo&&this.isConditionBodyVisible(0)?i=a.getInputElement():i=(t=s[0])==null?void 0:t.getFocusableElement()}(i??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,s=!1;const i=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))t===-1&&(t=l,n=l);else{const u=l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1),h=l<t;(u||h)&&(this.removeConditionsAndOperators(l,1),s=!0,h&&n--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(n,i),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const s=this.eTypes[t].getValue(),i=this.translate(s);n=this.filterPlaceholder({filterOptionKey:s,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,s,i)=>{if(!(t instanceof Oo))return;const a=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",l=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(a,s)),t.setInputAriaLabel(l)})}setElementValue(e,t,n){e instanceof Oo&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Je&&Ze(e.getGui(),t)}setElementDisabled(e,t){e instanceof Je&&wa(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Oo&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const s=this.getNumberOfInputs(t),i=this.getInputs(e);for(let a=0;a<i.length;a++){const l=i[a];l!=null&&n(l,a,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Qe.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,s,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(s),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((s,i,a)=>{a===t&&this.setElementValue(s,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,s)=>{this.setElementValue(t,n===0&&s===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),s=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),a=pN(i,s,n);return a??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,n,t,e))}hasInvalidInputs(){return!1}},vN=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const s=e,a=(s.conditions??[]).map(u=>this.getModelAsString(u)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${n(l,qS[l])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const s=e,i=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:u}=i||{};return a&&l&&u===0?(n(a,l),l):this.conditionToString(s,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},yN=class extends Je{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new IR;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const s=n.defaultOption;t||(this.lastType=s),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(s);this.setEditable(i)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},wN=class extends se{constructor(e){super(),this.params=e,this.eInput=xe,this.onValueChanged=()=>{}}setupGui(e){var s;this.eInput=this.createManagedBean(new lR((s=this.params)==null?void 0:s.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function kR(e){const t=e==null?void 0:e.trim();return t===""?e:t}var bN=class extends yN{constructor(){super(...arguments),this.eFloatingFilterInputContainer=xe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:s,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Yc(e.filterParams),!i){const a=$S(e.filterParams,s),l=Zs(this,this.syncUpWithParentFilter.bind(this),a);n.setValueChangedListener(l)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Fn(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===K.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:s}=this;let i=n.getValue();s.filterParams.trimInput&&(i=kR(i),n.setValue(i,!0)),s.parentFilterInstance(a=>{a==null||a.onFloatingFilterChanged(this.lastType||null,i||null)})}setEditable(e){this.inputSvc.setEditable(e)}},GR=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],NR=class extends vN{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:s,filterTo:i,type:a}=e;return a=="inRange"||n===2?`${s}-${i}`:s!=null?`${s}`:`${a}`}},SN=class extends CN{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const s=t.lastIndexOf(n);return s>=0&&s===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new NR(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(n.filter=s[0]),s.length>1&&(n.filterTo=s[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(s,i,a,l)=>{if(i<l){let u=Qs(s.getValue());t&&this.textFilterParams.trimInput&&(u=kR(u)??null,s.setValue(u,!0)),n.push(u)}}),n}getDefaultFilterOptions(){return GR}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Wt(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const s=this.createManagedBean(new lR);s.addCssClass(`ag-filter-${n}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){const n=s=>this.removeComponents(s,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:s}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,s){const i=e.map(v=>this.formatter(v))||[],a=this.formatter(t),{api:l,colDef:u,column:h,context:f,textFormatter:p}=this.textFilterParams;if(n.type==="blank")return Ky(t);if(n.type==="notBlank")return!Ky(t);const m={api:l,colDef:u,column:h,context:f,node:s.node,data:s.data,filterOption:n.type,value:a,textFormatter:p};return i.some(v=>this.matcher({...m,filterText:v}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},RN=class extends bN{init(e){super.init(e),this.filterModelFormatter=new NR(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return GR}createFloatingFilterInputService(){return this.createManagedBean(new wN)}},xN={moduleName:"ClientSideRowModelFilter",version:Ge,rowModels:["clientSide"],beans:[UG]},EN={moduleName:"FilterCore",version:Ge,beans:[dN],apiFunctions:{isAnyFilterPresent:cN,onFilterChanged:uN},css:[QG],dependsOn:[xN]},DN={moduleName:"FilterValue",version:Ge,beans:[fN]},AN={moduleName:"ColumnFilter",version:Ge,beans:[lN,hN],dynamicBeans:{headerFilterCellCtrl:jG},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:JG,getColumnFilterInstance:eN,destroyFilter:tN,setFilterModel:nN,getFilterModel:sN,getColumnFilterModel:iN,setColumnFilterModel:oN,showColumnFilter:rN},dependsOn:[EN,OR,DN,qG]},B2={moduleName:"TextFilter",version:Ge,dependsOn:[AN],userComponents:{agTextColumnFilter:SN,agTextColumnFloatingFilter:RN}},FN=class extends dO{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},ef=class{constructor(){this.removals=new Set,this.updates=new Map}remove(e){this.removals.add(e),this.updates.delete(e)}update(e){this.updates.has(e)||(this.removals.delete(e),this.updates.set(e,!1))}add(e){this.removals.delete(e),this.updates.set(e,!0)}};function MN(e){if(qe(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const s=t[n],i=n===0,a=n===e.childrenAfterSort.length-1;s.setFirstChild(i),s.lastChild!==a&&(s.lastChild=a,s.dispatchRowEvent("lastChildChanged")),s.childIndex!==n&&(s.childIndex=n,s.dispatchRowEvent("childIndexChanged"))}}function HR(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),MN(e)}var TN=class extends se{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),s=ye(n)&&n.length>0,i=s&&!!e.changedRowNodes&&this.gos.get("deltaSort"),a=n.some(({column:l})=>xn(t.gos)?l.isPrimary()&&l.isRowGroupActive():!!l.getColDef().showRowGroup);this.sort(t,n,s,i,e.changedRowNodes,e.changedPath,a)}sort(e,t,n,s,i,a,l){const{gos:u,colModel:h,rowGroupColsSvc:f,groupHideOpenParentsSvc:p,rowNodeSorter:m}=e,v=u.get("groupMaintainOrder"),y=h.getCols().some(E=>E.isRowGroupActive()),S=h.isPivotMode(),b=u.getCallback("postSortRows"),R=E=>{var T;p==null||p.pullDownGroupDataForHideOpenParents(E.childrenAfterAggFilter,!0);const D=S&&E.leafGroup,A=v&&y&&!E.leafGroup&&!l;let M;if(A){const G=(T=f==null?void 0:f.columns)==null?void 0:T[E.level+1],O=(G==null?void 0:G.getSort())===null,z=E.childrenAfterAggFilter.slice(0);if(E.childrenAfterSort&&!O){const N={};E.childrenAfterSort.forEach((V,_)=>{N[V.id]=_}),z.sort((V,_)=>(N[V.id]??0)-(N[_.id]??0))}M=z}else!n||D?M=E.childrenAfterAggFilter.slice(0):s&&i?M=PN(m,E,i,a,t):M=m.doFullSort(E.childrenAfterAggFilter,t);if(E.childrenAfterSort=M,HR(E),b){const G={nodes:E.childrenAfterSort};b(G)}};a==null||a.forEachChangedNodeDepthFirst(R)}};function PN(e,t,n,s,i){const a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return e.doFullSort(a,i);const u=new Set,h=[],f=n.updates;for(let m=0,v=a.length;m<v;++m){const y=a[m];f.has(y)||s&&!s.canSkip(y)?h.push({currentPos:h.length,rowNode:y}):u.add(y.id)}const p=l.filter(m=>u.has(m.id)).map((m,v)=>({currentPos:v,rowNode:m}));return h.sort((m,v)=>e.compareRowNodes(i,m,v)),LN(e,i,h,p)}function LN(e,t,n,s){const i=[];let a=0,l=0;const u=n.length,h=s.length;for(;a<u&&l<h;){const f=n[a],p=s[l],m=e.compareRowNodes(t,f,p);let v;m<0?(v=f,++a):(v=p,++l),i.push(v.rowNode)}for(;a<u;)i.push(n[a++].rowNode);for(;l<h;)i.push(s[l++].rowNode);return i}var ON=class extends se{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Zs(this,this.onRowHeightChanged.bind(this),100),this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new au(this.beans),this.initRowManager()}initRowManager(){const{gos:e,beans:t,nodeManager:n}=this,s=e.get("treeData"),i=e.get("treeDataChildrenField"),a=i||s;let l;a&&(l=i?t.csrmChildrenTreeNodeSvc:t.csrmPathTreeNodeSvc),l||(l=t.csrmNodeSvc),n!==l&&(n==null||n.deactivate(),this.nodeManager=l),l.activate(this.rootNode)}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var s;const n=(s=t.changeSet)==null?void 0:s.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.shouldSkipSettingDataOnStart?this.refreshModel({step:"group",newData:!0,rowDataUpdated:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&(this.shouldSkipSettingDataOnStart=!0,this.onPropChange(["rowData"]))}ensureRowHeightsValid(e,t,n,s){let i,a=!1;do{i=!1;const l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(t),h=Math.max(l,n),f=Math.min(u,s);for(let p=h;p<=f;p++){const m=this.getRow(p);if(m.rowHeightEstimated){const v=Ic(this.beans,m);m.setRowHeight(v.height),i=!0,a=!0}}i&&this.setRowTopAndRowIndex()}while(i);return a}onPropChange(e){var f,p;if(!this.rootNode)return;const t=this.gos,n=new Set(e),s={step:"nothing",changedProps:n},i=n.has("rowData"),a=n.has("treeData"),u=n.has("treeDataChildrenField")||a&&!t.get("treeDataChildrenField");let h;if(a&&(s.step="group"),(u||i)&&(h=t.get("rowData"),h!=null&&!Array.isArray(h)&&(h=null,me(1))),u&&(i||(h=((f=this.nodeManager)==null?void 0:f.extractRowData())??h),this.initRowManager()),h&&(!u&&this.started&&!this.isEmpty()&&h.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(s.keepRenderedRows=!0,s.animate=!this.gos.get("suppressAnimationFrame"),s.changedRowNodes=new ef,this.nodeManager.setImmutableRowData(s,h)):(s.step="group",s.rowDataUpdated=!0,s.newData=!0,(p=this.beans.selectionSvc)==null||p.reset("rowDataChanged"),this.rowNodesCountReady=!0,this.nodeManager.setNewRowData(h))),s.step==="nothing"){for(const{refreshProps:m,step:v}of this.orderedStages)if(e.some(y=>m.has(y))){s.step=v;break}}s.step!=="nothing"&&this.refreshModel(s)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let n=0;const s=new Set,i=At(this.gos,"normal"),a=this.rowsToDisplay;for(let l=0,u=a.length;l<u;++l){const h=a[l];if(h.id!=null&&s.add(h.id),h.rowHeight==null){const f=Ic(e,h,i,t);h.setRowHeight(f.height,f.estimated)}h.setRowTop(n),h.setRowIndex(l),n+=h.rowHeight}return s}clearRowTopAndRowIndex(e,t){const n=e.active,s=a=>{a&&a.id!=null&&!t.has(a.id)&&a.clearRowTopAndRowIndex()},i=a=>{if(a!==null&&(s(a),s(a.detailNode),s(a.sibling),a.hasChildren()&&a.childrenAfterGroup)){const l=a.level==-1;n&&!l&&!a.expanded||a.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,n=0){var u;const s=this.getRowIndexAtPixel(t),i=this.getRow(s),a=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const l=(u=this.rootNode)==null?void 0:u.allLeafChildren;return l?(e.forEach(h=>{_t(l,h)}),e.forEach((h,f)=>{l.splice(Math.max(s+n,0)+f,0,h)}),e.forEach((h,f)=>{h.sourceRowIndex=f}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:a,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,s=n!=null?this.getRow(n):null;if(!s||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,s),a=this.isHighlightingCurrentPosition(e,s,i),l=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(a||l)&&(this.clearHighlightedRow(),a)||(this.setRowNodeHighlighted(s,i),this.lastHighlightedRow=s)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return"Below"}const{rowTop:n,rowHeight:s}=t;return e-n<s/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;const s=n==="Above"?-1:1;return this.getRow(t.rowIndex+s)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,s=e.sibling?1:0;return(n?n.length:0)+s}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,a=u=>{let h=i[u];if(this.gos.get("groupHideOpenParents"))for(;h.expanded&&h.childrenAfterSort&&h.childrenAfterSort.length>0;)h=h.childrenAfterSort[0];return h.rowIndex},{footerSvc:l}=this.beans;return l?l.getTopDisplayIndex(n,e,i,a):a(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Bo(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Bo(this.gos),s=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Bo(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=!(e!=null&&e.length),n=new TR(!1,this.rootNode);return t&&(n.active=!1),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const t=e.rowNodeTransactions;return t?!t.some(i=>i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0):!1}refreshModel(e){var i,a;if(!this.rootNode)return;const t=e.rowNodeTransactions,n=e.changedPath??(e.changedPath=this.createChangePath(t));if((a=(i=this.nodeManager).refreshModel)==null||a.call(i,e),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.changedRowNodes,n,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(e.changedRowNodes,n);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,s),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,s=!1;const i=[],a=rP(this.gos);return this.forEachNodeAfterFilterAndSort(l=>{if(s)return;if(n&&(l===t||l===e)&&(s=!0,l.group&&a)){i.push(...l.allLeafChildren);return}if(!n){if(l!==t&&l!==e)return;n=!0}if(!l.group||!a){i.push(l);return}}),i}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,s=t.length-1;if(e<=0)return 0;if(Oe(t).rowTop<=e)return t.length-1;let a=-1,l=-1;for(;;){const u=Math.floor((n+s)/2),h=t[u];if(this.isRowInPixel(h,e)||(h.rowTop<e?n=u+1:h.rowTop>e&&(s=u-1),a===n&&l===s))return u;a=n,l=s}}isRowInPixel(e,t){const n=e.rowTop,s=e.rowTop+e.rowHeight;return n<=t&&s>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((s,i)=>e(s,i))}forEachNode(e,t=!1){var n;this.recursivelyWalkNodesAndCallback({nodes:[...((n=this.rootNode)==null?void 0:n.childrenAfterGroup)||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){var n;this.recursivelyWalkNodesAndCallback({nodes:[...((n=this.rootNode)==null?void 0:n.childrenAfterAggFilter)||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){var n;this.recursivelyWalkNodesAndCallback({nodes:[...((n=this.rootNode)==null?void 0:n.childrenAfterSort)||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){const n=this.rootNode;n&&this.recursivelyWalkNodesAndCallback({nodes:[n],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:n,recursionType:s,includeFooterNodes:i}=e;let{index:a}=e;const{footerSvc:l}=this.beans;l==null||l.addNodes(e,t,n,i,this.rootNode,"top");for(let u=0;u<t.length;u++){const h=t[u];if(n(h,a++),h.hasChildren()&&!h.footer){let f=null;switch(s){case 0:f=h.childrenAfterGroup;break;case 1:f=h.childrenAfterAggFilter;break;case 2:f=h.childrenAfterSort;break;case 3:f=h.leafGroup?null:h.childrenAfterSort;break}f&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...f],callback:n,recursionType:s,index:a,includeFooterNodes:i}))}}return l==null||l.addNodes(e,t,n,i,this.rootNode,"bottom"),a}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:n}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(s=>{n==null||n.pullDownGroupDataForHideOpenParents(s.childrenAfterAggFilter,!0),s.childrenAfterSort=s.childrenAfterAggFilter.slice(0),HR(s)}),n==null||n.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,n,s,i){const a=this.nodeManager.treeData,l=this.rootNode;if(!a){const u=this.groupStage;if(u)u.execute({rowNode:l,changedPath:n,changedRowNodes:t,rowNodeTransactions:e,rowNodesOrderChanged:s,afterColumnsChanged:i});else{const h=l.sibling;l.childrenAfterGroup=l.allLeafChildren,h&&(h.childrenAfterGroup=l.childrenAfterGroup),l.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,LR(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(Kc)==0){let n;return this.forEachNode(s=>{s.id===e&&(n=s)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var i,a;(i=this.valueCache)==null||i.onDataChanged();const e=[],t=[],n=new ef;let s=!1;(a=this.rowDataTransactionBatch)==null||a.forEach(l=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:u,rowsInserted:h}=this.nodeManager.updateRowData(l.rowDataTransaction,n);h&&(s=!0),t.push(u),l.callback&&e.push(l.callback.bind(null,u))}),this.commitTransactions(t,s,n),e.length>0&&window.setTimeout(()=>{e.forEach(l=>l())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var i;(i=this.valueCache)==null||i.onDataChanged(),this.rowNodesCountReady=!0;const t=new ef,{rowNodeTransaction:n,rowsInserted:s}=this.nodeManager.updateRowData(e,t);return this.commitTransactions([n],s,t),n}commitTransactions(e,t,n){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:n,changedPath:this.createChangePath(e)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const s of n)s.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=Ff,this.rowsToDisplay=Ff}},z2={moduleName:"ClientSideRowModel",version:Ge,rowModels:["clientSide"],beans:[FN,ON,TN],dependsOn:[MR]},IN=class extends se{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,s=n.cellClassRules,i=this.getCellClassParams(e,n);XS(this.beans.expressionSvc,s===this.cellClassRules?void 0:this.cellClassRules,s,i,a=>t.addOrRemoveCssClass(a,!0),a=>t.addOrRemoveCssClass(a,!1)),this.cellClassRules=s}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let s;if(typeof n=="function"){const i=this.getCellClassParams(e,t);s=n(i)}else s=n;s&&this.cellComp.setUserStyles(s)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,s=this.getCellClassParams(e,n);this.staticClasses.forEach(a=>t.addOrRemoveCssClass(a,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,s);this.staticClasses=i,i.forEach(a=>t.addOrRemoveCssClass(a,!0))}getCellClassParams(e,t){const{value:n,rowNode:s}=this.cellCtrl;return this.beans.gos.addGridCommonParams({value:n,data:s.data,node:s,colDef:t,column:e,rowIndex:s.rowIndex})}},kN=class extends se{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,s){XS(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,s),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let s;return typeof n=="function"?s=n(t):s=n,typeof s=="string"&&(s=[s]),s||[]}createCellCustomStyleFeature(e,t){return new IN(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},V2={moduleName:"CellStyle",version:Ge,beans:[kN]},GN=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let n=e[0],s=e[1],i=e[2],a=e[3];n=this.ff(n,s,i,a,t[0],7,-680876936),a=this.ff(a,n,s,i,t[1],12,-389564586),i=this.ff(i,a,n,s,t[2],17,606105819),s=this.ff(s,i,a,n,t[3],22,-1044525330),n=this.ff(n,s,i,a,t[4],7,-176418897),a=this.ff(a,n,s,i,t[5],12,1200080426),i=this.ff(i,a,n,s,t[6],17,-1473231341),s=this.ff(s,i,a,n,t[7],22,-45705983),n=this.ff(n,s,i,a,t[8],7,1770035416),a=this.ff(a,n,s,i,t[9],12,-1958414417),i=this.ff(i,a,n,s,t[10],17,-42063),s=this.ff(s,i,a,n,t[11],22,-1990404162),n=this.ff(n,s,i,a,t[12],7,1804603682),a=this.ff(a,n,s,i,t[13],12,-40341101),i=this.ff(i,a,n,s,t[14],17,-1502002290),s=this.ff(s,i,a,n,t[15],22,1236535329),n=this.gg(n,s,i,a,t[1],5,-165796510),a=this.gg(a,n,s,i,t[6],9,-1069501632),i=this.gg(i,a,n,s,t[11],14,643717713),s=this.gg(s,i,a,n,t[0],20,-373897302),n=this.gg(n,s,i,a,t[5],5,-701558691),a=this.gg(a,n,s,i,t[10],9,38016083),i=this.gg(i,a,n,s,t[15],14,-660478335),s=this.gg(s,i,a,n,t[4],20,-405537848),n=this.gg(n,s,i,a,t[9],5,568446438),a=this.gg(a,n,s,i,t[14],9,-1019803690),i=this.gg(i,a,n,s,t[3],14,-187363961),s=this.gg(s,i,a,n,t[8],20,1163531501),n=this.gg(n,s,i,a,t[13],5,-1444681467),a=this.gg(a,n,s,i,t[2],9,-51403784),i=this.gg(i,a,n,s,t[7],14,1735328473),s=this.gg(s,i,a,n,t[12],20,-1926607734),n=this.hh(n,s,i,a,t[5],4,-378558),a=this.hh(a,n,s,i,t[8],11,-2022574463),i=this.hh(i,a,n,s,t[11],16,1839030562),s=this.hh(s,i,a,n,t[14],23,-35309556),n=this.hh(n,s,i,a,t[1],4,-1530992060),a=this.hh(a,n,s,i,t[4],11,1272893353),i=this.hh(i,a,n,s,t[7],16,-155497632),s=this.hh(s,i,a,n,t[10],23,-1094730640),n=this.hh(n,s,i,a,t[13],4,681279174),a=this.hh(a,n,s,i,t[0],11,-358537222),i=this.hh(i,a,n,s,t[3],16,-722521979),s=this.hh(s,i,a,n,t[6],23,76029189),n=this.hh(n,s,i,a,t[9],4,-640364487),a=this.hh(a,n,s,i,t[12],11,-421815835),i=this.hh(i,a,n,s,t[15],16,530742520),s=this.hh(s,i,a,n,t[2],23,-995338651),n=this.ii(n,s,i,a,t[0],6,-198630844),a=this.ii(a,n,s,i,t[7],10,1126891415),i=this.ii(i,a,n,s,t[14],15,-1416354905),s=this.ii(s,i,a,n,t[5],21,-57434055),n=this.ii(n,s,i,a,t[12],6,1700485571),a=this.ii(a,n,s,i,t[3],10,-1894986606),i=this.ii(i,a,n,s,t[10],15,-1051523),s=this.ii(s,i,a,n,t[1],21,-2054922799),n=this.ii(n,s,i,a,t[8],6,1873313359),a=this.ii(a,n,s,i,t[15],10,-30611744),i=this.ii(i,a,n,s,t[6],15,-1560198380),s=this.ii(s,i,a,n,t[13],21,1309151649),n=this.ii(n,s,i,a,t[4],6,-145523070),a=this.ii(a,n,s,i,t[11],10,-1120210379),i=this.ii(i,a,n,s,t[2],15,718787259),s=this.ii(s,i,a,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(i,e[2]),e[3]=this.add32(a,e[3])}cmn(e,t,n,s,i,a){return t=this.add32(this.add32(t,e),this.add32(s,a)),this.add32(t<<i|t>>>32-i,n)}ff(e,t,n,s,i,a,l){return this.cmn(t&n|~t&s,e,t,i,a,l)}gg(e,t,n,s,i,a,l){return this.cmn(t&s|n&~s,e,t,i,a,l)}hh(e,t,n,s,i,a,l){return this.cmn(t^n^s,e,t,i,a,l)}ii(e,t,n,s,i,a,l){return this.cmn(n^(t|~s),e,t,i,a,l)}md51(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=e.length;s+=64)this.md5cycle(n,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)i[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(i[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(n,i),s=0;s<16;s++)i[s]=0;return i[14]=t*8,this.md5cycle(n,i),n}md5blk(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let n="",s=0;for(;s<4;s++)n+=t[e>>s*8+4&15]+t[e>>s*8&15];return n}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}},dc={"01":"GRID","02":"CHARTS","0102":"BOTH"},Yy="https://ag-grid.com/licensing/",BR=class Bt{constructor(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new GN,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(Bt.licenseKey),n=`AG Grid ${t.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,s=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(n);else if(t.expired){const i=Bt.getGridReleaseDate(),a=Bt.formatDate(i);this.outputExpiredKey(t.expiry,a,n,s)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,n,s):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,n,s)}static extractExpiry(t){const n=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(Bt.decode(n),10))}static extractLicenseComponents(t){let n=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(n=n.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const s=n.length-32,i=n.substring(s),a=n.substring(0,s),[l,u,h]=Bt.extractBracketedInformation(n);return{md5:i,license:a,version:l,isTrial:u,type:h}}getLicenseDetails(t){const n=Bt.chartsLicenseManager?"BOTH":"GRID";if(!(t!=null&&t.length))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:n};const s=Bt.getGridReleaseDate(),{md5:i,license:a,version:l,isTrial:u,type:h}=Bt.extractLicenseComponents(t);let f=i===this.md5.md5(a)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,p,m,v=null,y=!1,S;function b(){p=v<new Date,m=void 0}if(f&&(v=Bt.extractExpiry(a),f=!isNaN(v.getTime()),f))switch(m=s>v,l){case"legacy":case"2":{u&&b();break}case"3":h!=null&&h.length?(S=h,h!==dc["01"]&&h!==dc["0102"]||n==="BOTH"&&S!=="BOTH"?(f=!1,y=!0):u&&b()):f=!1}return f?{licenseKey:t,valid:f,expiry:Bt.formatDate(v),expired:m,version:l,isTrial:u,trialExpired:p,incorrectLicenseType:y,currentLicenseType:n,suppliedLicenseType:S}:{licenseKey:t,valid:f,incorrectLicenseType:y,currentLicenseType:n,suppliedLicenseType:S}}isDisplayWatermark(){var t;return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!((t=this.watermarkMessage)!=null&&t.length)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const n=(this.document.defaultView||window).location,{hostname:s=""}=n;return s}isForceWatermark(){const n=(this.document.defaultView||window).location,{pathname:s}=n;return s?s.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=t.getDate(),i=t.getMonth(),a=t.getFullYear();return s+" "+n[i]+" "+a}static getGridReleaseDate(){return new Date(parseInt(Bt.decode(Bt.RELEASE_INFORMATION),10))}static decode(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",i,a,l,u,h,f,p,m=0;const v=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;m<v.length;)u=n.indexOf(v.charAt(m++)),h=n.indexOf(v.charAt(m++)),f=n.indexOf(v.charAt(m++)),p=n.indexOf(v.charAt(m++)),i=u<<2|h>>4,a=(h&15)<<4|f>>2,l=(f&3)<<6|p,s=s+String.fromCharCode(i),f!=64&&(s=s+String.fromCharCode(a)),p!=64&&(s=s+String.fromCharCode(l));return s=Bt.utf8_decode(s),s}static utf8_decode(t){t=t.replace(/rn/g,"n");let n="";for(let s=0;s<t.length;s++){const i=t.charCodeAt(s);i<128?n+=String.fromCharCode(i):i>127&&i<2048?(n+=String.fromCharCode(i>>6|192),n+=String.fromCharCode(i&63|128)):(n+=String.fromCharCode(i>>12|224),n+=String.fromCharCode(i>>6&63|128),n+=String.fromCharCode(i&63|128))}return n}static setChartsLicenseManager(t){this.chartsLicenseManager=t}static setLicenseKey(t){var n;this.licenseKey=t,(n=this.chartsLicenseManager)==null||n.setLicenseKey(t,!0)}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const n=t.match(/\[(.*?)\]/g).map(u=>u.replace("[","").replace("]",""));if(!n||n.length===0)return["legacy",!1,void 0];const s=n.filter(u=>u==="TRIAL").length===1,i=n.filter(u=>u.indexOf("v")===0)[0],a=i?i.replace("v",""):"legacy",l=dc[n.filter(u=>dc[u])[0]];return[a,s,l]}centerPadAndOutput(t){const n=this.totalMessageLength-t.length;console.error(t.padStart(n/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,n="*",s=""){console.error(t.padEnd(this.totalMessageLength-s.length,n)+s)}outputInvalidLicenseKey(t,n,s){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${s} only and does not cover you for ${n}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Yy}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Yy}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,n,s){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${s} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,n,s,i){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${i} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${n}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};BR.RELEASE_INFORMATION="MTczNjc2MzczNzA3Mg==";var hc=BR,NN='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}',HN=class extends Je{constructor(){super(`<div class="ag-watermark">
                <div data-ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`),this.eLicenseTextRef=xe,this.registerCSS(NN)}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}},BN={selector:"AG-WATERMARK",component:HN},zN=class extends se{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new hc(Ct(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new hc(null).getLicenseDetails(e)}getWatermarkSelector(){return BN}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){hc.setLicenseKey(e)}static setChartsLicenseManager(e){hc.setChartsLicenseManager(e)}},Kn="33.0.4",ir={moduleName:"EnterpriseCore",version:Kn,beans:[zN],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]};function VN(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
            <div class="ag-virtual-list-container ag-${e}-virtual-list-container" data-ref="eContainer"></div>
        </div>`}var WN=class extends wO{constructor(e){super(VN((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=xe,this.awaitStableCallbacks=[];const{cssIdentifier:t="default",ariaRole:n="listbox",listName:s}=e||{};this.cssIdentifier=t,this.ariaRole=n,this.listName=s}wireBeans(e){this.environment=e.environment}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(e){e.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}setAriaProperties(){const t=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;Wt(n,this.ariaRole),Vi(n,t)}addResizeObserver(){const e=()=>_n(this.beans,()=>this.drawVirtualRows()),t=bs(this.beans,this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=bT(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case K.UP:case K.DOWN:e.preventDefault(),this.navigate(e.key===K.UP);break;case K.PAGE_HOME:case K.PAGE_END:case K.PAGE_UP:case K.PAGE_DOWN:this.navigateToPage(e.key)!==null&&e.preventDefault();break}}onTabKeyDown(e){Yo(e),this.forceFocusOutOfContainer(e.shiftKey)}navigate(e){if(this.lastFocusedRowIndex==null)return;const t=this.lastFocusedRowIndex+(e?-1:1);t<0||t>=this.model.getRowCount()||this.focusRow(t)}navigateToPage(e,t="focused"){let n=!1;t==="focused"&&(t=this.getLastFocusedRow(),n=!0);const s=this.model.getRowCount()-1;let i=-1;return e===K.PAGE_HOME?i=0:e===K.PAGE_END?i=s:e===K.PAGE_DOWN?i=Math.min(t+this.pageSize,s):e===K.PAGE_UP&&(i=Math.max(t-this.pageSize,0)),i===-1?null:(n?this.focusRow(i):this.ensureIndexVisible(i),i)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),_n(this.beans,()=>{if(this.isScrolling=!1,!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()}))}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,n)=>e(t.rowComponent,n))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(e,t=!0){const n=this.model.getRowCount();if(typeof e!="number"||e<0||e>=n)return me(229,{index:e}),!1;const s=e*this.rowHeight,i=s+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,h=l+u,f=t?0:this.rowHeight,p=l>s+f,m=h<i-f;if(p)return a.scrollTop=s,!0;if(m){const v=i-u;return a.scrollTop=v,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,this.awaitStable(()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}awaitStable(e){if(this.awaitStableCallbacks.push(e),this.awaitStableCallbacks.length>1)return;const t=this.model.getRowCount();Qb(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{if(!this.isAlive())return;const n=this.awaitStableCallbacks;this.awaitStableCallbacks=[],n.forEach(s=>s())})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),n=t.scrollTop,s=n+t.offsetHeight,i=Math.floor(n/this.rowHeight),a=Math.floor(s/this.rowHeight);this.pageSize=Math.floor((s-n)/this.rowHeight),this.ensureRowsRendered(i,a,e)}ensureRowsRendered(e,t,n){this.renderedRows.forEach((s,i)=>{(i<e||i>t)&&i!==this.lastFocusedRowIndex&&this.removeRow(i)}),n&&this.refreshRows();for(let s=e;s<=t;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)}insertRow(e){const t=this.model.getRow(e),n=document.createElement("div");n.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),Wt(n,this.ariaRole==="tree"?"treeitem":"option"),og(n,this.model.getRowCount()),rg(n,e+1),n.setAttribute("tabindex","-1"),n.style.height=`${this.rowHeight}px`,n.style.top=`${this.rowHeight*e}px`;const s=this.componentCreator(t,n);s.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),n.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(e,{rowComponent:s,eDiv:n,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,n)=>{var s,i;if(n>=e)this.removeRow(n);else{const a=this.model.getRow(n);(i=(s=this.model).areRowsEqual)!=null&&i.call(s,t.value,a)?this.componentUpdater(a,t.rowComponent):this.removeRow(n)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}};function qy(e,t,n,s){const i=t.getCol(n);e.groupData||(e.groupData={});const a=i.getColId(),l=e.groupData[a];l!==s&&(e.groupData[a]=s,e.dispatchCellChangedEvent(i,s,l))}function _N(e,t,n){var s;e.group!==n&&(e.group,e.group=n,e.updateHasChildren(),(s=t.selectionSvc)==null||s.updateRowSelectable(e),e.dispatchRowEvent("groupChanged"))}function UN(e,t){const{gos:n,rowGroupColsSvc:s}=t;if(!s||!e)return!1;const i=n.get("groupLockGroupColumns");if(!e.isRowGroupActive()||i===0)return!1;if(i===-1)return!0;const a=s.columns.findIndex(l=>l.getColId()===e.getColId());return i>a}var jN=".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:1px solid var(--ag-border-color)}";function $y(e,t,n){e==null||t==null||e.splice(n,0,...t)}var KN=class extends Je{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),Wt(this.ePillDropList,"listbox"),this.registerCSS(jN)}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:t,dragSource:n}=e;return t.contains(n.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Fn(this.getGui()),Fn(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new Wi(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new YS(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),Vi(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(e){const t=Ii(this.getFocusableElement(),null,!0),n=t.length;if(n===0)return;const{shiftKey:s}=e,i=vt(this.beans),a=i===t[0],l=i===Oe(t);n===1||a&&s||l&&!s||t[s?0:n-1].focus()}onKeyDown(e){const{key:t}=e,n=!this.horizontal;let s=t===K.DOWN,i=t===K.UP;if(!n){const l=this.gos.get("enableRtl");s=!l&&t===K.RIGHT||l&&t===K.LEFT,i=!l&&t===K.LEFT||l&&t===K.RIGHT}if(!s&&!i)return;const a=gs(this.beans,this.getFocusableElement(),!1,i);a&&(e.preventDefault(),a.focus())}addElementClasses(e,t){t=t?`-${t}`:"";const n=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${n}${t}`)}setupDropTarget(){var e;this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},(e=this.beans.dragAndDrop)==null||e.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const t=this.getNewInsertIndex(e);if(t<0)return!1;const n=this.minimumAllowedNewInsertIndex(),s=Math.max(n,t),i=s!==this.insertIndex;return i&&(this.insertIndex=s),i}getNewInsertIndex(e){const t=e.event,n=this.horizontal?t.clientX:t.clientY,s=this.childPillComponents.map(a=>a.getGui().getBoundingClientRect()),i=s.findIndex(a=>this.horizontal?a.right>n&&a.left<n:a.top<n&&a.bottom>n);if(i===-1){const a=this.gos.get("enableRtl");return s.every(h=>n>(this.horizontal?h.right:h.bottom))?a&&this.horizontal?0:this.childPillComponents.length:s.every(h=>n<(this.horizontal?h.left:h.top))?a&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=i?i+1:i}checkDragStartedBySelf(e){this.state==="notDragging"&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const t=this.getItems(e.dragSource.getDragItem());this.state="newItemsIn";const n=t.filter(i=>this.isItemDroppable(i,e)),s=n.every(i=>this.childPillComponents.map(a=>a.getItem()).indexOf(i)!==-1);if(n.length!==0){if(this.potentialDndItems=n,s){this.state="notDragging";return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){var e;return!!((e=this.potentialDndItems)!=null&&e.length)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state==="rearrangeItems"){const t=this.getItems(e.dragSource.getDragItem());this.removeItems(t)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(e){this.isPotentialDndItems()&&(this.state==="newItemsIn"&&this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&(this.state==="newItemsIn"?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(e){const t=this.getExistingItems().filter(n=>!e.includes(n));this.updateItems(t)}addItems(e){if(!e)return;const t=this.getExistingItems().slice(),n=e.filter(s=>t.indexOf(s)<0);$y(t,n,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const t=this.getNonGhostItems().slice();return $y(t,e,this.insertIndex),Bn(t,this.getExistingItems())?!1:(this.updateItems(t),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,t=this.resizeEnabled,n=this.getFocusedItem(),{eGridDiv:s}=this.beans;let i=gs(this.beans,s);i||(i=gs(this.beans,s,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.horizontal||(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),NS()&&this.restoreFocus(n,i)}getFocusedItem(){const e=this.getGui(),t=vt(this.beans);return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}restoreFocus(e,t){const n=this.getGui(),s=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;s.length===0&&t.focus();const i=Math.min(s.length-1,e),a=s[i];a&&a.focus()}focusList(e){const t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(t=>!this.potentialDndItems.includes(t)):e}addItemsToGui(){const t=this.getNonGhostItems().map(n=>this.createItemComponent(n,!1));if(this.isPotentialDndItems()){const n=this.potentialDndItems.map(s=>this.createItemComponent(s,!0));this.insertIndex>=t.length?t.push(...n):t.splice(this.insertIndex,0,...n)}this.appendChild(this.ePillDropList),t.forEach((n,s)=>{s>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(n.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,t)=>{const n=e.getGui();rg(n,t+1),og(n,this.childPillComponents.length)})}createItemComponent(e,t){const n=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return n.addEventListener("columnRemove",this.removeItems.bind(this,[e])),this.createBean(n),this.guiDestroyFunctions.push(()=>this.destroyBean(n)),t||this.childPillComponents.push(n),n}addIconAndTitleToGui(){const{title:e,icon:t}=this.params;if(!e||!t)return;const n=document.createElement("div");if(ig(n,!0),this.addElementClasses(n,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),n.appendChild(t),!this.horizontal){const s=document.createElement("span");this.addElementClasses(s,"title"),s.innerHTML=e,n.appendChild(s)}this.appendChild(n)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const t=document.createElement("span");t.innerHTML=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){const t=this.gos.get("enableRtl"),n=Cn(t?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}}},YN=class extends Je{constructor(e,t,n,s,i){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=n,this.template=s,this.agComponents=i,this.eText=xe,this.eDragHandle=xe,this.eButton=xe}postConstruct(){this.setTemplate(this.template??`
            <span role="option">
              <span data-ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
              <span data-ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
              <span data-ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
            </span>`,this.agComponents);const e=this.getGui(),{beans:t,eDragHandle:n,eText:s,eButton:i}=this;this.addElementClasses(e),this.addElementClasses(n,"drag-handle"),this.addElementClasses(s,"text"),this.addElementClasses(i,"button"),n.appendChild(Cn("columnDrag",t)),i.appendChild(Cn("cancel",t)),this.tooltipFeature=this.createOptionalManagedBean(t.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),Vi(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){const n=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(n)}}setupTooltip(){const e=()=>{var t;return(t=this.tooltipFeature)==null?void 0:t.setTooltipAndRefresh(this.getTooltip())};e(),this.addManagedEventListeners({newColumnsLoaded:e})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){const{beans:{dragAndDrop:e},eDragHandle:t}=this,n=this.createGetDragItem(),s=this.getDefaultIconName(),i={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>s,getDragItem:n,dragItemName:this.getDisplayName()};e==null||e.addDragSource(i,!0),this.addDestroyFunc(()=>e==null?void 0:e.removeDragSource(i))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Ze(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:"columnRemove"};this.addGuiEventListener("keydown",n=>this.onKeyDown(n)),this.addManagedElementListeners(this.eButton,{click:n=>{this.dispatchLocalEvent(e),n.stopPropagation()}});const t=new Po(this.eButton);this.addManagedListeners(t,{tap:()=>this.dispatchLocalEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}onKeyDown(e){e.key===K.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),t=ps(e);this.eText.innerHTML=t}addElementClasses(e,t){t=t?`-${t}`:"";const n=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${n}-cell${t}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}},qN=class extends YN{constructor(e,t,n,s,i){super(t,n,i),this.column=e,this.dropZonePurpose=s,this.eSortIndicator=xe,this.popupShowing=!1}postConstruct(){const{sortSvc:e,colNames:t}=this.beans;this.template=`
            <span role="option">
                <span data-ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
                <span data-ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
                ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
                <span data-ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
            </span>
        `,e&&(this.agComponents=[e.getSortIndicatorSelector()]),this.displayName=t.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),e&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()})}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(e,t){const n=this.gos.get("rowGroupPanelSuppressSort"),s=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!s){const i=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");e.push(i)}if(this.isGroupingZone()&&this.column.isSortable()&&!n){const i=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");e.push(i)}super.addAdditionalAriaInstructions(e,t)}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){const e=this.getLocaleTextFunc(),{name:t,aggFuncName:n}=this.getColumnAndAggFuncName(),s=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),i={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},a=this.column.getSort(),l=this.gos.get("rowGroupPanelSuppressSort");return[n&&`${n}${s}`,t,this.isGroupingZone()&&!l&&a&&`, ${i[a]}`].filter(u=>!!u).join("")}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const n=this.column.getAggFunc(),s=typeof n=="string"?n:"agg";t=this.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:t}}setupSort(){if(!(!this.column.isSortable()||!this.isGroupingZone())&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const e=t=>{t.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,t)};this.addGuiEventListener("click",e),this.addGuiEventListener("keydown",t=>{t.key===K.ENTER&&this.isGroupingZone()&&e(t)})}}getDefaultIconName(){return"hide"}createGetDragItem(){const{column:e}=this;return()=>{const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(e){super.onKeyDown(e),e.key===K.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName();return this.isAggregationZone()?`${t}(${e})`:e}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const{aggFuncSvc:e,popupSvc:t}=this.beans,n=new WN({cssIdentifier:"select-agg-func"}),s=e.getFuncNames(this.column),i=this.getGui(),a=n.getGui();n.setModel({getRow:function(v){return s[v]},getRowCount:function(){return s.length}}),this.createBean(n);const l=jo('<div class="ag-select-agg-func-popup"></div>');l.style.top="0px",l.style.left="0px",l.appendChild(a),l.style.width=`${i.clientWidth}px`;const[u]=this.addManagedElementListeners(l,{focusout:v=>{!l.contains(v.relatedTarget)&&p&&p.hideFunc()}}),h=v=>{this.destroyBean(n),this.popupShowing=!1,(v==null?void 0:v.key)==="Escape"&&i.focus(),u&&u()},f=this.getLocaleTextFunc(),p=t.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,ariaLabel:f("ariaLabelAggregationFunction","Aggregation Function")});p&&n.setComponentCreator(this.createAggSelect.bind(this,p.hideFunc)),n.addGuiEventListener("keydown",v=>{if(v.key===K.ENTER||v.key===K.SPACE){const y=n.getLastFocusedRow();if(y==null)return;const S=n.getComponentAt(y);S&&S.selectItem()}}),t.positionPopupByComponent({type:"aggFuncSelect",eventSource:i,ePopup:l,keepWithinBounds:!0,column:this.column,position:"under"}),n.refresh();let m=s.findIndex(v=>v===this.column.getAggFunc());m===-1&&(m=0),n.focusRow(m)}createAggSelect(e,t){const n=()=>{var u,h;e(),this.getGui().focus(),(h=(u=this.beans.valueColsSvc)==null?void 0:u.setColumnAggFunc)==null||h.call(u,this.column,t,"toolPanelDragAndDrop")},s=this.getLocaleTextFunc(),i=t.toString(),a=s(i,i);return new $N(n,a)}isGroupingAndLocked(){return this.isGroupingZone()&&UN(this.column,this.beans)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}getDragSourceType(){return jc.ToolPanel}destroy(){super.destroy(),this.column=null}},$N=class extends Je{constructor(e,t){super('<div class="ag-select-agg-func-item"/>'),this.selectItem=e,this.getGui().innerText=t,this.addGuiEventListener("click",this.selectItem)}},zR=class extends KN{constructor(e,t){super(e),this.dropZonePurpose=t,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(e){super.init(e),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(e){return e.columns??[]}isInterestedIn(e){return e===jc.HeaderCell||e===jc.ToolPanel}minimumAllowedNewInsertIndex(){const{gos:e,rowGroupColsSvc:t}=this.beans,n=e.get("groupLockGroupColumns"),s=(t==null?void 0:t.columns.length)??0;return n===-1?s:Math.min(n,s)}showOrHideColumnOnExit(e){return this.isRowGroupPanel()&&cS(this.gos,!0)&&!e.fromNudge}handleDragEnterEnd(e){if(this.showOrHideColumnOnExit(e)){const s=e.dragSource.getDragItem().columns;this.setColumnsVisible(s,!1,"uiColumnDragged")}}handleDragLeaveEnd(e){if(this.showOrHideColumnOnExit(e)){const n=e.dragSource.getDragItem();this.setColumnsVisible(n.columns,!0,"uiColumnDragged")}}setColumnsVisible(e,t,n){if(e){const s=e.filter(i=>!i.getColDef().lockVisible);this.beans.colModel.setColsVisible(s,t,n)}}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}createPillComponent(e,t,n,s){return new qN(e,t,n,this.dropZonePurpose,s)}},XN=class extends zR{constructor(e){super(e,"pivot")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),n=e("pivots","Column Labels");super.init({icon:Cn("pivotPanel",this.beans,null),emptyMessage:t,title:n}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.beans.colModel,t=e.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":{const n=e.isPivotActive();this.setDisplayed(t&&n);break}default:this.setDisplayed(!1);break}else this.setDisplayed(t)}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.pivotColsSvc)==null||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){var e;return((e=this.beans.pivotColsSvc)==null?void 0:e.columns)??[]}},ZN=class extends zR{constructor(e){super(e,"rowGroup")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=e("groups","Row Groups");super.init({icon:Cn("rowGroupPanel",this.beans,null),emptyMessage:t,title:n}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.rowGroupColsSvc)==null||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){var e;return((e=this.beans.rowGroupColsSvc)==null?void 0:e.columns)??[]}},QN=class extends se{constructor(){super(...arguments),this.beanName="aggColNameSvc"}getHeaderName(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const{valueColsSvc:n,colModel:s,rowGroupColsSvc:i}=this.beans,a=e.getColDef().pivotValueColumn,l=ye(a);let u=null,h;if(l){const f=(n==null?void 0:n.columns)??[],p=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&f.length===1,m=e.getColDef().pivotTotalColumnIds!==void 0;if(p&&!m)return t;u=a?a.getAggFunc():null,h=!0}else{const f=e.isValueActive(),p=s.isPivotMode()||(i==null?void 0:i.columns.length)!==0;f&&p?(u=e.getAggFunc(),h=!0):h=!1}if(h){const f=typeof u=="string"?u:"func";return`${this.getLocaleTextFunc()(f,f)}(${t})`}return t}},JN={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},eH=class extends se{constructor(){super(...arguments),this.beanName="aggFuncSvc",this.aggFuncsMap={},this.initialised=!1}postConstruct(){this.init()}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gos.get("aggFuncs")))}initialiseWithDefaultAggregations(){const e=this.aggFuncsMap;e.sum=tH,e.first=nH,e.last=sH,e.min=iH,e.max=oH,e.count=rH,e.avg=aH,this.initialised=!0}isAggFuncPossible(e,t){const s=this.getFuncNames(e).includes(t),i=ye(this.aggFuncsMap[t]);return s&&i}getDefaultFuncLabel(e){return JN[e]??e}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if(ye(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,"sum"))return"sum";const n=this.getFuncNames(e);return n!=null&&n.length?n[0]:null}addAggFuncs(e){this.init(),e&&Object.entries(e).forEach(([t,n])=>{this.aggFuncsMap[t]=n})}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return t??Object.keys(this.aggFuncsMap).sort()}clear(){this.aggFuncsMap={}}};function tH(e){const{values:t}=e;let n=null;for(let s=0;s<t.length;s++){const i=t[s];typeof i=="number"?n===null?n=i:n+=typeof n=="number"?i:BigInt(i):typeof i=="bigint"&&(n===null?n=i:n=(typeof n=="bigint"?n:BigInt(n))+i)}return n}function nH(e){return e.values.length>0?e.values[0]:null}function sH(e){return e.values.length>0?Oe(e.values):null}function iH(e){const{values:t}=e;let n=null;for(let s=0;s<t.length;s++){const i=t[s];(typeof i=="number"||typeof i=="bigint")&&(n===null||n>i)&&(n=i)}return n}function oH(e){const{values:t}=e;let n=null;for(let s=0;s<t.length;s++){const i=t[s];(typeof i=="number"||typeof i=="bigint")&&(n===null||n<i)&&(n=i)}return n}function rH(e){var i,a;const{values:t}=e;let n=0;for(let l=0;l<t.length;l++){const u=t[l];n+=u!=null&&typeof u.value=="number"?u.value:1}const s=(a=(i=e.rowNode)==null?void 0:i.aggData)==null?void 0:a[e.column.getColId()];return s&&s.value===n?s:{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function aH(e){var l,u,h;const{values:t}=e;let n=0,s=0;for(let f=0;f<t.length;f++){const p=t[f];let m=null;typeof p=="number"||typeof p=="bigint"?(m=p,s++):p!=null&&(typeof p.value=="number"||typeof p.value=="bigint")&&typeof p.count=="number"&&(m=p.value*(typeof p.value=="number"?p.count:BigInt(p.count)),s+=p.count),typeof m=="number"?n+=typeof n=="number"?m:BigInt(m):typeof m=="bigint"&&(n=(typeof n=="bigint"?n:BigInt(n))+m)}let i=null;s>0&&(i=n/(typeof n=="number"?s:BigInt(s)));const a=(h=(l=e.rowNode)==null?void 0:l.aggData)==null?void 0:h[(u=e.column)==null?void 0:u.getColId()];return a&&a.count===s&&a.value===i?a:{count:s,value:i,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}function lH(e,t){e.aggFuncSvc&&e.aggFuncSvc.addAggFuncs(t)}function cH(e){e.aggFuncSvc&&e.aggFuncSvc.clear()}function uH(e,t,n){var s,i;(i=(s=e.valueColsSvc)==null?void 0:s.setColumnAggFunc)==null||i.call(s,t,n,"api")}var dH=class extends se{constructor(){super(...arguments),this.beanName="aggStage",this.refreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","suppressAggFilteredOnly","grandTotalRow"]),this.step="aggregate"}wireBeans(e){this.colModel=e.colModel,this.aggFuncSvc=e.aggFuncSvc,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotResultCols=e.pivotResultCols,this.valueSvc=e.valueSvc}execute(e){var i,a,l;const t=!((a=(i=this.valueColsSvc)==null?void 0:i.columns)!=null&&a.length),n=!this.gos.getCallback("getGroupRowAgg");if(t&&n&&((l=e.changedPath)!=null&&l.active))return;const s=this.createAggDetails(e);this.recursivelyCreateAggData(s)}createAggDetails(e){var a;const t=this.colModel.isPivotActive(),n=(a=this.valueColsSvc)==null?void 0:a.columns,s=t&&this.pivotColsSvc?this.pivotColsSvc.columns:[];return{alwaysAggregateAtRootLevel:this.gos.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:!!ru(this.gos),changedPath:e.changedPath,valueColumns:n??[],pivotColumns:s,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return Sa(this.gos)!==void 0||this.gos.get("suppressAggFilteredOnly")}recursivelyCreateAggData(e){const t=n=>{if(!n.hasChildren()){n.aggData&&this.setAggData(n,null);return}if(n.level===-1&&!e.groupIncludeTotalFooter){const a=!this.colModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&a){this.setAggData(n,null);return}}this.aggregateRowNode(n,e)};e.changedPath.forEachChangedNodeDepthFirst(t,!0)}aggregateRowNode(e,t){const n=t.valueColumns.length===0,s=t.pivotColumns.length===0;let i;t.userAggFunc?i=t.userAggFunc({nodes:e.childrenAfterFilter}):n?i=null:s?i=this.aggregateRowNodeUsingValuesOnly(e,t):i=this.aggregateRowNodeUsingValuesAndPivot(e),this.setAggData(e,i),e.sibling&&this.setAggData(e.sibling,i)}aggregateRowNodeUsingValuesAndPivot(e){var i,a;const t={},n=((a=(i=this.pivotResultCols)==null?void 0:i.getPivotResultCols())==null?void 0:a.list)??[];let s=!0;for(let l=0;l<n.length;l++){const u=n[l],h=u.getColDef();if(h.pivotTotalColumnIds!=null){s=!1;continue}const f=h.pivotKeys??[];let p;e.leafGroup?p=this.getValuesFromMappedSet(e.childrenMapped,f,h.pivotValueColumn):p=this.getValuesPivotNonLeaf(e,h.colId),t[h.colId]=this.aggregateValues(p,h.pivotValueColumn.getAggFunc(),h.pivotValueColumn,e,u)}if(!s)for(let l=0;l<n.length;l++){const u=n[l],h=u.getColDef();if(h.pivotTotalColumnIds==null||!h.pivotTotalColumnIds.length)continue;const f=h.pivotTotalColumnIds.map(p=>t[p]);t[h.colId]=this.aggregateValues(f,h.pivotValueColumn.getAggFunc(),h.pivotValueColumn,e,u)}return t}aggregateRowNodeUsingValuesOnly(e,t){const n={},{changedPath:s,valueColumns:i,filteredOnly:a}=t,l=s.active?s.getValueColumnsForNode(e,i):i,u=s.active?s.getNotValueColumnsForNode(e,i):null,h=this.getValuesNormal(e,l,a),f=e.aggData;return l.forEach((p,m)=>{n[p.getId()]=this.aggregateValues(h[m],p.getAggFunc(),p,e)}),u&&f&&u.forEach(p=>{n[p.getId()]=f[p.getId()]}),n}getValuesPivotNonLeaf(e,t){return e.childrenAfterFilter.map(n=>n.aggData[t])}getValuesFromMappedSet(e,t,n){let s=e;for(let i=0;i<t.length;i++){const a=t[i];s=s?s[a]:null}return s?s.map(i=>this.valueSvc.getValue(n,i)):[]}getValuesNormal(e,t,n){const s=[];t.forEach(()=>s.push([]));const i=t.length,a=n?e.childrenAfterFilter:e.childrenAfterGroup,l=a.length;for(let u=0;u<l;u++){const h=a[u];for(let f=0;f<i;f++){const p=t[f],m=this.valueSvc.getValue(p,h);s[f].push(m)}}return s}aggregateValues(e,t,n,s,i){const a=typeof t=="string"?this.aggFuncSvc.getAggFunc(t):t;if(typeof a!="function")return Ye(109,{aggFuncOrString:t}),null;const l=a,u=this.gos.addGridCommonParams({values:e,column:n,colDef:n?n.getColDef():void 0,pivotResultColumn:i,rowNode:s,data:s?s.data:void 0});return l(u)}setAggData(e,t){const n=e.aggData;if(e.aggData=t,e.__localEventService){const s=i=>{const a=e.aggData?e.aggData[i]:void 0,l=n?n[i]:void 0;if(a===l)return;const u=this.colModel.getCol(i);u&&e.dispatchCellChangedEvent(u,a,l)};if(n)for(const i of Object.keys(n))s(i);if(t)for(const i of Object.keys(t))(!n||!(i in n))&&s(i)}}},hH=class extends se{constructor(){super(...arguments),this.beanName="filterAggStage",this.refreshProps=new Set([]),this.step="filter_aggregates"}wireBeans(e){this.filterManager=e.filterManager}execute(e){var f,p;const t=this.beans.colModel.isPivotMode(),n=((f=this.filterManager)==null?void 0:f.isAggregateFilterPresent())||((p=this.filterManager)==null?void 0:p.isAggregateQuickFilterPresent()),s=m=>!m.node.group,i=m=>m.node.leafGroup,a=Sa(this.gos)||(t?i:s),{changedPath:l}=e,u=(m,v=!1)=>{m.childrenAfterFilter&&(m.childrenAfterAggFilter=m.childrenAfterFilter,v&&m.childrenAfterAggFilter.forEach(y=>u(y,v)),this.setAllChildrenCount(m)),m.sibling&&(m.sibling.childrenAfterAggFilter=m.childrenAfterAggFilter)},h=m=>{var v;m.childrenAfterAggFilter=((v=m.childrenAfterFilter)==null?void 0:v.filter(y=>{var R;return a({node:y})&&this.filterManager.doesRowPassAggregateFilters({rowNode:y})?(u(y,!0),!0):(R=y.childrenAfterAggFilter)==null?void 0:R.length}))||null,this.setAllChildrenCount(m),m.sibling&&(m.sibling.childrenAfterAggFilter=m.childrenAfterAggFilter)};l.forEachChangedNodeDepthFirst(n?h:u,!0)}setAllChildrenCountTreeData(e){const t=e.childrenAfterAggFilter;let n=0;if(t){const s=t.length;n=s;for(let i=0;i<s;++i)n+=t[i].allChildrenCount??0}e.setAllChildrenCount(n===0&&e.level>=0?null:n)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach(n=>{n.group?t+=n.allChildrenCount:t++}),e.setAllChildrenCount(t)}setAllChildrenCount(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gos.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)}},fH=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced"]);function pa(e,t){if(e.sibling)return;const n=new au(t);Object.keys(e).forEach(s=>{fH.has(s)||(n[s]=e[s])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+e.id,n.sibling=e,e.sibling=n}function gH(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}var pH=class extends se{constructor(){super(...arguments),this.beanName="footerSvc"}addNodes(e,t,n,s,i,a){var v;const l=(v=t[0])==null?void 0:v.parent;if(!l)return;let{index:u}=e;const h=s&&ru(this.gos),f=aS(this.gos),p=s&&f({node:l});if(l===i){h===a&&(pa(l,this.beans),n(l.sibling,u++));return}p===a&&(pa(l,this.beans),n(l.sibling,u++))}getTopDisplayIndex(e,t,n,s){let i=t;if(e[0].footer){if(t===0)return 0;i-=1}const a=e[e.length-1],l=i>=n.length;return a.footer&&l?a.rowIndex:s(i)}},VR=class extends yg{constructor(){super(...arguments),this.beanName="valueColsSvc",this.eventName="columnValueChanged",this.columnProcessors={set:(e,t,n)=>this.setValueActive(t,e,n),add:(e,t,n)=>this.setValueActive(!0,e,n),remove:(e,t,n)=>this.setValueActive(!1,e,n)},this.columnExtractors={setFlagFunc:(e,t,n)=>this.setColValueActive(e,t,n),getIndexFunc:()=>{},getInitialIndexFunc:()=>{},getValueFunc:e=>{const t=e.aggFunc;if(t===null||t==="")return null;if(t!==void 0)return!!t},getInitialValueFunc:e=>e.initialAggFunc!=null&&e.initialAggFunc!=""},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>_t(this.columns,e)}}extractCols(e,t){return this.columns=super.extractCols(e,t),this.columns.forEach(n=>{const s=n.getColDef();s.aggFunc!=null&&s.aggFunc!=""?this.setColAggFunc(n,s.aggFunc):n.getAggFunc()||this.setColAggFunc(n,s.initialAggFunc)}),this.columns}setColumnAggFunc(e,t,n){if(!e)return;const s=this.colModel.getColDefCol(e);s&&(this.setColAggFunc(s,t),this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[s],n))}syncColumnWithState(e,t,n){const s=n("aggFunc").value1;s!==void 0&&(typeof s=="string"?(this.setColAggFunc(e,s),e.isValueActive()||(this.setColValueActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e))):(ye(s)&&me(33),e.isValueActive()&&(this.setColValueActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e))))}setValueActive(e,t,n){if(e!==t.isValueActive()&&(this.setColValueActive(t,e,n),e&&!t.getAggFunc()&&this.aggFuncSvc)){const s=this.aggFuncSvc.getDefaultAggFunc(t);this.setColAggFunc(t,s)}}setColAggFunc(e,t){e.aggFunc=t,e.dispatchStateUpdatedEvent("aggFunc")}setColValueActive(e,t,n){e.aggregationActive!==t&&(e.aggregationActive=t,e.dispatchColEvent("columnValueChanged",n))}},WR={moduleName:"SharedAggregation",version:Kn,beans:[eH,QN,pH,VR],apiFunctions:{addAggFuncs:lH,clearAggFuncs:cH,setColumnAggFunc:uH},dependsOn:[ir]},mH={moduleName:"Aggregation",version:Kn,beans:[dH,hH],rowModels:["clientSide"],dependsOn:[WR]},CH=class extends yg{constructor(){super(...arguments),this.beanName="pivotColsSvc",this.eventName="columnPivotChanged",this.columnProcessors={set:(e,t,n)=>this.setColPivotActive(e,t,n),add:(e,t,n)=>this.setColPivotActive(e,!0,n),remove:(e,t,n)=>this.setColPivotActive(e,!1,n)},this.columnOrdering={enableProp:"pivot",initialEnableProp:"initialPivot",indexProp:"pivotIndex",initialIndexProp:"initialPivotIndex"},this.columnExtractors={setFlagFunc:(e,t,n)=>this.setColPivotActive(e,t,n),getIndexFunc:e=>e.pivotIndex,getInitialIndexFunc:e=>e.initialPivotIndex,getValueFunc:e=>e.pivot,getInitialValueFunc:e=>e.initialPivot},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>_t(this.columns,e)}}syncColumnWithState(e,t,n,s){const{value1:i,value2:a}=n("pivot","pivotIndex");(i!==void 0||a!==void 0)&&(typeof a=="number"||i?(e.isPivotActive()||(this.setColPivotActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),s&&typeof a=="number"&&(s[e.getId()]=a)):e.isPivotActive()&&(this.setColPivotActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setColPivotActive(e,t,n){e.pivotActive!==t&&(e.pivotActive=t,e.dispatchColEvent("columnPivotChanged",n)),e.dispatchStateUpdatedEvent("pivot")}},vH=class extends yg{constructor(){super(...arguments),this.beanName="rowGroupColsSvc",this.eventName="columnRowGroupChanged",this.columnProcessors={set:(e,t,n)=>this.setActive(t,e,n),add:(e,t,n)=>this.setActive(!0,e,n),remove:(e,t,n)=>this.setActive(!1,e,n)},this.columnOrdering={enableProp:"rowGroup",initialEnableProp:"initialRowGroup",indexProp:"rowGroupIndex",initialIndexProp:"initialRowGroupIndex"},this.columnExtractors={setFlagFunc:(e,t,n)=>this.setColRowGroupActive(e,t,n),getIndexFunc:e=>e.rowGroupIndex,getInitialIndexFunc:e=>e.initialRowGroupIndex,getValueFunc:e=>e.rowGroup,getInitialValueFunc:e=>e.initialRowGroup},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>_t(this.columns,e)}}moveColumn(e,t,n){if(this.columns.length===0)return;const s=this.columns[e],i=this.columns.slice(e,t);this.columns.splice(e,1),this.columns.splice(t,0,s),this.eventSvc.dispatchEvent({type:this.eventName,columns:i,column:i.length===1?i[0]:null,source:n})}syncColumnWithState(e,t,n,s){const{value1:i,value2:a}=n("rowGroup","rowGroupIndex");(i!==void 0||a!==void 0)&&(typeof a=="number"||i?(e.isRowGroupActive()||(this.setColRowGroupActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),s&&typeof a=="number"&&(s[e.getId()]=a)):e.isRowGroupActive()&&(this.setColRowGroupActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setActive(e,t,n){e!==t.isRowGroupActive()&&(this.setColRowGroupActive(t,e,n),cS(this.gos,e)&&this.colModel.setColsVisible([t],!e,n))}setColRowGroupActive(e,t,n){e.rowGroupActive!==t&&(e.rowGroupActive=t,e.dispatchColEvent("columnRowGroupChanged",n)),e.dispatchStateUpdatedEvent("rowGroup")}},yH=class extends se{constructor(){super(...arguments),this.beanName="autoColSvc"}postConstruct(){this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(zo(e.source)))}addAutoCols(e){this.autoCols!=null&&(e.list=this.autoCols.list.concat(e.list),e.tree=this.autoCols.tree.concat(e.tree),PP(e))}createAutoCols(e,t){var G;const n=this.beans,{colModel:s,gos:i,rowGroupColsSvc:a,colGroupSvc:l}=n,u=s.isPivotMode(),h=Cg(i,u),f=u?i.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),p=a==null?void 0:a.columns,v=!(p&&p.length>0||i.get("treeData"))||f||h,y=()=>{this.autoCols&&(Nc(n,this.autoCols.tree),this.autoCols=null)};if(v){y();return}const S=this.generateAutoCols(p),b=TP(S,((G=this.autoCols)==null?void 0:G.list)||null),R=e.treeDepth,D=(this.autoCols?this.autoCols.treeDepth:-1)==R;if(b&&D)return;y();const A=(l==null?void 0:l.findDepth(e.tree))??0,M=(l==null?void 0:l.balanceTreeForAutoCols(S,A))??[];this.autoCols={list:S,tree:M,treeDepth:A,map:{}},t(O=>{if(!O)return null;const z=O.filter(N=>!RS(N));return[...S,...z]})}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(n=>ES(n,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}generateAutoCols(e=[]){const t=[],n=this.gos.get("treeData");let s=lS(this.gos);return n&&s&&(me(182),s=!1),s?e.forEach((i,a)=>{t.push(this.createOneAutoCol(i,a))}):t.push(this.createOneAutoCol()),t}updateAutoCols(e){var t;(t=this.autoCols)==null||t.list.forEach((n,s)=>this.updateOneAutoCol(n,s,e))}isSuppressAutoCol(){const e=this.gos;return e.get("groupDisplayType")==="custom"?!0:e.get("treeDataDisplayType")==="custom"}createOneAutoCol(e,t){let n;e?n=`${qo}-${e.getId()}`:n=qo;const s=this.createAutoColDef(n,e,t);s.colId=n;const i=new vg(s,null,n,!0);return this.createBean(i),i}updateOneAutoCol(e,t,n){const s=e.getColDef(),i=typeof s.showRowGroup=="string"?s.showRowGroup:void 0,a=this.beans,l=i!=null?a.colModel.getColDefCol(i):void 0,u=this.createAutoColDef(e.getId(),l??void 0,t);e.setColDef(u,null,n),FS(a,e,u,n)}createAutoColDef(e,t,n){let s=this.createBaseColDef(t);const i=this.gos.get("autoGroupColumnDef");Dt(s,i),s=Bc(this.beans,s,e,!0),this.gos.get("treeData")||qe(s.field)&&qe(s.valueGetter)&&qe(s.filterValueGetter)&&s.filter!=="agGroupColumnFilter"&&(s.filter=!1),n&&n>0&&(s.headerCheckboxSelection=!1);const a=xn(this.gos),l=s.valueGetter||s.field!=null;return a&&!l&&(s.sortIndex=void 0,s.initialSort=void 0),s}createBaseColDef(e){const t=this.gos.get("autoGroupColumnDef"),s={headerName:this.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(s.cellRenderer="agGroupCellRenderer"),e){const a=e.getColDef();Object.assign(s,{headerName:this.beans.colNames.getDisplayNameForColumn(e,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(s,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),s.showRowGroup=e.getColId()}else s.showRowGroup=!0;return s}onAutoGroupColumnDefChanged(e){this.updateAutoCols(e)}destroy(){var e;Nc(this.beans,(e=this.autoCols)==null?void 0:e.tree),super.destroy()}},wH=class extends se{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,n=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:n,hasChildrenChanged:n}}setExpanded(e,t,n,s){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const i={...uL(e,this.gos,"rowGroupOpened"),expanded:t,event:n||null};this.dispatchExpandedEvent(i,s),this.beans.rowRenderer.refreshCells({rowNodes:[e]})}isExpandable(e){return e.footer?!1:this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master}updateExpandedCss(e,t){const n=t.isExpandable(),s=t.expanded==!0;e.forEachGui(void 0,i=>{const a=i.rowComp;a.addOrRemoveCssClass("ag-row-group",n),a.addOrRemoveCssClass("ag-row-group-expanded",n&&s),a.addOrRemoveCssClass("ag-row-group-contracted",n&&!s),ya(i.element,n&&s)})}},bH=class extends wH{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=[]}wireBeans(e){this.rowModel=e.rowModel}expandRows(e){const t=new Set(e);this.rowModel.forEachNode(n=>{n.id&&t.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}expandAll(e){const{gos:t,colModel:n,eventSvc:s}=this.beans,i=this.rowModel,a=t.get("treeData"),l=n.isPivotActive(),u=f=>{f&&f.forEach(p=>{const m=()=>{p.expanded=e,u(p.childrenAfterGroup)};if(a){ye(p.childrenAfterGroup)&&m();return}if(l){!p.leafGroup&&m();return}p.group&&m()})},h=i.rootNode;h&&u(h.childrenAfterGroup),i.refreshModel({step:"map"}),s.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:"map"})}dispatchExpandedEvent(e,t){this.events.push(e);const n=()=>{this.rowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventSvc.dispatchEvent(s)),this.events=[]};t?n():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.debounce(n)),this.dispatchExpandedDebounced())}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let n=!1;return()=>{if(!t.active){window.setTimeout(e,0);return}n||(n=!0,t.addDestroyTask(()=>{n=!1,e()}))}}},SH=class extends se{constructor(){super(...arguments),this.beanName="flattenStage",this.refreshProps=new Set(["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]),this.step="map"}execute(e){const t=e.rowNode,n=[],s=this.beans.colModel.isPivotMode(),i=s&&t.leafGroup,a=i?[t]:t.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,n,s,0);const u=n.length>0;if(!i&&u&&l.grandTotalRow){pa(t,this.beans);const f=l.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(l,t.sibling,n,0,f)}return n}getFlattenDetails(){let e=this.gos.get("groupHideParentOfSingleChild");return e||(e=this.gos.get("groupRemoveSingleChildren"),!e&&this.gos.get("groupRemoveLowestSingleChildren")&&(e="leafGroupsOnly")),{groupHideParentOfSingleChild:e,isGroupMultiAutoColumn:lS(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:ru(this.gos),groupTotalRow:aS(this.gos)}}recursivelyAddToRowsToDisplay(e,t,n,s,i){var a;if(t!=null&&t.length)for(let l=0;l<t.length;l++){const u=t[l],h=u.hasChildren(),f=s&&!h,p=e.groupHideParentOfSingleChild===!0&&h&&u.childrenAfterGroup.length===1,m=e.groupHideParentOfSingleChild==="leafGroupsOnly"&&h&&u.leafGroup&&u.childrenAfterGroup.length===1,v=s&&u.leafGroup,y=e.hideOpenParents&&u.expanded&&!u.master&&!v;if(!f&&!y&&!p&&!m&&this.addRowNodeToRowsToDisplay(e,u,n,i),!(s&&u.leafGroup))if(h){const b=p||m;if(u.expanded||b){const R=e.groupTotalRow({node:u});R||gH(u);const E=b?i:i+1;R==="top"&&(pa(u,this.beans),this.addRowNodeToRowsToDisplay(e,u.sibling,n,E)),this.recursivelyAddToRowsToDisplay(e,u.childrenAfterSort,n,s,E),R==="bottom"&&(pa(u,this.beans),this.addRowNodeToRowsToDisplay(e,u.sibling,n,E))}}else{const b=(a=this.beans.masterDetailSvc)==null?void 0:a.getDetail(u);b&&this.addRowNodeToRowsToDisplay(e,b,n,i)}}}addRowNodeToRowsToDisplay(e,t,n,s,i){i?n.unshift(t):n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}},_R=class extends se{wireBeans(e){this.expressionSvc=e.expressionSvc,this.valueSvc=e.valueSvc,this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.userCompFactory=e.userCompFactory,this.ctrlsSvc=e.ctrlsSvc,this.rowGroupColsSvc=e.rowGroupColsSvc,this.selectionSvc=e.selectionSvc,this.groupHideOpenParentsSvc=e.groupHideOpenParentsSvc}init(e,t,n,s,i,a,l){var p,m,v;this.params=l,this.eGui=t,this.eCheckbox=n,this.eExpanded=s,this.eContracted=i,this.comp=e,this.compClass=a;const{node:u,colDef:h}=l,f=this.isTopLevelFooter();if(!f){if(this.isEmbeddedRowMismatch())return;if(u.footer&&this.gos.get("groupHideOpenParents")){const S=h==null?void 0:h.showRowGroup,b=(p=u.rowGroupColumn)==null?void 0:p.getColId();if(S!==b)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!f){const y=this.rowGroupColsSvc&&u.footer&&u.rowGroupIndex===this.rowGroupColsSvc.columns.findIndex(M=>M.getColId()===(h==null?void 0:h.showRowGroup)),b=this.gos.get("groupDisplayType")!="multipleColumns"||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&this.rowGroupColsSvc&&!u.footer&&(!u.group||u.rowGroupIndex!=null&&u.rowGroupIndex>((m=this.rowGroupColsSvc)==null?void 0:m.columns.findIndex(M=>M.getColId()===(h==null?void 0:h.showRowGroup)))),R=!u.group&&((h==null?void 0:h.field)||(h==null?void 0:h.valueGetter)),E=this.isExpandable(),D=this.colModel.isPivotMode()&&u.leafGroup&&((v=u.rowGroupColumn)==null?void 0:v.getColId())===(h==null?void 0:h.showRowGroup);if(!this.showingValueForOpenedParent&&!E&&!R&&!b&&!y&&!D)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded(),this.addManagedPropertyListener("rowSelection",({currentValue:y,previousValue:S})=>{const b=typeof y=="object"?y:void 0,R=typeof S=="object"?S:void 0;(b==null?void 0:b.checkboxLocation)!==(R==null?void 0:R.checkboxLocation)&&this.refreshCheckbox()})}getCellAriaRole(){var n,s;const e=(n=this.params.colDef)==null?void 0:n.cellAriaRole,t=(s=this.params.column)==null?void 0:s.getColDef().cellAriaRole;return e||t||"gridcell"}destroy(){super.destroy(),this.expandListener=null,this.destroyCheckbox()}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){ET(t);return}const n=()=>{ya(t,this.showingValueForOpenedParent||!!e.expanded)};[this.expandListener]=this.addManagedListeners(e,{expandedChanged:n})||null,n()}isTopLevelFooter(){var i;if(!ru(this.gos)||this.params.value!=null||this.params.node.level!=-1)return!1;const t=this.params.colDef;if(t==null||t.showRowGroup===!0)return!0;const s=(i=this.rowGroupColsSvc)==null?void 0:i.columns;return!s||s.length===0?!0:s[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",n=!e&&!t;return this.gos.get("enableRtl")?this.visibleCols.isPinningLeft()?!t:!n:this.visibleCols.isPinningLeft()?!e:!n}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let n=t.parent;for(;n!=null;){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}}qe(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){var e;this.showingValueForOpenedParent=((e=this.groupHideOpenParentsSvc)==null?void 0:e.isShowingValueForOpenedParent(this.params.node,this.params.column))??!1}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var a;const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:n,value:s}=e;let i=n;if(i==null){const l=this.displayedGroupNode.rowGroupColumn&&((a=this.params.column)==null?void 0:a.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l?i=this.getLocaleTextFunc()("blanks","(Blanks)"):i=s??null}this.comp.setInnerRenderer(t,i)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const s=this.params,{value:i,node:a}=this.params,l=this.valueSvc.formatValue(e,a,i);return{...s,valueFormatted:l}}addFooterValue(){const e=this.params.totalValueGetter;let t="";if(e){const s={...this.params,value:this.params.value};typeof e=="function"?t=e(s):typeof e=="string"?t=this.expressionSvc?this.expressionSvc.evaluate(e,s):"":me(179)}else t=this.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,t)}getInnerCompDetails(e){if(e.fullWidth)return jh(this.userCompFactory,this.gos.get("groupRowRendererParams"),e);const t=jh(this.userCompFactory,e,e),n=l=>l&&l.componentClass==this.compClass;if(t&&!n(t))return t;const s=this.displayedGroupNode.rowGroupColumn,i=s==null?void 0:s.getColDef();if(!i)return;const a=TS(this.userCompFactory,i,e);if(a&&!n(a))return a;if(n(a)&&i.cellRendererParams&&i.cellRendererParams.innerRenderer)return jh(this.userCompFactory,i.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListeners(this.displayedGroupNode,{allChildrenCountChanged:this.updateChildCount.bind(this)}),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(s)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var a;const e=this.params,t=(l,u)=>{const h=Cn(l,this.beans,null);h&&(u.appendChild(h),this.addDestroyFunc(()=>u.removeChild(h)))};t("groupExpanded",this.eExpanded),t("groupContracted",this.eContracted);const n=e.eGridCell;!(((a=this.params.column)==null?void 0:a.isCellEditable(e.node))&&this.gos.get("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListeners(n,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(n,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(e.node,{expandedChanged:this.showExpandAndContractIcons.bind(this)}),this.showExpandAndContractIcons();const i=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListeners(this.displayedGroupNode,{allChildrenCountChanged:i,masterChanged:i,groupChanged:i,hasChildrenChanged:i})}onExpandClicked(e){En(e)||(Yo(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,n=!t.expanded;!n&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(n,e)}scrollToStickyNode(e){this.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.colModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const s=this.params.column;return s!=null&&typeof s.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,colModel:n}=this,{node:s}=e,i=this.isExpandable();if(i){const f=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(f),this.comp.setContractedDisplayed(!f)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const a=n.isPivotMode(),l=a&&t.leafGroup,u=i&&!l,h=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",u),this.comp.addOrRemoveCssClass("ag-row-group",u),a?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",!!l):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!u)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListeners(e,{uiLevelChanged:this.setIndent.bind(this)}),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;const e=this.params,t=e.node,n=!!e.colDef,s=this.gos.get("treeData"),a=!n||s||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0),this.eGui.style.setProperty("--ag-indentation-level",String(a))}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag||!this.rowDragSvc)return;const e=this.rowDragSvc.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(e),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.gos.get("rowSelection"),n=nP(t),s=typeof t=="object"?n==="autoGroupColumn"&&uS(t):this.params.checkbox,a=(typeof s=="function"||s===!0)&&!e.footer&&!e.rowPinned&&!e.detail&&!!this.selectionSvc&&pg(this.gos);if(a){const l=this.selectionSvc.createCheckboxSelectionComponent();this.cbComp=l,this.createBean(l),l.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:s,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(l.getGui())}this.comp.setCheckboxVisible(a)}destroyCheckbox(){this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui()),this.cbComp=this.destroyBean(this.cbComp)}refreshCheckbox(){this.destroyCheckbox(),this.addCheckboxIfNeeded()}onKeyDown(e){!(e.key===K.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(En(e))return;Af(this.eExpanded,e)||Af(this.eContracted,e)||this.onExpandOrContract(e)}},RH=`<span class="ag-cell-wrapper">
        <span class="ag-group-expanded" data-ref="eExpanded"></span>
        <span class="ag-group-contracted" data-ref="eContracted"></span>
        <span class="ag-group-checkbox ag-invisible" data-ref="eCheckbox"></span>
        <span class="ag-group-value" data-ref="eValue"></span>
        <span class="ag-group-child-count" data-ref="eChildCount"></span>
    </span>`,Xy=class extends Je{constructor(){super(RH),this.eExpanded=xe,this.eContracted=xe,this.eCheckbox=xe,this.eValue=xe,this.eChildCount=xe}init(t){const n={setInnerRenderer:(l,u)=>this.setRenderDetails(l,u),setChildCount:l=>this.eChildCount.textContent=l,addOrRemoveCssClass:(l,u)=>this.addOrRemoveCssClass(l,u),setContractedDisplayed:l=>Ze(this.eContracted,l),setExpandedDisplayed:l=>Ze(this.eExpanded,l),setCheckboxVisible:l=>this.eCheckbox.classList.toggle("ag-invisible",!l)},s=this.createManagedBean(new _R),i=!t.colDef,a=this.getGui();s.init(n,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),i&&Wt(a,s.getCellAriaRole())}setRenderDetails(t,n){t?t.newAgStackInstance().then(s=>{if(!s)return;const i=()=>this.destroyBean(s);this.isAlive()?(this.eValue.appendChild(s.getGui()),this.addDestroyFunc(i)):i()}):this.eValue.innerText=n}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},xH=class extends se{constructor(){super(...arguments),this.beanName="showRowGroupCols"}refresh(){this.showRowGroupCols=[],this.showRowGroupColsMap={};const{colModel:e,rowGroupColsSvc:t}=this.beans;e.getCols().forEach(n=>{const i=n.getColDef().showRowGroup,a=typeof i=="string";!a&&!(i===!0)||(this.showRowGroupCols.push(n),a?this.showRowGroupColsMap[i]=n:t&&t.columns.forEach(u=>{this.showRowGroupColsMap[u.getId()]=n}))})}getShowRowGroupCols(){return this.showRowGroupCols}getShowRowGroupCol(e){return this.showRowGroupColsMap[e]}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;const{rowGroupColsSvc:n,colModel:s}=this.beans;if(t===!0&&n)return n.columns.slice(0);const i=s.getColDefCol(t);return i?[i]:null}isRowGroupDisplayed(e,t){const{colDef:n}=e;if((n==null?void 0:n.showRowGroup)==null)return!1;const s=n.showRowGroup===!0,i=n.showRowGroup===t;return s||i}},EH=class extends se{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=nr(this.gos),this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?AH(e):DH(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t=e==="top";let n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);const{rowModel:s,rowRenderer:i}=this.beans,a=t?i.firstVisibleVPixel-this.extraTopHeight:i.lastVisibleVPixel-this.extraTopHeight,l=new Set,u=m=>{if(l.add(m),t){const v=this.getLastPixelOfGroup(m),y=a+n+m.rowHeight;v<y?m.stickyRowTop=n+(v-y):m.stickyRowTop=n}else{const v=this.getFirstPixelOfGroup(m),y=a-(n+m.rowHeight);v>y?m.stickyRowTop=n-(v-y):m.stickyRowTop=n}n=0,l.forEach(v=>{const y=v.stickyRowTop+v.rowHeight;n<y&&(n=y)})},h=this.areFooterRowsStickySuppressed(),f=this.gos.get("suppressGroupRowsSticky"),p=m=>{if(!m.displayed)return!1;if(m.footer){if(h===!0||h==="grand"&&m.level===-1||h==="group"&&m.level>-1)return!1;const v=m.sibling.rowIndex?m.sibling.rowIndex+1===m.rowIndex:!1;return e==="bottom"&&v?!1:!l.has(m)}return m.isExpandable()?f===!0||e==="bottom"?!1:!l.has(m)&&m.expanded:!1};for(let m=0;m<100;m++){let v=a+n;t||(v=a-n);const y=s.getRowIndexAtPixel(v),S=s.getRow(y);if(S==null)break;const R=this.getStickyAncestors(S).find(D=>(t?D.rowIndex<y:D.rowIndex>y)&&p(D));if(R){u(R);continue}if((t?S.rowTop<v:S.rowTop+S.rowHeight>v)&&p(S)){u(S);continue}break}return t||l.forEach(m=>{m.stickyRowTop=n-(m.stickyRowTop+m.rowHeight)}),this.refreshNodesAndContainerHeight(e,l,n)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=e==="group",n=e==="grand";return t&&n?!0:n?"grand":t?"group":!1}canRowsBeSticky(){const e=ou(this.gos),t=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!n)}getStickyAncestors(e){const t=[];let n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&t.push(n.sibling),t.push(n),n=n.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(n=>n.rowNode===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){const s=this.stickyTopRowCtrls[n].rowNode;s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){const s=this.stickyBottomRowCtrls[n].rowNode;s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,n){const s=e==="top",i=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,a={},l=[];for(let y=0;y<i.length;y++){const S=i[y].rowNode;if(!t.has(S)){a[S.id]=i[y],S.sticky=!1;continue}l.push(i[y])}const u=new Set;for(let y=0;y<l.length;y++)u.add(l[y].rowNode);const h=[];t.forEach(y=>{u.has(y)||(y.sticky=!0,h.push(this.createRowCon(y,!1,!1)))});let f=!!h.length||l.length!==i.length;s?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),f=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),f=!0),this.destroyRowCtrls(a,!1);const p=[...l,...h];p.sort((y,S)=>S.rowNode.rowIndex-y.rowNode.rowIndex),s||p.reverse(),p.forEach(y=>y.setRowTop(y.rowNode.stickyRowTop));const m=this.beans.pageBounds;let v=0;return s?(t.forEach(y=>{y.rowIndex<m.getFirstRow()&&(v+=y.rowHeight)}),v>this.topContainerHeight&&(v=this.topContainerHeight),this.setOffsetTop(v)):(t.forEach(y=>{y.rowIndex>m.getLastRow()&&(v+=y.rowHeight)}),v>this.bottomContainerHeight&&(v=this.bottomContainerHeight),this.setOffsetBottom(v)),f?(s?this.stickyTopRowCtrls=p:this.stickyBottomRowCtrls=p,!0):!1}ensureRowHeightsValid(){let e=!1;const t=n=>{const s=n.rowNode;if(s.rowHeightEstimated){const i=Ic(this.beans,s);s.setRowHeight(i.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}};function DH(e){var t,n;if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(i=(n=e.sibling.childStore)==null?void 0:n.getStoreBounds()),((i==null?void 0:i.heightPx)??0)+((i==null?void 0:i.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}function AH(e){if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=e.footer?e.sibling:e;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=Oe(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}var FH=class extends se{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,n){const s=this.gos;if(ou(s)&&nr(s)||gg(s))return e.createManagedBean(new EH(t,n))}},MH={moduleName:"GroupCellRenderer",version:Kn,userComponents:{agGroupRowRenderer:Xy,agGroupCellRenderer:Xy},dynamicBeans:{groupCellRendererCtrl:_R},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},dependsOn:[ir]},TH={moduleName:"GroupColumn",version:Kn,beans:[yH,xH,vH,CH,VR],dependsOn:[ir,MH]},PH={moduleName:"ClientSideRowModelHierarchy",version:Kn,rowModels:["clientSide"],beans:[SH,bH],dependsOn:[ir]},LH={moduleName:"StickyRow",version:Kn,beans:[FH]},OH=class extends Je{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel());const e=this.onRowGroupChanged.bind(this);this.addManagedEventListeners({columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedPropertyListener("rowGroupPanelShow",e),this.addManagedPropertyListener("pivotPanelShow",()=>this.onPivotPanelShow()),this.onRowGroupChanged()}createNorthPanel(){const e=document.createElement("div");e.classList.add("ag-column-drop-wrapper"),Wt(e,"presentation");const t=new ZN(!0);this.rowGroupComp=this.createManagedBean(t);const n=new XN(!0);this.pivotComp=this.createManagedBean(n),e.appendChild(t.getGui()),e.appendChild(n.getGui());const s=this.onDropPanelVisible.bind(this);return this.addManagedListeners(t,{displayChanged:s}),this.addManagedListeners(n,{displayChanged:s}),this.onDropPanelVisible(),e}onDropPanelVisible(){const{rowGroupComp:e,pivotComp:t}=this,n=e.isDisplayed()&&t.isDisplayed(),s="ag-column-drop-horizontal-half-width";e.addOrRemoveCssClass(s,n),t.addOrRemoveCssClass(s,n)}onRowGroupChanged(){var n,s;const e=this.rowGroupComp;if(!e)return;const t=this.gos.get("rowGroupPanelShow");if(t==="always")e.setDisplayed(!0);else if(t==="onlyWhenGrouping"){const i=((s=(n=this.beans.rowGroupColsSvc)==null?void 0:n.columns)==null?void 0:s.length)!==0;e.setDisplayed(i)}else e.setDisplayed(!1)}onPivotPanelShow(){const e=this.pivotComp;if(!e)return;const t=this.gos.get("pivotPanelShow");if(t==="always")e.setDisplayed(!0);else if(t==="onlyWhenPivoting"){const n=this.beans.colModel.isPivotActive();e.setDisplayed(n)}else e.setDisplayed(!1)}},IH={selector:"AG-GRID-HEADER-DROP-ZONES",component:OH},kH=class extends se{constructor(){super(...arguments),this.beanName="groupHideOpenParentsSvc"}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents")||this.gos.get("treeData"))return;const t=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(n=>t(n))}pullDownGroupDataForHideOpenParents(e,t){if(!this.gos.get("groupHideOpenParents")||qe(e))return;const{colModel:n,showRowGroupCols:s}=this.beans;e.forEach(i=>{((s==null?void 0:s.getShowRowGroupCols())??[]).forEach(l=>{const u=l.getColDef().showRowGroup;if(typeof u!="string"){Ye(110);return}const h=u,f=n.getColDefCol(h);if(f!==i.rowGroupColumn)if(t)qy(i,n,l.getId(),void 0);else{const m=this.getFirstChildOfFirstChild(i,f);m&&qy(i,n,l.getId(),m.key)}})})}isShowingValueForOpenedParent(e,t){if(!this.gos.get("groupHideOpenParents")||!e.groupData)return!1;if(e.rowGroupColumn!=null){const s=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(s))return!1}return e.groupData[t.getId()]!=null}getFirstChildOfFirstChild(e,t){let n=e;for(;n;){const s=n.parent;if(s!=null&&s.childrenAfterSort&&n===s.childrenAfterSort[0]){if(s.rowGroupColumn===t)return s}else return null;n=s}return null}},tf=class{constructor(){this.allSets={},this.allParents=[]}removeFromChildrenAfterGroup(e,t){const n=this.getSet(e);n.removeFromChildrenAfterGroup[t.id]=!0}isRemoveFromAllLeafChildren(e,t){return!!this.getSet(e).removeFromAllLeafChildren[t.id]}preventRemoveFromAllLeafChildren(e,t){const n=this.getSet(e);delete n.removeFromAllLeafChildren[t.id]}removeFromAllLeafChildren(e,t){const n=this.getSet(e);n.removeFromAllLeafChildren[t.id]=!0}getSet(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]}getAllParents(){return this.allParents}flush(){this.allParents.forEach(e=>{var s;const t=this.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(i=>!t.removeFromChildrenAfterGroup[i.id]),e.allLeafChildren=((s=e.allLeafChildren)==null?void 0:s.filter(i=>!t.removeFromAllLeafChildren[i.id]))??null,e.updateHasChildren();const n=e.sibling;n&&(n.childrenAfterGroup=e.childrenAfterGroup,n.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0}};function GH(e){if(!e)return!1;const t=e.length;if(t<2)return!1;let n=!1;for(let s=1;s<t;s++)if(Zy(e[s-1],e[s])>0){n=!0;break}return n?(e.sort(Zy),!0):!1}function Zy(e,t){const n=e.sourceRowIndex,s=t.sourceRowIndex,i=n>=0,a=s>=0,l=i&&a,u=!i&&!a;return l?n-s:u?e.__objectId-t.__objectId:i?1:-1}var NH=class extends se{constructor(){super(...arguments),this.beanName="groupStage",this.refreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),this.step="group"}wireBeans(e){this.colModel=e.colModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc,this.selectionSvc=e.selectionSvc,this.showRowGroupCols=e.showRowGroupCols}execute(e){var s;const t=this.createGroupingDetails(e);if(t.transactions)this.handleTransaction(t);else{const i=e.afterColumnsChanged===!0;this.shotgunResetEverything(t,i)}const n=e.changedPath;this.positionLeafsAndGroups(n),this.orderGroups(t),(s=this.selectionSvc)==null||s.updateSelectableAfterGrouping(n)}positionLeafsAndGroups(e){e.forEachChangedNodeDepthFirst(t=>{if(t.childrenAfterGroup){const n=[],s=[];let i;t.childrenAfterGroup.forEach(a=>{var l;(l=a.childrenAfterGroup)!=null&&l.length?a.key===""&&!i?i=a:s.push(a):n.push(a)}),i&&s.push(i),t.childrenAfterGroup=[...n,...s]}},!1)}createGroupingDetails(e){var u;const{rowNode:t,changedPath:n,rowNodeTransactions:s,rowNodesOrderChanged:i}=e,a=(u=this.rowGroupColsSvc)==null?void 0:u.columns;return{expandByDefault:this.gos.get("groupDefaultExpanded"),groupedCols:a,rootNode:t,pivotMode:this.colModel.isPivotMode(),groupedColCount:(a==null?void 0:a.length)??0,transactions:s,rowNodesOrderChanged:!!i,changedPath:n,groupAllowUnbalanced:this.gos.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gos.getCallback("initialGroupOrderComparator"),keyCreators:(a==null?void 0:a.map(h=>h.getColDef().keyCreator))??[]}}handleTransaction(e){e.transactions.forEach(t=>{var i,a,l;const n=new tf;(i=t.remove)!=null&&i.length&&this.removeNodes(t.remove,e,n),(a=t.update)!=null&&a.length&&this.moveNodesInWrongPath(t.update,e,n),(l=t.add)!=null&&l.length&&this.insertNodes(t.add,e);const s=n.getAllParents().slice();n.flush(),this.removeEmptyGroups(s,e)}),e.rowNodesOrderChanged&&this.sortChildren(e)}sortChildren(e){e.changedPath.forEachChangedNodeDepthFirst(t=>{GH(t.childrenAfterGroup)&&e.changedPath.addParentNode(t)},!1,!0)}orderGroups(e){const t=e.initialGroupOrderComparator;ye(t)&&n(e.rootNode);function n(s){ye(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort((a,l)=>t({nodeA:a,nodeB:l})),s.childrenAfterGroup.forEach(a=>n(a)))}}getExistingPathForNode(e,t){const n=[];let s=e.parent;for(;s&&s!==t.rootNode;)n.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return n.reverse(),n}moveNodesInWrongPath(e,t,n){e.forEach(s=>{t.changedPath.active&&t.changedPath.addParentNode(s.parent);const i=h=>h.key,a=this.getExistingPathForNode(s,t).map(i),l=this.getGroupInfo(s,t).map(i);Bn(a,l)||this.moveNode(s,t,n)})}moveNode(e,t,n){if(this.removeNodesFromParents([e],t,n),this.insertOneNode(e,t,n),e.setData(e.data),t.changedPath.active){const s=e.parent;t.changedPath.addParentNode(s)}}removeNodes(e,t,n){this.removeNodesFromParents(e,t,n),t.changedPath.active&&e.forEach(s=>t.changedPath.addParentNode(s.parent))}forEachParentGroup(e,t,n){let s=t;for(;s&&s!==e.rootNode;)n(s),s=s.parent}removeNodesFromParents(e,t,n){const s=n==null,i=n||new tf;e.forEach(a=>{this.removeFromParent(a,i),this.forEachParentGroup(t,a.parent,l=>{i.removeFromAllLeafChildren(l,a)})}),s&&i.flush()}removeEmptyGroups(e,t){let n=!0;const s=i=>{var h;const a=this.getChildrenMappedKey(i.key,i.rowGroupColumn),l=i.parent;return(l!=null&&l.childrenMapped?!l.childrenMapped[a]:!0)?!1:!!i.group&&(((h=i.childrenAfterGroup)==null?void 0:h.length)??0)===0};for(;n;){n=!1;const i=new tf;e.forEach(a=>{this.forEachParentGroup(t,a,l=>{var u;s(l)&&(n=!0,this.removeFromParent(l,i),(u=this.selectionSvc)==null||u.setNodesSelected({nodes:[l],newValue:!1,source:"rowGroupChanged"}))})}),i.flush()}}removeFromParent(e,t){var s;e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(_t(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));const n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);(s=e.parent)!=null&&s.childrenMapped&&delete e.parent.childrenMapped[n],e.setRowTop(null),e.setRowIndex(null)}addToParent(e,t){const n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t!=null&&t.childrenMapped&&t.childrenMapped[n]!==e&&(t.childrenMapped[n]=e,t.childrenAfterGroup.push(e),_N(t,this.beans,!0))}areGroupColsEqual(e,t){return e==null||t==null||e.pivotMode!==t.pivotMode?!1:Bn(e.groupedCols,t.groupedCols)&&Bn(e.keyCreators,t.keyCreators)}checkAllGroupDataAfterColsChanged(e){const t=n=>{n&&n.forEach(s=>{var l;if(!s.group)return;const a={field:s.field,key:s.key,rowGroupColumn:s.rowGroupColumn,leafNode:(l=s.allLeafChildren)==null?void 0:l[0]};this.setGroupData(s,a),t(s.childrenAfterGroup)})};t(e.rootNode.childrenAfterGroup)}shotgunResetEverything(e,t){var a,l;if(this.noChangeInGroupingColumns(e,t))return;(l=(a=this.selectionSvc)==null?void 0:a.filterFromSelection)==null||l.call(a,u=>!u.group);const{groupedCols:n}=e,s=e.rootNode;s.leafGroup=n.length===0,s.childrenAfterGroup=[],s.childrenMapped={},s.updateHasChildren();const i=s.sibling;i&&(i.childrenAfterGroup=s.childrenAfterGroup,i.childrenMapped=s.childrenMapped),this.insertNodes(s.allLeafChildren,e)}noChangeInGroupingColumns(e,t){let n=!1;const s=this.showRowGroupCols.getShowRowGroupCols(),i=s?s.map(a=>a.getId()).join("-"):"";return t&&(n=this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==i&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=i,n}insertNodes(e,t){e.forEach(n=>{this.insertOneNode(n,t),t.changedPath.active&&t.changedPath.addParentNode(n.parent)})}insertOneNode(e,t,n){const s=this.getGroupInfo(e,t),i=this.findParentForNode(e,s,t,n);i.group||me(184,{parentGroupData:i.data,childNodeData:e.data}),e.parent=i,e.level=s.length,i.childrenAfterGroup.push(e),i.updateHasChildren()}findParentForNode(e,t,n,s){let i=n.rootNode;return t.forEach((a,l)=>{i=this.getOrCreateNextNode(i,a,l,n),s!=null&&s.isRemoveFromAllLeafChildren(i,e)?s==null||s.preventRemoveFromAllLeafChildren(i,e):i.allLeafChildren.push(e)}),i}getOrCreateNextNode(e,t,n,s){var l;const i=this.getChildrenMappedKey(t.key,t.rowGroupColumn);let a=(l=e==null?void 0:e.childrenMapped)==null?void 0:l[i];return a||(a=this.createGroup(t,e,n,s),this.addToParent(a,e)),a}createGroup(e,t,n,s){const i=new au(this.beans);return i.group=!0,i.field=e.field,i.rowGroupColumn=e.rowGroupColumn,this.setGroupData(i,e),i.key=e.key,i.id=this.createGroupId(i,t,n),i.level=n,i.leafGroup=n===s.groupedColCount-1,i.allLeafChildren=[],i.setAllChildrenCount(0),i.rowGroupIndex=n,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren(),i.parent=t,this.setExpandedInitialValue(s,i),i}createGroupId(e,t,n){const s=(i,a)=>{if(!i.rowGroupColumn)return null;const l=a?s(a,a.parent):null;return`${l==null?"":l+"-"}${i.rowGroupColumn.getColId()}-${i.key}`};return Kc+s(e,t)}setGroupData(e,t){e.groupData={},this.showRowGroupCols.getShowRowGroupCols().forEach(s=>{const i=e.rowGroupColumn;i!==null&&s.isRowGroupDisplayed(i.getId())&&(e.groupData[s.getColId()]=this.valueSvc.getValue(i,t.leafNode))})}getChildrenMappedKey(e,t){return t?t.getId()+"-"+e:e}setExpandedInitialValue(e,t){if(e.pivotMode&&t.leafGroup){t.expanded=!1;return}const n=e.isGroupOpenByDefault;if(n){const s={rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn};t.expanded=n(s)==!0;return}if(e.expandByDefault===-1){t.expanded=!0;return}t.expanded=t.level<e.expandByDefault}getGroupInfo(e,t){const n=[];return t.groupedCols.forEach(s=>{let i=this.valueSvc.getKeyForNode(s,e),a=i!=null&&i!=="";if((t.pivotMode||!t.groupAllowUnbalanced)&&!a&&(i="",a=!0),a){const u={key:i,field:s.getColDef().field,rowGroupColumn:s,leafNode:e};n.push(u)}}),n}};function HH(e,t){var n;(n=e.rowGroupColsSvc)==null||n.setColumns(t,"api")}function BH(e,t){var n;(n=e.rowGroupColsSvc)==null||n.removeColumns(t,"api")}function zH(e,t){var n;(n=e.rowGroupColsSvc)==null||n.addColumns(t,"api")}function VH(e,t,n){var s,i;(i=(s=e.rowGroupColsSvc)==null?void 0:s.moveColumn)==null||i.call(s,t,n,"api")}function WH(e){var t;return((t=e.rowGroupColsSvc)==null?void 0:t.columns)??[]}var _H={moduleName:"SharedRowGrouping",version:Kn,beans:[kH],apiFunctions:{setRowGroupColumns:HH,removeRowGroupColumns:BH,addRowGroupColumns:zH,getRowGroupColumns:WH,moveRowGroupColumn:VH},dependsOn:[ir,WR,TH,LH]},_2={moduleName:"RowGrouping",version:Kn,beans:[NH],rowModels:["clientSide"],dependsOn:[_H,mH,PH]},U2={moduleName:"RowGroupingPanel",version:Kn,selectors:[IH],icons:{pivotPanel:"pivot",rowGroupPanel:"group",panelDelimiter:"small-right",panelDelimiterRtl:"small-left"},dependsOn:[ir,OR]};Ff.values();var UH=["number","category","grouped-category","log","time"];UH.reduce((e,t)=>({...e,[t]:{title:{_enabledFromTheme:!0}}}),{});function ka(e){const{stacked:t,size:n,padding:s,xScalePadding:i,xScaleDomain:a,yScaleDomain:l,agChartsExports:{_Scene:u}}=e,h=new u.BandScale;h.domain=a,h.range=[s,n-s],h.paddingInner=i,h.paddingOuter=i;const f=new u.LinearScale;f.domain=l,f.range=[n-s,s];const p=(m,v,y)=>m.map((S,b)=>{const R=y.convert(S),E=new u.Rect;return E.x=v.convert(b),E.y=R,E.width=v.bandwidth,E.height=y.convert(0)-R,E.strokeWidth=0,E.crisp=!0,E});return t?e.data.map(m=>p(m,h,f)):p(e.data,h,f)}function UR(e,t,n,s){const i=[0,t[0].length-1],a=t.reduce((h,f)=>(f.forEach(p=>{p<h[0]&&(h[0]=p),p>h[1]&&(h[1]=p)}),h),[1/0,-1/0]);a[0]--,a[a.length-1]++;const l=new e.LinearScale;l.domain=i,l.range=[s,n-s];const u=new e.LinearScale;return u.domain=a,u.range=[n-s,s],{xScale:l,yScale:u}}function jR(e,t,n){return e.map(s=>s.map((i,a)=>[a>0?"lineTo":"moveTo",t.convert(a),n.convert(i)]))}function KR(e,t){const n=new e.Path;return t.forEach(([s,i,a])=>n.path[s](i,a)),n}function jH(e,t,n){return e.map((s,i,a)=>{const u=[...n?KH(a,i,t):YR(s,t)].reverse().map(([p,m,v])=>["lineTo",m,v]),h=s[0],f=Oe(u);return(h[1]!==f[1]||h[2]!==f[2])&&u.push(["lineTo",h[1],h[2]]),[...s,...u]})}function KH(e,t,n){return t===0?YR(e[t],n):[...e[t-1]]}function YR(e,t){return e.map(([n,s])=>[n,s,t.convert(0)])}function Og({_Scene:e},t,n,s,i){const{xScale:a,yScale:l}=UR(e,n,s,i),h=jR(n,a,l).map(p=>{const m=KR(e,p);return m.strokeWidth=3,m.lineCap="round",m.fill=void 0,m}),f=new e.Group;return f.setClipRect(new e.BBox(i,i,s-i*2,s-i*2)),f.append(h),t.append(f),h}function YH(e,t,n,s,i,a=!1){const{xScale:l,yScale:u}=UR(e,n,s,i),h=jH(jR(n,l,u),u,a),f=new e.Group;f.setClipRect(new e.BBox(i,i,s-i*2,s-i*2));const p=h.map(m=>KR(e,m));return f.append(p),t.append(f),p}function qR(e){return e.map((t,n,s)=>t.map((i,a)=>s.slice(0,n+1).reduce((l,u)=>l+u[a],0)))}function $R(e){const t=e.map((n,s)=>e.reduce((i,a)=>Math.max(i,a[s]),0));return e.map(n=>n.map((s,i)=>s/t[i]*19))}function XR(e,t,n,s,i,a,l=0){const{_Scene:u}=e,h=new u.LinearScale;h.domain=[0,7],h.range=[-Math.PI,Math.PI].map(S=>S+Math.PI/2);const f=new u.LinearScale;f.domain=[0,10],f.range=[i,a];const p=[],m=s/2,v=n.map(S=>{const b=new u.Path;return b.strokeWidth=1,b.strokeOpacity=.5,b.lineCap="round",b.fill=void 0,b.fillOpacity=.8,S.forEach((R,E)=>{const D=h.convert(E),A=i+a-f.convert(R),M=A*Math.cos(D)+m,T=A*Math.sin(D)+m;if(b.path[E>0?"lineTo":"moveTo"](M,T),l>0){const G=new u.Circle;G.x=M,G.y=T,G.size=l,p.push(G)}}),b.path.closePath(),b}),y=new u.Group;return y.append([...v,...p]),t.append(y),{paths:v,markers:p}}function uu(e){let[t,n]=[1/0,-1/0];return{processedData:e.reduce((i,a,l)=>{const u=l>0?i[l-1]:void 0;i[l]??(i[l]=[]);const h=i[l];return a.forEach((f,p)=>{u&&(f+=u[p]),h[p]=f,h[p]<t&&(t=h[p]),h[p]>n&&(n=h[p])}),i},[]),min:t,max:n}}var qH="ag-chart-mini-thumbnail-canvas",or=class extends Je{constructor(e,t,n){super(),this.agChartsExports=t,this.tooltipName=n,this.size=58,this.padding=5;const{_Scene:s}=t;this.root=new s.Group;const i=new s.Scene({width:this.size,height:this.size});i.canvas.element.classList.add(qH),i.setRoot(this.root),i.setContainer(e),this.scene=i}wireBeans(e){this.chartTranslation=e.chartTranslation}postConstruct(){this.scene.canvas.element.title=this.chartTranslation.translate(this.tooltipName);try{this.scene.render()}catch(e){Ye(108,{e})}}},kt=class extends or{constructor(e,t,n){super(e,t,n),this.stroke="gray",this.axisOvershoot=3}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,n=this.padding,s=new e.Line;s.x1=n,s.y1=n,s.x2=n,s.y2=t-n+this.axisOvershoot,s.stroke=this.stroke;const i=new e.Line;i.x1=n-this.axisOvershoot+1,i.y1=t-n,i.x2=t-n+1,i.y2=t-n,i.stroke=this.stroke;const a=this.root;a.append(s),a.append(i),super.postConstruct()}},$H=class extends kt{constructor(e,t,n,s){super(e,t,"groupedColumnTooltip"),this.columnData=[2,3,4];const{root:i,columnData:a,size:l,padding:u}=this;this.columns=ka({stacked:!1,root:i,data:a,size:l,padding:u,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3,agChartsExports:t}),i.append(this.columns),this.updateColors(n,s)}updateColors(e,t){this.columns.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]})}};$H.chartType="groupedColumn";var Ig=class ZR extends kt{constructor(t,n,s,i,a,l,u=ZR.data,h=[0,16],f="stackedColumnTooltip"){super(t,n,f);const{root:p,size:m,padding:v}=this;this.stackedColumns=ka({stacked:!0,root:p,data:u,size:m,padding:v,xScaleDomain:[0,1,2],yScaleDomain:h,xScalePadding:.3,agChartsExports:n}),p.append([].concat.apply([],this.stackedColumns)),this.updateColors(s,i)}updateColors(t,n){this.stackedColumns.forEach((s,i)=>s.forEach(a=>{a.fill=t[i],a.stroke=n[i]}))}};Ig.chartType="stackedColumn";Ig.data=[[8,12,16],[6,9,12],[2,3,4]];var XH=Ig,QR=class JR extends XH{constructor(t,n,s,i,a,l){super(t,n,s,i,a,l,JR.data,[0,10],"normalizedColumnTooltip")}};QR.chartType="normalizedColumn";QR.data=[[10,10,10],[6,7,8],[2,4,6]];var ZH=class extends kt{constructor(e,t,n,s){super(e,t,"groupedBarTooltip");const{_Scene:i}=t,a=this.padding,l=this.size,u=[2,3,4],h=new i.BandScale;h.domain=[0,1,2],h.range=[a,l-a],h.paddingInner=.3,h.paddingOuter=.3;const f=new i.LinearScale;f.domain=[0,4],f.range=[l-a,a];const p=f.convert(0),m=h.bandwidth;this.bars=u.map((v,y)=>{const S=new i.Rect;return S.x=a,S.y=h.convert(y),S.width=p-f.convert(v),S.height=m,S.strokeWidth=0,S.crisp=!0,S}),this.updateColors(n,s),this.root.append(this.bars)}updateColors(e,t){this.bars.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]})}};ZH.chartType="groupedBar";var kg=class ex extends kt{constructor(t,n,s,i,a,l,u=ex.data,h=[0,16],f="stackedBarTooltip"){super(t,n,f);const{_Scene:p}=n,m=this.size,v=this.padding,y=new p.BandScale;y.domain=[0,1,2],y.range=[v,m-v],y.paddingInner=.3,y.paddingOuter=.3;const S=new p.LinearScale;S.domain=h,S.range=[m-v,v];const b=S.convert(0),R=y.bandwidth;this.bars=u.map(E=>E.map((D,A)=>{const M=new p.Rect;return M.x=v,M.y=y.convert(A),M.width=b-S.convert(D),M.height=R,M.strokeWidth=0,M.crisp=!0,M})),this.updateColors(s,i),this.root.append([].concat.apply([],this.bars))}updateColors(t,n){this.bars.forEach((s,i)=>s.forEach(a=>{a.fill=t[i],a.stroke=n[i]}))}};kg.chartType="stackedBar";kg.data=[[8,12,16],[6,9,12],[2,3,4]];var QH=kg,tx=class nx extends QH{constructor(t,n,s,i,a,l){super(t,n,s,i,a,l,nx.data,[0,10],"normalizedBarTooltip")}};tx.chartType="normalizedBar";tx.data=[[10,10,10],[6,7,8],[2,4,6]];var sx=class extends or{constructor(e,t,n,s,i,a,l=.6,u="donutTooltip"){super(e,t,u);const{size:h,padding:f,agChartsExports:{_Scene:p}}=this,m=(h-f*2)/2,v=m+f,y=p.toRadians,S=[[y(-90),y(30)],[y(30),y(120)],[y(120),y(180)],[y(180),y(210)],[y(210),y(240)],[y(240),y(270)]];this.sectors=S.map(([b,R])=>{const E=new p.Sector;return E.centerX=v,E.centerY=v,E.innerRadius=m*l,E.outerRadius=m,E.startAngle=b,E.endAngle=R,E.stroke=void 0,E.strokeWidth=0,E.inset=.75,E}),this.updateColors(n,s),this.root.append(this.sectors)}updateColors(e,t){this.sectors.forEach((n,s)=>{n.fill=e[s%e.length],n.stroke=t[s%t.length]})}};sx.chartType="donut";var JH=class extends sx{constructor(e,t,n,s,i,a){super(e,t,n,s,i,a,0,"pieTooltip")}};JH.chartType="pie";var Gg=class ix extends kt{constructor(t,n,s,i,a,l,u=ix.data,h="lineTooltip"){super(t,n,h);const{size:f,padding:p,root:m}=this;this.lines=Og(n,m,u,f,p),this.updateColors(s,i)}updateColors(t,n){this.lines.forEach((s,i)=>{s.stroke=t[i]})}};Gg.chartType="line";Gg.data=[[1,3,5],[2,6,4],[5,3,1]];var du=Gg,Ng=class ox extends du{constructor(t,n,s,i,a,l,u=ox.data,h="stackedLineTooltip"){super(t,n,s,i,a,l,u,h)}};Ng.chartType="stackedLine";Ng.data=qR(du.data);var eB=Ng,rx=class ax extends du{constructor(t,n,s,i,a,l,u=ax.data,h="normalizedLineTooltip"){super(t,n,s,i,a,l,u,h)}};rx.chartType="normalizedLine";rx.data=$R(eB.data);var tB=class extends kt{constructor(e,t,n,s){super(e,t,"scatterTooltip");const{size:i,padding:a,agChartsExports:{_Scene:l}}=this,u=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],h=new l.LinearScale;h.domain=[-.5,4],h.range=[a*2,i-a];const f=new l.LinearScale;f.domain=[-.5,3.5],f.range=[i-a,a];const p=[];u.forEach(v=>{v.forEach(([y,S])=>{const b=new l.Arc;b.strokeWidth=0,b.centerX=h.convert(y),b.centerY=f.convert(S),b.radius=2.5,p.push(b)})}),this.points=p,this.updateColors(n,s);const m=new l.Group;m.setClipRect(new l.BBox(a,a,i-a*2,i-a*2)),m.append(this.points),this.root.append(m)}updateColors(e,t){this.points.forEach((n,s)=>{n.stroke=t[s%t.length],n.fill=e[s%e.length]})}};tB.chartType="scatter";var nB=class extends kt{constructor(e,t,n,s){super(e,t,"bubbleTooltip");const{size:i,padding:a,agChartsExports:{_Scene:l}}=this,u=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],h=new l.LinearScale;h.domain=[0,1],h.range=[a*2,i-a];const f=new l.LinearScale;f.domain=[0,1],f.range=[i-a,a];const p=[];u.forEach(v=>{v.forEach(([y,S,b])=>{const R=new l.Arc;R.strokeWidth=0,R.centerX=h.convert(y),R.centerY=f.convert(S),R.radius=b,R.fillOpacity=.7,p.push(R)})}),this.points=p,this.updateColors(n,s);const m=new l.Group;m.setClipRect(new l.BBox(a,a,i-a*2,i-a*2)),m.append(this.points),this.root.append(m)}updateColors(e,t){this.points.forEach((n,s)=>{n.stroke=t[s%t.length],n.fill=e[s%e.length]})}};nB.chartType="bubble";var Hg=class lx extends kt{constructor(t,n,s,i,a,l,u=lx.data,h="groupedAreaTooltip",f=!1){super(t,n,h),this.areas=YH(n._Scene,this.root,u,this.size,this.padding,f),this.updateColors(s,i)}updateColors(t,n){this.areas.forEach((s,i)=>{s.fill=t[i],s.stroke=n[i],s.strokeWidth=1,s.strokeOpacity=.75,s.fillOpacity=.7})}};Hg.chartType="area";Hg.data=du.data;var cx=Hg,Bg=class ux extends cx{constructor(t,n,s,i,a,l,u=ux.data,h="stackedAreaTooltip"){super(t,n,s,i,a,l,u,h,!0)}updateColors(t,n){this.areas.forEach((s,i)=>{s.fill=t[i],s.stroke=n[i]})}};Bg.chartType="stackedArea";Bg.data=qR(cx.data);var dx=Bg,hx=class fx extends dx{constructor(t,n,s,i,a,l,u=fx.data,h="normalizedAreaTooltip"){super(t,n,s,i,a,l,u,h)}};hx.chartType="normalizedArea";hx.data=$R(dx.data);var sB=class extends kt{constructor(e,t,n,s){super(e,t,"histogramTooltip");const{padding:i,size:a,agChartsExports:{_Scene:l}}=this,u=[2,5,11,13,10,6,1],h=new l.LinearScale;h.domain=[0,u.length],h.range=[i,a-i];const f=new l.LinearScale;f.domain=[0,u.reduce((m,v)=>Math.max(m,v),0)],f.range=[a-i,i];const p=f.convert(0);this.bars=u.map((m,v)=>{const y=f.convert(m),S=h.convert(v),b=h.convert(v+1),R=new l.Rect;return R.x=S,R.y=y,R.width=b-S,R.height=p-y,R.strokeWidth=1,R.strokeOpacity=.75,R.crisp=!0,R}),this.updateColors(n,s),this.root.append(this.bars)}updateColors([e],[t]){this.bars.forEach(n=>{n.fill=e,n.stroke=t})}};sB.chartType="histogram";var rr=class extends or{constructor(e,t,n){super(e,t,n),this.stroke="gray",this.showRadiusAxisLine=!0,this.showAngleAxisLines=!0}postConstruct(){const{_Scene:e}=this.agChartsExports,t=this.size,n=this.padding,s=n*2,i=(t-s)/2,a=this.showAngleAxisLines?[i,i*.8,i*.6,i*.4]:[],l=new e.Line;l.x1=t/2,l.y1=n,l.x2=t/2,l.y2=t-n-i-a[a.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;const u=n+i;this.gridLines=a.map((f,p)=>{const m=new e.Path;return m.path.arc(u,u,f,0,2*Math.PI),m.strokeWidth=1,m.stroke=this.stroke,m.strokeOpacity=p===0?.5:.2,m.fill=void 0,m});const h=this.root;h.append(l),this.gridLines.length>0&&h.append(this.gridLines),super.postConstruct()}},iB=class extends rr{constructor(e,t,n,s){super(e,t,"radialColumnTooltip"),this.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],this.showRadiusAxisLine=!1;const{padding:i,size:a,data:l,agChartsExports:{_Scene:u}}=this,h=(a-i*2)/2,p=h*.4,m=new u.BandScale;m.domain=l[0].map((E,D)=>D),m.range=[0,2*Math.PI],m.paddingInner=0,m.paddingOuter=0;const v=m.bandwidth*.7,{processedData:y,max:S}=uu(l),b=new u.LinearScale;b.domain=[0,S],b.range=[p,h];const R=this.size/2;this.series=y.map((E,D)=>{const M=D===0?void 0:y[D-1],T=new u.TranslatableGroup({zIndex:1e6}),G=E.map((O,z)=>{const N=M==null?void 0:M[z],V=b.convert(O),_=b.convert(N??0),Z=m.convert(z),ie=Z+v,re=u.getRadialColumnWidth(Z,ie,h,.5,.5),ee=new u.RadialColumnShape;return ee.columnWidth=re,ee.innerRadius=_,ee.outerRadius=V,ee.startAngle=Z,ee.endAngle=ie,ee.isBeveled=!0,ee.axisInnerRadius=p,ee.axisOuterRadius=h,ee.stroke=void 0,ee.strokeWidth=0,ee});return T.append(G),T.translationX=R,T.translationY=R,T}),this.root.append(this.series),this.updateColors(n,s)}updateColors(e,t){this.series.forEach((n,s)=>{for(const i of n.children())i.fill=e[s%e.length],i.stroke=t[s%t.length]})}};iB.chartType="radialColumn";var oB=class extends rr{constructor(e,t,n,s){super(e,t,"radialBarTooltip"),this.data=[[6,8,10],[4,4,3],[5,4,2]],this.showRadiusAxisLine=!1;const{size:i,padding:a,data:l,agChartsExports:{_Scene:u}}=this,h=(i-a)/2,p=h*.4,m=new u.BandScale;m.domain=l[0].map((A,M)=>M),m.range=[p,h],m.paddingInner=.5,m.paddingOuter=0;const v=m.bandwidth,{processedData:y,max:S}=uu(l),b=new u.LinearScale;b.domain=[0,Math.ceil(S*1.5)];const R=3/2*Math.PI,E=R+2*Math.PI;b.range=[R,E];const D=i/2;this.series=y.map((A,M)=>{const T=M<0?void 0:y[M-1],G=new u.Group({zIndex:1e6}),O=A.map((z,N)=>{const V=(T==null?void 0:T[N])??0,_=m.convert(N),Z=_-v,ie=b.convert(V),re=b.convert(z),ee=new u.Sector;return ee.centerX=D,ee.centerY=D,ee.innerRadius=Z,ee.outerRadius=_,ee.startAngle=ie,ee.endAngle=re,ee.stroke=void 0,ee.strokeWidth=0,ee});return G.append(O),G}),this.root.append(this.series),this.updateColors(n,s)}updateColors(e,t){this.series.forEach((n,s)=>{for(const i of n.children())i.fill=e[s%e.length],i.stroke=t[s%t.length]})}};oB.chartType="radialBar";var rB=class extends rr{constructor(e,t,n,s){super(e,t,"radarLineTooltip"),this.markerSize=4,this.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],this.showRadiusAxisLine=!1;const{size:i,padding:a,root:l,data:u}=this,h=(i-a*2)/2,f=0,{paths:p,markers:m}=XR(t,l,u,i,h,f,this.markerSize);this.lines=p,this.markers=m,this.updateColors(n,s)}updateColors(e,t){this.lines.forEach((n,s)=>{const i=this.data[s].length;n.stroke=e[s];const a=s*i,l=a+i;this.markers.slice(a,l).forEach(h=>{h.stroke=t[s],h.fill=e[s]})})}};rB.chartType="radarLine";var aB=class extends rr{constructor(e,t,n,s){super(e,t,"radarAreaTooltip"),this.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]];const{size:i,padding:a,root:l,data:u}=this;this.showRadiusAxisLine=!1;const h=(i-a*2)/2,f=h-i*.3;this.areas=XR(t,l,u,i,h,f).paths,this.updateColors(n,s)}updateColors(e,t){this.areas.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]})}};aB.chartType="radarArea";var lB=class extends rr{constructor(e,t,n,s){super(e,t,"nightingaleTooltip"),this.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],this.showRadiusAxisLine=!1;const{size:i,padding:a,data:l,agChartsExports:{_Scene:u}}=this,h=(i-a*2)/2,f=new u.BandScale;f.domain=l[0].map((b,R)=>R),f.range=[-Math.PI,Math.PI],f.paddingInner=0,f.paddingOuter=0;const p=f.bandwidth*.7,{processedData:m,max:v}=uu(l),y=new u.LinearScale;y.domain=[0,v],y.range=[0,h];const S=i/2;this.series=m.map((b,R)=>{const E=R<0?void 0:m[R-1],D=new u.Group({zIndex:1e6}),A=b.map((M,T)=>{const G=E==null?void 0:E[T],O=y.convert(M),z=y.convert(G??0),N=f.convert(T),V=N+p,_=new u.Sector;return _.centerX=S,_.centerY=S,_.innerRadius=z,_.outerRadius=O,_.startAngle=N,_.endAngle=V,_.stroke=void 0,_.strokeWidth=0,_});return D.append(A),D}),this.root.append(this.series),this.updateColors(n,s)}updateColors(e,t){this.series.forEach((n,s)=>{for(const i of n.children())i.fill=e[s%e.length],i.stroke=t[s%t.length]})}};lB.chartType="nightingale";var cB=class extends kt{constructor(e,t,n,s){super(e,t,"rangeBarTooltip");const i=[3,3.5,3];this.bars=this.createRangeBar(this.root,i,this.size,this.padding,"vertical"),this.updateColors(n,s)}updateColors(e,t){this.bars.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]})}createRangeBar(e,t,n,s,i){const a=i==="horizontal",l=2*s,{_Scene:u}=this.agChartsExports,h=new u.BandScale;h.domain=t.map((S,b)=>b),h.range=[s,n-s],h.paddingInner=.3,h.paddingOuter=.3;const f=.7,p=1.3,m=new u.LinearScale;m.domain=[t.reduce((S,b)=>Math.min(S,b),1/0)*f,t.reduce((S,b)=>Math.max(S,b),0)*p],m.range=[l,n-l];const v=h.bandwidth,y=t.map((S,b)=>{const[R,E]=[S*f,S*p],D=h.convert(b),A=m.convert(R),M=m.convert(E)-A,T=new u.Rect;return T.x=a?A:D,T.y=a?D:A,T.width=a?M:v,T.height=a?v:M,T.strokeWidth=0,T.crisp=!0,T});return e.append(y),y}};cB.chartType="rangeBar";var uB=class extends kt{constructor(e,t,n,s){super(e,t,"rangeAreaTooltip");const i=4,a=[nf({offset:.375*i,length:i,pattern:{low:3,high:5,period:i}}),nf({offset:.375*i,length:i,pattern:{low:2.25,high:4.25,period:i}}),nf({offset:.75*i,length:i,pattern:{low:2.5,high:4.5,period:i}})],l=1.75,u=a.map(p=>p.map(([m,v])=>({x:m,low:v-.5*l,high:v+.5*l}))),{lines:h,areas:f}=this.createRangeArea(this.root,u,this.size,this.padding);this.lines=h,this.areas=f,this.updateColors(n,s)}updateColors(e,t){e=Jy(e,1,2),t=Jy(t,1,2),this.lines.forEach(([n,s],i)=>{n.fill=void 0,n.stroke=t[i],s.fill=void 0,s.stroke=t[i]}),this.areas.forEach((n,s)=>{n.fill=e[s]})}createRangeArea(e,t,n,s){const i=t.reduce((b,R)=>R.reduce((E,{x:D})=>Math.min(E,D),b),1/0),a=t.reduce((b,R)=>R.reduce((E,{x:D})=>Math.max(E,D),b),-1/0),l=t.reduce((b,R)=>R.reduce((E,{low:D})=>Math.min(E,D),b),1/0),u=t.reduce((b,R)=>R.reduce((E,{high:D})=>Math.max(E,D),b),-1/0),{_Scene:h}=this.agChartsExports,f=new h.LinearScale;f.domain=[i,a],f.range=[s,n-s];const p=2*s,m=new h.LinearScale;m.domain=[l,u],m.range=[n-p,p];const v=[],y=[];return t.map(b=>{const R=new h.Path,E=new h.Path,D=new h.Path;return v.push([R,E]),y.push(D),R.strokeWidth=0,E.strokeWidth=0,D.strokeWidth=0,D.fillOpacity=.8,R.path.clear(),E.path.clear(),D.path.clear(),b.map((A,M)=>{const{x:T,low:G,high:O}=A,z=f.convert(T),N=m.convert(G),V=m.convert(O),_=M>0?"lineTo":"moveTo";return R.path[_](z,V),E.path[_](z,N),D.path[_](z,V),[z,N]})}).forEach((b,R)=>{const E=b.length-1,D=y[R];for(let A=E;A>=0;A--){const[M,T]=b[A];D.path.lineTo(M,T)}}),e.append(y.concat(...v)),{lines:v,areas:y}}};uB.chartType="rangeArea";function nf(e){const{offset:t,length:n,pattern:s}=e,i=u(t,n,s),a=0,l=n;return(i.length===0||i[0][0]!==a)&&i.unshift(h(a,t,s)),i[i.length-1][0]!==l&&i.push(h(l,t,s)),i;function u(p,m,v){const{period:y}=v,S=p/y,R=[0,.5].map(D=>D-S).map(Qy).sort((D,A)=>D-A);return Array.from({length:Math.floor(R.length*(y/m))},(D,A)=>R[A%R.length]+Math.floor(A/R.length)).map(D=>D*y).map(D=>h(D,p,v))}function h(p,m,v){return[p,f(m+p,v)]}function f(p,m){const{low:v,high:y,period:S}=m,b=Qy(p/S),R=b>.5?1-2*(b-.5):2*b;return v+(y-v)*R}}function Qy(e){const t=e%1;return t<0?t+1:t}function Jy(e,t,n){const s=[...e],i=s[t];return s[t]=s[n],s[n]=i,s}var dB=class extends kt{constructor(e,t,n,s,i,a){super(e,t,"boxPlotTooltip");const{size:l,padding:u,agChartsExports:{_Scene:h}}=this,f=[11,11.5,10.5],p=1.2,m=1.1,v=.9,y=.8,S=new h.LinearScale;S.domain=[f.reduce((D,A)=>Math.min(D,A),1/0)*y,f.reduce((D,A)=>Math.max(D,A),0)*p],S.range=[l-1.5*u,u];const b=new h.BandScale;b.domain=f.map((D,A)=>A),b.range=[u,l-u],b.paddingInner=.4,b.paddingOuter=.2;const R=Math.round(b.bandwidth),E=Math.round(b.bandwidth/2);this.boxPlotGroups=f.map((D,A)=>{const[M,T,G,O]=[D*y,D*v,D*m,D*p],z=Math.round(S.convert(G)),N=Math.round(b.convert(A)),V=Math.round(N+R),_=Math.round(S.convert(T)),Z=Math.round(S.convert(M)),ie=Math.round(S.convert(D)),re=Math.round(S.convert(O)),ee=N+E,H=new h.Group,J=new h.Rect,Y=new h.Line,ce=new h.Line,P=new h.Line,j=new h.Line,$=new h.Line;return J.x=N,J.y=z,J.width=R,J.height=_-z,J.strokeWidth=1,J.strokeOpacity=.75,J.crisp=!0,this.setLineProperties(Y,N,V,ie,ie),this.setLineProperties(ce,ee,ee,re,z),this.setLineProperties(P,ee,ee,Z,_),this.setLineProperties(j,N,V,re,re),this.setLineProperties($,N,V,Z,Z),H.append([J,Y,ce,P,j,$]),H}),this.updateColors(n,s,i,a),this.root.append(this.boxPlotGroups)}updateColors(e,t,n,s){const{agChartsExports:{_Util:i,_Theme:a}}=this,l=n==null?void 0:n.get(a.themeSymbols.DEFAULT_BACKGROUND_COLOUR),u=(Array.isArray(l)?l[0]:l)??"white";this.boxPlotGroups.forEach((h,f)=>{for(const p of h.children()){const m=e[f%e.length];p.fill=s?m:i.interpolateColor(m,u)(.7),p.stroke=t[f%t.length]}})}setLineProperties(e,t,n,s,i){e.x1=t,e.x2=n,e.y1=s,e.y2=i,e.strokeOpacity=.75}};dB.chartType="boxPlot";var hB=class extends or{constructor(e,t,n,s,i,a){super(e,t,"treemapTooltip");const{size:l,padding:u,agChartsExports:{_Scene:h}}=this,f=[[1,1],[3,2,1]],m=f.length%2===0?.3:.2,v=[u,l-u],y=f.length,S=y*(y+1)/2,b=m/(y-1),R=v[1]-v[0],E=R-m;let D=v[0];this.rects=f.reduce((M,T,G)=>{M??(M=[]);const O=(y-G)/S,z=E*O,N=T.length,V=T.reduce((ee,H)=>ee+=H,0),_=m/(N-1||1),Z=N>1?R-m:R;let ie=v[0];const re=T.map(ee=>{const H=new h.Rect,J=Z*ee/V;return H.x=D,H.y=ie,H.width=z,H.height=J,H.strokeWidth=.75,H.crisp=!0,ie+=J+_,H});return D+=z+b,M.push(...re),M},[]),this.updateColors(n,s,i,a);const A=new h.Group;A.setClipRect(new h.BBox(u,u,l-u,l-u)),A.append(this.rects),this.root.append(A)}updateColors(e,t,n,s){const i=n==null?void 0:n.get(this.agChartsExports._Theme.themeSymbols.DEFAULT_BACKGROUND_COLOUR),a=(Array.isArray(i)?i[0]:i)??"white";this.rects.forEach((l,u)=>{l.fill=e[u%t.length],l.stroke=s?t[u%t.length]:a})}};hB.chartType="treemap";var fB=class extends rr{constructor(e,t,n,s){super(e,t,"sunburstTooltip"),this.data=[[[],[]],[[],[]],[[],[]]],this.angleOffset=-Math.PI/2,this.innerRadiusRatio=0,this.showRadiusAxisLine=!1,this.showAngleAxisLines=!1;const{data:i,size:a,padding:l,angleOffset:u,innerRadiusRatio:h,agChartsExports:{_Scene:f}}=this,p=(a-l*2)/2,m=[u+0,u+2*Math.PI],v=Math.abs(m[1]-m[0]),y=[p*h,p],S=Math.abs(y[1]-y[0]);let b=0;const R=(T,G)=>{T.forEach(O=>{const z=G+1;b=Math.max(b,z),R(O,z)})};R(i,0);const E=S/b,D=this.size/2,A=m[0];this.series=[];const M=(T,G,O,z,N)=>{if(!Array.isArray(T))return;const _=G+1;let Z=O;T.forEach((ie,re,ee)=>{let H=N;H||(H=new f.Group,this.series.push(H));const J=y[0]+G*E,Y=y[0]+_*E,ce=1/ee.length,P=Z,j=P+z*ce,$=new f.Sector;$.centerX=D,$.centerY=D,$.innerRadius=J,$.outerRadius=Y,$.startAngle=P,$.endAngle=j,$.stroke=void 0,$.strokeWidth=0,$.inset=.75,Z=j,H.append($),M(ie,_,P,Math.abs(j-P),H)})};M(i,0,A,v),this.root.append(this.series),this.updateColors(n,s)}updateColors(e,t){this.series.forEach((n,s)=>{for(const i of n.children())i.fill=e[s%e.length],i.stroke=t[s%t.length]})}};fB.chartType="sunburst";var gB=class extends or{constructor(e,t,n,s,i,a){super(e,t,"heatmapTooltip");const{size:l,padding:u,agChartsExports:{_Scene:h}}=this,f=3,p=Array.from({length:f},(E,D)=>Array.from({length:f},(A,M)=>M)),m=p.map((E,D)=>D),v=new h.BandScale;v.domain=m,v.range=[u,l-u],v.paddingInner=.01,v.paddingOuter=.1;const y=new h.BandScale;y.domain=m,y.range=[u,l-u],y.paddingInner=.01,y.paddingOuter=.1;const S=v.bandwidth??0,b=y.bandwidth??0;this.rects=p.reduce((E,D,A)=>{E??(E=[]);const M=D.map((T,G)=>{const O=new h.Rect;return O.x=v.convert(A),O.y=y.convert(G),O.width=S,O.height=b,O.strokeWidth=0,O.crisp=!0,O});return E.push(...M),E},[]),this.updateColors(n,s,i,a);const R=new h.Group;R.setClipRect(new h.BBox(u,u,l-u,l-u)),R.append(this.rects),this.root.append(R)}updateColors(e,t,n,s){const{_Theme:i,_Util:a}=this.agChartsExports,l=n==null?void 0:n.get(i.themeSymbols.DEFAULT_DIVERGING_SERIES_COLOR_RANGE),u=n==null?void 0:n.get(i.themeSymbols.DEFAULT_BACKGROUND_COLOUR),h=(Array.isArray(u)?u[0]:u)??"white",f=s?[e[0],e[1]]:l,p=s?t[0]:h,m=a.interpolateColor(f[0],f[1]);this.rects.forEach((v,y)=>{v.fill=m(y*.2),v.stroke=p})}};gB.chartType="heatmap";var pB=class extends kt{constructor(e,t,n,s,i,a){super(e,t,"waterfallTooltip"),this.data=[4,3,-3,6,-3],this.bars=this.createWaterfall(this.root,this.data,this.size,this.padding,"vertical").bars,this.updateColors(n,s,i,a)}updateColors(e,t,n,s){const{data:i,agChartsExports:{_Theme:{themeSymbols:a}}}=this,l={fill:s?e[0]:n==null?void 0:n.get(a.PALETTE_ALT_UP_FILL),stroke:s?t[0]:n==null?void 0:n.get(a.PALETTE_ALT_UP_STROKE)},u={fill:s?e[1]:n==null?void 0:n.get(a.PALETTE_ALT_DOWN_FILL),stroke:s?t[1]:n==null?void 0:n.get(a.PALETTE_ALT_DOWN_STROKE)};this.bars.forEach((h,f)=>{const p=i[f]>=0;h.fill=p?l.fill:u.fill,h.stroke=p?l.stroke:u.stroke})}createWaterfall(e,t,n,s,i){const a=2*s,{processedData:l,min:u,max:h}=uu(t.map(A=>[A])),f=l.reduce((A,M)=>A.concat(M),[]),{_Scene:p}=this.agChartsExports,m=new p.LinearScale;m.domain=[Math.min(u,0),h],m.range=[n-a,a];const v=new p.BandScale;v.domain=t.map((A,M)=>M),v.range=[s,n-s],v.paddingInner=.2,v.paddingOuter=.3;const y=v.bandwidth,S=new p.Path;S.stroke="#575757",S.strokeWidth=0;const b=Math.floor(S.strokeWidth)%2/2,R=S.path;R.clear();const E=i==="horizontal",D=f.map((A,M)=>{const T=M>0?f[M-1]:0,O=t[M]>0,z=Math.round(m.convert(A)),N=Math.round(m.convert(T)),V=(O?z:N)-b,_=(O?N:z)+b,Z=Math.abs(_-V),ie=v.convert(M),re=new p.Rect;re.x=E?V:ie,re.y=E?ie:V,re.width=E?Z:y,re.height=E?y:Z,re.strokeWidth=0,re.crisp=!0;const ee=z+b,H=N+b;if(M>0){const ce=E?H:re.x,P=E?re.y:H;R.lineTo(ce,P)}const J=E?ee:re.x,Y=E?re.y:ee;return R.moveTo(J,Y),re});return e.append([S,...D]),{bars:D}}};pB.chartType="waterfall";var mB=class extends kt{constructor(e,t,n,s){super(e,t,"columnLineComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:i,columnData:a,lineData:l,size:u,padding:h}=this;this.columns=ka({stacked:!1,root:i,data:a,size:u,padding:h,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),i.append(this.columns),this.lines=Og(t,i,l,u,h),this.updateColors(n,s)}updateColors(e,t){this.columns.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]}),this.lines.forEach((n,s)=>{n.stroke=e[s+2]})}};mB.chartType="columnLineCombo";var CB=class extends kt{constructor(e,t,n,s){super(e,t,"areaColumnComboTooltip"),this.columnData=[3,4.5],this.areaData=[[5,4,6,5,4]];const{root:i,columnData:a,areaData:l,size:u,padding:h,agChartsExports:{_Scene:f}}=this;this.columns=ka({stacked:!1,root:i,data:a,size:u,padding:h,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5,agChartsExports:t});const p=new f.BandScale;p.range=[h,u-h],p.domain=[0,1,2,3,4],p.paddingInner=1,p.paddingOuter=0;const m=new f.LinearScale;m.range=[u-h,h],m.domain=[0,6];const v=[],y=m.convert(0),S=p.convert(0);l.forEach((E,D)=>{const A=v[D]||(v[D]=[]);E.forEach((T,G)=>{const O=T,z=G,N=p.convert(z),V=m.convert(O);A[G]={x:N,y:V}});const M=p.convert(E.length-1);v[D].push({x:M,y},{x:S,y})}),this.areas=v.map(E=>{const D=new f.Path;D.strokeWidth=0,D.fillOpacity=.8;const A=D.path;return E.forEach((M,T)=>A[T>0?"lineTo":"moveTo"](M.x,M.y)),D});const b=new f.Group;b.setClipRect(new f.BBox(h,h,u-h*2,u-h*2));const R=new f.Group;R.setClipRect(new f.BBox(h,h,u-h*2,u-h*2)),b.append(this.areas),R.append(this.columns),i.append(b),i.append(R),this.updateColors(n,s)}updateColors(e,t){this.areas.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]}),this.columns.forEach((n,s)=>{n.fill=e[s+1],n.stroke=t[s+1]})}};CB.chartType="areaColumnCombo";var vB=class extends or{constructor(e,t,n,s){super(e,t,"customComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];const{root:i,columnData:a,lineData:l,size:u,padding:h,agChartsExports:{_Scene:f}}=this;this.columns=ka({stacked:!1,root:i,data:a,size:u,padding:h,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:t}),i.append(this.columns),this.lines=Og(this.agChartsExports,i,l,u,h);const p="grey",m=3,v=new f.Line;v.x1=h,v.y1=h,v.x2=h,v.y2=u-h+m,v.stroke=p;const y=new f.Line;y.x1=h-m+1,y.y1=u-h,y.x2=u-h+1,y.y2=u-h,y.stroke=p;const S=new f.Path;this.buildPenIconPath(S),S.fill="whitesmoke",S.stroke="darkslategrey",S.strokeWidth=1,i.append([y,v,S]),this.updateColors(n,s)}updateColors(e,t){this.columns.forEach((n,s)=>{n.fill=e[s],n.stroke=t[s]}),this.lines.forEach((n,s)=>{n.stroke=e[s+2]})}buildPenIconPath(e){const{path:t}=e;t.moveTo(25.76,43.46),t.lineTo(31.27,48.53),t.moveTo(49.86,22),t.lineTo(49.86,22),t.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),t.lineTo(46.86,21.41),t.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),t.lineTo(25.51,43.8),t.lineTo(25.43,43.89),t.lineTo(23.01,51.89),t.lineTo(22.83,52.46),t.lineTo(31.02,48.86),t.lineTo(49.02,28.52),t.lineTo(49.02,28.52),t.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),t.lineTo(50.75,24.93),t.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),t.closePath(),t.moveTo(41.76,25.5),t.lineTo(47.34,30.5),t.moveTo(40.74,26.65),t.lineTo(46.25,31.71)}};vB.chartType="customCombo";var Ft=Q.createContext({}),Ga=(e,t,n,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();let l,u,h=!1;return a.then(f=>{if(h){t.destroyBean(f);return}l=f,u=l.getGui(),n.appendChild(u),ew(s,l)}),()=>{var f;h=!0,l&&((f=u==null?void 0:u.parentElement)==null||f.removeChild(u),t.destroyBean(l),s&&ew(s,void 0))}},ew=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},Rn=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),mn=class gx{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new gx;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},ar=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},aw,Gf=(aw=Q.version)==null?void 0:aw.split(".")[0],yB=Gf==="16"||Gf==="17";function wB(){return Gf==="19"}var bc=!1;function bB(e){return bc||setTimeout(()=>bc=!1,0),bc=!0,e()}var zg=(e,t)=>{!yB&&e&&!bc?qE.flushSync(t):t()};function Vg(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],i=[],a=new Map,l=new Map;for(let u=0;u<t.length;u++){const h=t[u];l.set(h.instanceId,h)}for(let u=0;u<e.length;u++){const h=e[u];a.set(h.instanceId,h),l.has(h.instanceId)&&s.push(h)}for(let u=0;u<t.length;u++){const h=t[u],f=h.instanceId;a.has(f)||i.push(h)}return s.length===e.length&&i.length===0?e:s.length===0&&i.length===t.length?t:s.length===0?i:i.length===0?s:[...s,...i]}var px=w.forwardRef((e,t)=>{var J;const{registry:n,context:s}=w.useContext(Ft),i=w.useRef(null),a=w.useRef(null),l=w.useRef(null),u=w.useRef(null),h=w.useRef(null),f=w.useRef(),[p,m]=w.useState(),[v,y]=w.useState(),[S,b]=w.useState(),[R,E]=w.useState(()=>new mn),[D,A]=w.useState(()=>new mn("ag-hidden")),[M,T]=w.useState(()=>new mn("ag-hidden")),[G,O]=w.useState(()=>new mn("ag-invisible"));w.useImperativeHandle(t,()=>({refresh(){return!1}})),w.useLayoutEffect(()=>Ga(p,s,a.current),[p]);const z=w.useCallback(Y=>{if(i.current=Y,!Y){f.current=s.destroyBean(f.current);return}const ce={setInnerRenderer:(j,$)=>{m(j),b($)},setChildCount:j=>y(j),addOrRemoveCssClass:(j,$)=>E(ae=>ae.setClass(j,$)),setContractedDisplayed:j=>T($=>$.setClass("ag-hidden",!j)),setExpandedDisplayed:j=>A($=>$.setClass("ag-hidden",!j)),setCheckboxVisible:j=>O($=>$.setClass("ag-invisible",!j))},P=n.createDynamicBean("groupCellRendererCtrl",!0);P&&(f.current=s.createBean(P),f.current.init(ce,Y,l.current,u.current,h.current,px,e))},[]),N=w.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),V=w.useMemo(()=>`ag-group-expanded ${D.toString()}`,[D]),_=w.useMemo(()=>`ag-group-contracted ${M.toString()}`,[M]),Z=w.useMemo(()=>`ag-group-checkbox ${G.toString()}`,[G]),ie=p&&p.componentFromFramework,re=ie?p.componentClass:void 0,ee=p==null&&S!=null,H=ps(S,!0);return Q.createElement("span",{className:N,ref:z,...e.colDef?{}:{role:(J=f.current)==null?void 0:J.getCellAriaRole()}},Q.createElement("span",{className:V,ref:u}),Q.createElement("span",{className:_,ref:h}),Q.createElement("span",{className:Z,ref:l}),Q.createElement("span",{className:"ag-group-value",ref:a},ee&&Q.createElement(Q.Fragment,null,H),ie&&Q.createElement(re,{...p.params})),Q.createElement("span",{className:"ag-group-child-count"},v))}),tw=px,Wg=w.createContext({setMethods:()=>{}}),SB=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:s,setMethods:i}=e,[{key:a,...l},u]=w.useState(t);return w.useEffect(()=>{n(h=>u(h))},[]),Q.createElement(Wg.Provider,{value:{setMethods:i}},Q.createElement(s,{key:a,...l}))},RB=w.memo(SB),xB=0;function nw(){return`agPortalKey_${++xB}`}var mx=class{constructor(e,t,n,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=nw(),this.portalKey=nw(),this.instanceCreated=this.isStatelessComponent()?Qe.resolve(!1):new Qe(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const s=n[e];if(s)return s.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Qe(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=zi.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return w.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function _g(e,t,n){e.forEach(s=>{const i=t[s];i&&(n[s]=i)})}var Yn=class extends mx{constructor(){super(...arguments),this.awaitUpdateCallback=new Qe(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=RB}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Qe(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,_g(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Qe(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},EB=class extends Yn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},DB=class extends Yn{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},AB=class extends Yn{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:s}=this;return e.label=t,e.icon=n,e.shake=s,e}},FB=class extends Yn{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function Cx(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Qe.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var MB=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){_g(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Cx(this.floatingFilterParams,e)}},TB=class extends Yn{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Cx(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},PB=class extends Yn{refresh(e){this.sourceParams=e,this.refreshProps()}},LB=class extends Yn{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},OB=class extends Yn{refresh(e){this.sourceParams=e,this.refreshProps()}},IB=class extends Yn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},kB=class extends Yn{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Ug(){me(231)}var GB=1e3,NB=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||GB}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},HB=({ctrl:e})=>{const t=e.isAlive(),{context:n}=w.useContext(Ft),s=t?e.column.getColId():void 0,[i,a]=w.useState(),l=w.useRef(),u=w.useRef(null),h=w.useRef(null),f=w.useRef(null),p=w.useRef(),m=w.useRef();t&&!m.current&&(m.current=new La(()=>u.current));const v=w.useCallback(R=>{var A;if(u.current=R,l.current=R?n.createBean(new sr):n.destroyBean(l.current),!R||!t)return;const E={setWidth:M=>{u.current&&(u.current.style.width=M)},addOrRemoveCssClass:(M,T)=>m.current.addOrRemoveCssClass(M,T),setAriaSort:M=>{u.current&&(M?TT(u.current,M):PT(u.current))},setUserCompDetails:M=>a(M),getUserCompInstance:()=>p.current||void 0};e.setComp(E,R,h.current,f.current,l.current);const D=e.getSelectAllGui();D&&((A=h.current)==null||A.insertAdjacentElement("afterend",D),l.current.addDestroyFunc(()=>D.remove()))},[]);w.useLayoutEffect(()=>Ga(i,n,f.current,p),[i]),w.useEffect(()=>{e.setDragSource(u.current)},[i]);const y=w.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&ar(i.componentClass)),[i]),S=i&&i.componentFromFramework,b=i&&i.componentClass;return Q.createElement("div",{ref:v,className:"ag-header-cell","col-id":s,role:"columnheader"},Q.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),Q.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},S&&y&&Q.createElement(b,{...i.params}),S&&!y&&Q.createElement(b,{...i.params,ref:p})))},BB=w.memo(HB),zB=({ctrl:e})=>{const{context:t,gos:n}=w.useContext(Ft),[s,i]=w.useState(()=>new mn("ag-header-cell","ag-floating-filter")),[a,l]=w.useState(()=>new mn),[u,h]=w.useState(()=>new mn("ag-floating-filter-button","ag-hidden")),[f,p]=w.useState("false"),[m,v]=w.useState(),[,y]=w.useState(1),S=w.useRef(),b=w.useRef(null),R=w.useRef(null),E=w.useRef(null),D=w.useRef(null),A=w.useRef(),M=w.useRef(),T=H=>{H!=null&&A.current&&A.current(H)},G=w.useCallback(H=>{if(b.current=H,S.current=H?t.createBean(new sr):t.destroyBean(S.current),!H)return;M.current=new Qe(Y=>{A.current=Y});const J={addOrRemoveCssClass:(Y,ce)=>i(P=>P.setClass(Y,ce)),addOrRemoveBodyCssClass:(Y,ce)=>l(P=>P.setClass(Y,ce)),setButtonWrapperDisplayed:Y=>{h(ce=>ce.setClass("ag-hidden",!Y)),p(Y?"false":"true")},setWidth:Y=>{b.current&&(b.current.style.width=Y)},setCompDetails:Y=>v(Y),getFloatingFilterComp:()=>M.current?M.current:null,setMenuIcon:Y=>{var ce;return(ce=D.current)==null?void 0:ce.appendChild(Y)}};e.setComp(J,H,D.current,R.current,S.current)},[]);w.useLayoutEffect(()=>Ga(m,t,R.current,T),[m]);const O=w.useMemo(()=>s.toString(),[s]),z=w.useMemo(()=>a.toString(),[a]),N=w.useMemo(()=>u.toString(),[u]),V=w.useMemo(()=>!!(m&&m.componentFromFramework&&ar(m.componentClass)),[m]),_=w.useMemo(()=>n.get("reactiveCustomComponents"),[]),Z=w.useMemo(()=>{if(m)if(_){const H=new MB(m.params,()=>y(J=>J+1));return T(H),H}else m.componentFromFramework&&Ug()},[m]),ie=Z==null?void 0:Z.getProps(),re=m&&m.componentFromFramework,ee=m&&m.componentClass;return Q.createElement("div",{ref:G,className:O,role:"gridcell"},Q.createElement("div",{ref:R,className:z,role:"presentation"},re&&!_&&Q.createElement(ee,{...m.params,ref:V?()=>{}:T}),re&&_&&Q.createElement(Wg.Provider,{value:{setMethods:H=>Z.setMethods(H)}},Q.createElement(ee,{...ie}))),Q.createElement("div",{ref:E,"aria-hidden":f,className:N,role:"presentation"},Q.createElement("button",{ref:D,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},VB=w.memo(zB),WB=({ctrl:e})=>{const{context:t}=w.useContext(Ft),[n,s]=w.useState(()=>new mn),[i,a]=w.useState(()=>new mn),[l,u]=w.useState("false"),[h,f]=w.useState(),[p,m]=w.useState(),v=w.useMemo(()=>e.column.getUniqueId(),[]),y=w.useRef(),S=w.useRef(null),b=w.useRef(null),R=w.useRef(null),E=w.useRef(),D=w.useCallback(z=>{if(S.current=z,y.current=z?t.createBean(new sr):t.destroyBean(y.current),!z)return;const N={setWidth:V=>{S.current&&(S.current.style.width=V)},addOrRemoveCssClass:(V,_)=>s(Z=>Z.setClass(V,_)),setHeaderWrapperHidden:V=>{const _=R.current;_&&(V?_.style.setProperty("display","none"):_.style.removeProperty("display"))},setHeaderWrapperMaxHeight:V=>{const _=R.current;_&&(V!=null?_.style.setProperty("max-height",`${V}px`):_.style.removeProperty("max-height"),_.classList.toggle("ag-header-cell-comp-wrapper-limited-height",V!=null))},setUserCompDetails:V=>m(V),setResizableDisplayed:V=>{a(_=>_.setClass("ag-hidden",!V)),u(V?"false":"true")},setAriaExpanded:V=>f(V),getUserCompInstance:()=>E.current||void 0};e.setComp(N,z,b.current,R.current,y.current)},[]);w.useLayoutEffect(()=>Ga(p,t,R.current),[p]),w.useEffect(()=>{S.current&&e.setDragSource(S.current)},[p]);const A=w.useMemo(()=>!!((p==null?void 0:p.componentFromFramework)&&ar(p.componentClass)),[p]),M=w.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),T=w.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),G=p&&p.componentFromFramework,O=p&&p.componentClass;return Q.createElement("div",{ref:D,className:M,"col-id":v,role:"columnheader","aria-expanded":h},Q.createElement("div",{ref:R,className:"ag-header-cell-comp-wrapper",role:"presentation"},G&&A&&Q.createElement(O,{...p.params}),G&&!A&&Q.createElement(O,{...p.params,ref:E})),Q.createElement("div",{ref:b,"aria-hidden":l,className:T}))},_B=w.memo(WB),UB=({ctrl:e})=>{const{context:t}=w.useContext(Ft),{topOffset:n,rowHeight:s}=w.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),a=e.headerRowClass,[l,u]=w.useState(()=>s+"px"),[h,f]=w.useState(()=>n+"px"),p=w.useRef(null),m=w.useRef(null),[v,y]=w.useState(()=>e.getHeaderCtrls()),S=w.useRef(),b=w.useRef(null),R=w.useCallback(A=>{if(b.current=A,S.current=A?t.createBean(new sr):t.destroyBean(S.current),!A)return;const M={setHeight:T=>u(T),setTop:T=>f(T),setHeaderCtrls:(T,G,O)=>{m.current=p.current,p.current=T;const z=Vg(m.current,T,G);z!==m.current&&zg(O,()=>y(z))},setWidth:T=>{b.current&&(b.current.style.width=T)}};e.setComp(M,S.current,!1)},[]),E=w.useMemo(()=>({height:l,top:h}),[l,h]),D=w.useCallback(A=>{switch(e.type){case"group":return Q.createElement(_B,{ctrl:A,key:A.instanceId});case"filter":return Q.createElement(VB,{ctrl:A,key:A.instanceId});default:return Q.createElement(BB,{ctrl:A,key:A.instanceId})}},[]);return Q.createElement("div",{ref:R,className:a,role:"row",style:E,"aria-rowindex":i},v.map(D))},jB=w.memo(UB),KB=({pinned:e})=>{const[t,n]=w.useState(!0),[s,i]=w.useState([]),{context:a}=w.useContext(Ft),l=w.useRef(null),u=w.useRef(null),h=w.useRef(),f=e==="left",p=e==="right",m=!f&&!p,v=w.useCallback(b=>{if(l.current=b,h.current=b?a.createBean(new QL(e)):a.destroyBean(h.current),!b)return;const R={setDisplayed:n,setCtrls:E=>i(E),setCenterWidth:E=>{u.current&&(u.current.style.width=E)},setViewportScrollLeft:E=>{l.current&&(l.current.scrollLeft=E)},setPinnedContainerWidth:E=>{l.current&&(l.current.style.width=E,l.current.style.minWidth=E,l.current.style.maxWidth=E)}};h.current.setComp(R,l.current)},[]),y=t?"":"ag-hidden",S=()=>s.map(b=>Q.createElement(jB,{ctrl:b,key:b.instanceId}));return Q.createElement(Q.Fragment,null,f&&Q.createElement("div",{ref:v,className:"ag-pinned-left-header "+y,"aria-hidden":!t,role:"rowgroup"},S()),p&&Q.createElement("div",{ref:v,className:"ag-pinned-right-header "+y,"aria-hidden":!t,role:"rowgroup"},S()),m&&Q.createElement("div",{ref:v,className:"ag-header-viewport "+y,role:"presentation"},Q.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},S())))},sf=w.memo(KB),YB=()=>{const[e,t]=w.useState(()=>new mn),[n,s]=w.useState(),{context:i}=w.useContext(Ft),a=w.useRef(null),l=w.useRef(),u=w.useCallback(p=>{if(a.current=p,l.current=p?i.createBean(new qL):i.destroyBean(l.current),!p)return;const m={addOrRemoveCssClass:(v,y)=>t(S=>S.setClass(v,y)),setHeightAndMinHeight:v=>s(v)};l.current.setComp(m,p,p)},[]),h=w.useMemo(()=>"ag-header "+e.toString(),[e]),f=w.useMemo(()=>({height:n,minHeight:n}),[n]);return Q.createElement("div",{ref:u,className:h,style:f,role:"presentation"},Q.createElement(sf,{pinned:"left"}),Q.createElement(sf,{pinned:null}),Q.createElement(sf,{pinned:"right"}))},qB=w.memo(YB),$B=(e,t)=>{w.useEffect(()=>{const n=t.current;if(n){const s=n.parentElement;if(s){const i=document.createComment(e);return s.insertBefore(i,n),()=>{s.removeChild(i)}}}},[e])},Pi=$B,XB=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Qe(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){_g(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},ZB=e=>{const t=w.useRef(e),n=w.useRef(),s=w.useRef(!1),i=w.useRef(!1),[,a]=w.useState(0);s.current&&(i.current=!0),w.useEffect(()=>(s.current||(n.current=t.current(),s.current=!0),a(l=>l+1),()=>{var l;i.current&&((l=n.current)==null||l.call(n))}),[])},QB=e=>{const[t,n]=w.useState(),{context:s,popupSvc:i,localeSvc:a,gos:l,editSvc:u}=w.useContext(Ft);return ZB(()=>{var G,O;const{editDetails:h,cellCtrl:f,eParentCell:p}=e,{compDetails:m}=h,v=l.get("stopEditingWhenCellsLoseFocus"),y=s.createBean(u.createPopupEditorWrapper(m.params)),S=y.getGui();if(e.jsChildComp){const z=e.jsChildComp.getGui();z&&S.appendChild(z)}const{column:b,rowNode:R}=f,E={column:b,rowNode:R,type:"popupCellEditor",eventSource:p,ePopup:S,position:h.popupPosition,keepWithinBounds:!0},D=i==null?void 0:i.positionPopupByComponent.bind(i,E),A=kb(a),M=i==null?void 0:i.addPopup({modal:v,eChild:S,closeOnEsc:!0,closedCallback:()=>{f.onPopupEditorClosed()},anchorToElement:p,positionCallback:D,ariaLabel:A("ariaLabelCellEditor","Cell Editor")}),T=M?M.hideFunc:void 0;return n(y),(O=(G=e.jsChildComp)==null?void 0:G.afterGuiAttached)==null||O.call(G),()=>{T==null||T(),s.destroyBean(y)}}),Q.createElement(Q.Fragment,null,t&&e.wrappedContent&&zi.createPortal(e.wrappedContent,t.getGui()))},sw=w.memo(QB),JB=(e,t,n,s,i,a)=>{const{context:l}=w.useContext(Ft),u=w.useCallback(()=>{const h=i.current;if(!h)return;const f=h.getGui();f&&f.parentElement&&f.parentElement.removeChild(f),l.destroyBean(h),i.current=void 0},[]);w.useEffect(()=>{const h=e!=null,f=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,p=t&&n==null;if(!(h&&f&&!p)){u();return}const v=e.compDetails;if(i.current){const S=i.current,R=S.refresh!=null&&e.force==!1?S.refresh(v.params):!1;if(R===!0||R===void 0)return;u()}v.newAgStackInstance().then(S=>{if(!S)return;const b=S.getGui();if(!b)return;(t?n:a.current).appendChild(b),i.current=S})},[e,t,s]),w.useEffect(()=>u,[])},e2=JB,t2=(e,t,n)=>{const{compProxy:s}=e;n(s);const i=s.getProps(),a=ar(t);return Q.createElement(Wg.Provider,{value:{setMethods:l=>s.setMethods(l)}},a?Q.createElement(t,{...i}):Q.createElement(t,{...i,ref:l=>s.setRef(l)}))},iw=(e,t,n)=>{const s=e.compProxy;return Q.createElement(Q.Fragment,null,s?t2(e,t,n):Q.createElement(t,{...e.compDetails.params,ref:n}))},n2=(e,t,n,s,i)=>{const a=e.compDetails,l=a.componentClass,u=a.componentFromFramework&&!e.popup,h=a.componentFromFramework&&e.popup,f=!a.componentFromFramework&&e.popup;return Q.createElement(Q.Fragment,null,u&&iw(e,l,t),h&&Q.createElement(sw,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:iw(e,l,t)}),f&&i&&Q.createElement(sw,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:i}))},s2=(e,t,n,s,i,a,l)=>{const{compDetails:u,value:h}=e,f=!u,p=u&&u.componentFromFramework,m=u&&u.componentClass,v=h!=null&&h.toString?h.toString():h,y=()=>Q.createElement(Q.Fragment,null,f&&Q.createElement(Q.Fragment,null,v),p&&!a&&Q.createElement(m,{...u.params,key:t,ref:s}),p&&a&&Q.createElement(m,{...u.params,key:t}));return Q.createElement(Q.Fragment,null,i?Q.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:l},y()):y())},i2=({cellCtrl:e,printLayout:t,editingRow:n})=>{const{context:s}=w.useContext(Ft),{colIdSanitised:i,instanceId:a}=e,l=w.useRef(),[u,h]=w.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,p]=w.useState(),[m,v]=w.useState(1),[y,S]=w.useState(),[b,R]=w.useState(!1),[E,D]=w.useState(!1),[A,M]=w.useState(!1),[T,G]=w.useState(),O=w.useMemo(()=>e.isForceWrapper(),[e]),z=w.useMemo(()=>e.getCellAriaRole(),[e]),N=w.useRef(null),V=w.useRef(null),_=w.useRef(),Z=w.useRef(),ie=w.useRef(),re=w.useRef([]),ee=w.useRef(),[H,J]=w.useState(0),Y=w.useCallback(Ce=>{ee.current=Ce,J(ue=>ue+1)},[]),ce=u!=null&&(b||A||E),P=O||ce,j=w.useCallback(Ce=>{if(Z.current=Ce,Ce){const ue=Ce.isCancelBeforeStart&&Ce.isCancelBeforeStart();setTimeout(()=>{ue?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),$=w.useRef();$.current||($.current=new La(()=>N.current)),e2(u,P,ee.current,H,_,N);const ae=w.useRef();w.useLayoutEffect(()=>{var Ne;const Ce=ae.current,ue=u;if(ae.current=u,Ce==null||Ce.compDetails==null||ue==null||ue.compDetails==null)return;const be=Ce.compDetails,pe=ue.compDetails;if(be.componentClass!=pe.componentClass||((Ne=V.current)==null?void 0:Ne.refresh)==null)return;V.current.refresh(pe.params)!=!0&&v(Ie=>Ie+1)},[u]),w.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework))return;const ue=f.compDetails,be=f.popup===!0,pe=ue.newAgStackInstance();return pe.then(Ae=>{if(!Ae)return;const Ne=Ae.getGui();if(j(Ae),!be){const Ie=(O?ie:N).current;Ie==null||Ie.appendChild(Ne),Ae.afterGuiAttached&&Ae.afterGuiAttached()}G(Ae)}),()=>{pe.then(Ae=>{var Ie;const Ne=Ae.getGui();s.destroyBean(Ae),j(void 0),G(void 0),(Ie=Ne==null?void 0:Ne.parentElement)==null||Ie.removeChild(Ne)})}},[f]);const ne=w.useCallback(Ce=>{if(ie.current=Ce,!Ce){re.current.forEach(be=>be()),re.current=[];return}const ue=be=>{if(be){const pe=be.getGui();Ce.insertAdjacentElement("afterbegin",pe),re.current.push(()=>{s.destroyBean(be),Hi(pe)})}return be};if(b){const be=e.createSelectionCheckbox();ue(be)}A&&ue(e.createDndSource()),E&&ue(e.createRowDragComp())},[e,s,A,E,b]),ve=w.useCallback(Ce=>{if(N.current=Ce,l.current=Ce?s.createBean(new sr):s.destroyBean(l.current),!Ce||!e)return;const ue={addOrRemoveCssClass:(pe,Ae)=>$.current.addOrRemoveCssClass(pe,Ae),setUserStyles:pe=>S(pe),getFocusableElement:()=>N.current,setIncludeSelection:pe=>R(pe),setIncludeRowDrag:pe=>D(pe),setIncludeDndSource:pe=>M(pe),getCellEditor:()=>Z.current||null,getCellRenderer:()=>V.current??_.current,getParentOfValue:()=>ee.current??ie.current??N.current,setRenderDetails:(pe,Ae,Ne)=>{h(Ie=>(Ie==null?void 0:Ie.compDetails)!==pe||(Ie==null?void 0:Ie.value)!==Ae||(Ie==null?void 0:Ie.force)!==Ne?{value:Ae,compDetails:pe,force:Ne}:Ie)},setEditDetails:(pe,Ae,Ne,Ie)=>{if(pe){let ot;Ie?ot=new XB(pe.params,()=>v(Ut=>Ut+1)):pe.componentFromFramework&&Ug(),p({compDetails:pe,popup:Ae,popupPosition:Ne,compProxy:ot}),Ae||h(void 0)}else p(ot=>{ot!=null&&ot.compProxy&&(Z.current=void 0)})}},be=ie.current||void 0;e.setComp(ue,Ce,be,t,n,l.current)},[]),de=w.useMemo(()=>{var ue;return!!(((ue=u==null?void 0:u.compDetails)==null?void 0:ue.componentFromFramework)&&ar(u.compDetails.componentClass))},[u]);w.useLayoutEffect(()=>{N.current&&($.current.addOrRemoveCssClass("ag-cell-value",!P),$.current.addOrRemoveCssClass("ag-cell-inline-editing",!!f&&!f.popup),$.current.addOrRemoveCssClass("ag-cell-popup-editing",!!f&&!!f.popup),$.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!f||!!f.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&N.current.focus({preventScroll:!0}))});const he=()=>Q.createElement(Q.Fragment,null,u!=null&&s2(u,m,a,V,P,de,Y),f!=null&&n2(f,j,N.current,e,T)),ge=w.useCallback(()=>e.onFocusOut(),[]);return Q.createElement("div",{ref:ve,style:y,role:z,"col-id":i,onBlur:ge},P?Q.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ne},he()):he())},o2=w.memo(i2),r2=({rowCtrl:e,containerType:t})=>{const{context:n,gos:s}=w.useContext(Ft),i=w.useRef(),a=w.useRef(e.getDomOrder()),l=e.isFullWidth(),u=e.rowNode.displayed,[h,f]=w.useState(()=>u?e.rowNode.getRowIndexString():null),[p,m]=w.useState(()=>e.rowId),[v,y]=w.useState(()=>e.businessKey),[S,b]=w.useState(()=>e.rowStyles),R=w.useRef(null),E=w.useRef(null),[D,A]=w.useState(()=>null),[M,T]=w.useState(),[G,O]=w.useState(()=>u?e.getInitialRowTop(t):void 0),[z,N]=w.useState(()=>u?e.getInitialTransform(t):void 0),V=w.useRef(null),_=w.useRef(),Z=w.useRef(!1),[ie,re]=w.useState(0);w.useEffect(()=>{var ve;if(Z.current||!M||ie>10)return;const ne=(ve=V.current)==null?void 0:ve.firstChild;ne?(e.setupDetailRowAutoHeight(ne),Z.current=!0):re(de=>de+1)},[M,ie]);const ee=w.useRef();ee.current||(ee.current=new La(()=>V.current));const H=w.useCallback(ne=>{if(V.current=ne,i.current=ne?n.createBean(new sr):n.destroyBean(i.current),!ne){e.unsetComp(t);return}if(!e.isAlive())return;const ve={setTop:O,setTransform:N,addOrRemoveCssClass:(de,he)=>ee.current.addOrRemoveCssClass(de,he),setDomOrder:de=>a.current=de,setRowIndex:f,setRowId:m,setRowBusinessKey:y,setUserStyles:b,setCellCtrls:(de,he)=>{E.current=R.current,R.current=de;const ge=Vg(E.current,de,a.current);ge!==E.current&&zg(he,()=>A(ge))},showFullWidth:de=>T(de),getFullWidthCellRenderer:()=>_.current,refreshFullWidth:de=>j.current?(T(he=>({...he,params:de()})),!0):!_.current||!_.current.refresh?!1:_.current.refresh(de())};e.setComp(ve,ne,t,i.current)},[]);w.useLayoutEffect(()=>Ga(M,n,V.current,_),[M]);const J=w.useMemo(()=>{const ne={top:G,transform:z};return Object.assign(ne,S),ne},[G,z,S]),Y=l&&(M==null?void 0:M.componentFromFramework),ce=!l&&D!=null,P=w.useMemo(()=>!!((M==null?void 0:M.componentFromFramework)&&ar(M.componentClass)),[M]),j=w.useRef(!1);w.useEffect(()=>{j.current=P&&!!M&&!!s.get("reactiveCustomComponents")},[P,M]);const $=()=>D==null?void 0:D.map(ne=>Q.createElement(o2,{cellCtrl:ne,editingRow:e.editing,printLayout:e.printLayout,key:ne.instanceId})),ae=()=>{const ne=M.componentClass;return Q.createElement(Q.Fragment,null,P?Q.createElement(ne,{...M.params}):Q.createElement(ne,{...M.params,ref:_}))};return Q.createElement("div",{ref:H,role:"row",style:J,"row-index":h,"row-id":p,"row-business-key":v},ce&&$(),Y&&ae())},a2=w.memo(r2),l2=({name:e})=>{const{context:t}=w.useContext(Ft),n=w.useMemo(()=>Lo(e),[e]),s=w.useRef(null),i=w.useRef(null),a=w.useRef([]),l=w.useRef([]),[u,h]=w.useState(()=>[]),f=w.useRef(!1),p=w.useRef(),m=w.useMemo(()=>Rn(n.viewport),[n]),v=w.useMemo(()=>Rn(n.container),[n]),y=n.type==="center",S=y?s:i;Pi(" AG Row Container "+e+" ",S);const b=w.useCallback(()=>y?s.current!=null&&i.current!=null:i.current!=null,[]),R=w.useCallback(()=>y?s.current==null&&i.current==null:i.current==null,[]),E=w.useCallback(()=>{if(R()&&(p.current=t.destroyBean(p.current)),b()){const T=O=>{const z=Vg(l.current,a.current,f.current);z!==l.current&&(l.current=z,zg(O,()=>h(z)))},G={setHorizontalScroll:O=>{s.current&&(s.current.scrollLeft=O)},setViewportHeight:O=>{s.current&&(s.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:z})=>{const N=!!z&&a.current.length>0&&O.length>0;a.current=O,T(N)},setDomOrder:O=>{f.current!=O&&(f.current=O,T(!1))},setContainerWidth:O=>{i.current&&(i.current.style.width=O)},setOffsetTop:O=>{i.current&&(i.current.style.transform=`translateY(${O})`)}};p.current=t.createBean(new NL(e)),p.current.setComp(G,i.current,s.current)}},[b,R]),D=w.useCallback(T=>{i.current=T,E()},[E]),A=w.useCallback(T=>{s.current=T,E()},[E]),M=()=>Q.createElement("div",{className:v,ref:D,role:"rowgroup"},u.map(T=>Q.createElement(a2,{rowCtrl:T,containerType:n.type,key:T.instanceId})));return Q.createElement(Q.Fragment,null,y?Q.createElement("div",{className:m,ref:A,role:"presentation"},M()):M())},c2=w.memo(l2),u2=()=>{const e=w.useContext(Ft),{context:t,overlays:n}=e,[s,i]=w.useState(""),[a,l]=w.useState(0),[u,h]=w.useState(0),[f,p]=w.useState("0px"),[m,v]=w.useState("0px"),[y,S]=w.useState("100%"),[b,R]=w.useState("0px"),[E,D]=w.useState("0px"),[A,M]=w.useState("100%"),[T,G]=w.useState(""),[O,z]=w.useState(""),[N,V]=w.useState(null),[_,Z]=w.useState(""),[ie,re]=w.useState(null),[ee,H]=w.useState("ag-layout-normal"),J=w.useRef();J.current||(J.current=new La(()=>Y.current));const Y=w.useRef(null),ce=w.useRef(null),P=w.useRef(null),j=w.useRef(null),$=w.useRef(null),ae=w.useRef(null),ne=w.useRef(null),ve=w.useRef([]),de=w.useRef([]);Pi(" AG Grid Body ",Y),Pi(" AG Pinned Top ",ce),Pi(" AG Sticky Top ",P),Pi(" AG Middle ",ae),Pi(" AG Pinned Bottom ",ne);const he=w.useCallback(Mt=>{if(Y.current=Mt,!Mt){ve.current=t.destroyBeans(ve.current),de.current.forEach(ze=>ze()),de.current=[];return}if(!t)return;const _i=(ze,Tt)=>{ze.appendChild(Tt),de.current.push(()=>ze.removeChild(Tt))},lr=ze=>{const Tt=t.createBean(new ze);return ve.current.push(Tt),Tt},St=(ze,Tt,Ba)=>{_i(ze,document.createComment(Ba)),_i(ze,lr(Tt).getGui())};St(Mt,WL," AG Fake Horizontal Scroll ");const Na=n==null?void 0:n.getOverlayWrapperCompClass();Na&&St(Mt,Na," AG Overlay Wrapper "),$.current&&St($.current,_L," AG Fake Vertical Scroll ");const Ha={setRowAnimationCssOnBodyViewport:i,setColumnCount:ze=>{Y.current&&FT(Y.current,ze)},setRowCount:ze=>{Y.current&&DT(Y.current,ze)},setTopHeight:l,setBottomHeight:h,setStickyTopHeight:p,setStickyTopTop:v,setStickyTopWidth:S,setTopDisplay:G,setBottomDisplay:z,setColumnMovingCss:(ze,Tt)=>J.current.addOrRemoveCssClass(ze,Tt),updateLayoutClasses:H,setAlwaysVerticalScrollClass:V,setPinnedTopBottomOverflowY:Z,setCellSelectableCss:(ze,Tt)=>re(Tt?ze:null),setBodyViewportWidth:ze=>{ae.current&&(ae.current.style.width=ze)},registerBodyViewportResizeListener:ze=>{if(ae.current){const Tt=bs(e,ae.current,ze);de.current.push(()=>Tt())}},setStickyBottomHeight:R,setStickyBottomBottom:D,setStickyBottomWidth:M,setGridRootRole:ze=>Mt.setAttribute("role",ze)},cr=t.createBean(new VL);ve.current.push(cr),cr.setComp(Ha,Mt,ae.current,ce.current,ne.current,P.current,j.current)},[]),ge=w.useMemo(()=>Rn("ag-root","ag-unselectable",ee),[ee]),Ce=w.useMemo(()=>Rn("ag-body-viewport",s,ee,N,ie),[s,ee,N,ie]),ue=w.useMemo(()=>Rn("ag-body",ee),[ee]),be=w.useMemo(()=>Rn("ag-floating-top",ie),[ie]),pe=w.useMemo(()=>Rn("ag-sticky-top",ie),[ie]),Ae=w.useMemo(()=>Rn("ag-sticky-bottom",b==="0px"?"ag-hidden":null,ie),[ie,b]),Ne=w.useMemo(()=>Rn("ag-floating-bottom",ie),[ie]),Ie=w.useMemo(()=>({height:a,minHeight:a,display:T,overflowY:_}),[a,T,_]),ot=w.useMemo(()=>({height:f,top:m,width:y}),[f,m,y]),Ut=w.useMemo(()=>({height:b,bottom:E,width:A}),[b,E,A]),Ss=w.useMemo(()=>({height:u,minHeight:u,display:O,overflowY:_}),[u,O,_]),Mn=Mt=>Q.createElement(c2,{name:Mt,key:`${Mt}-container`}),qn=({section:Mt,children:_i,className:lr,style:St})=>Q.createElement("div",{ref:Mt,className:lr,role:"presentation",style:St},_i.map(Mn));return Q.createElement("div",{ref:he,className:ge},Q.createElement(qB,null),qn({section:ce,className:be,style:Ie,children:["topLeft","topCenter","topRight","topFullWidth"]}),Q.createElement("div",{className:ue,ref:$,role:"presentation"},qn({section:ae,className:Ce,children:["left","center","right","fullWidth"]})),qn({section:P,className:pe,style:ot,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),qn({section:j,className:Ae,style:Ut,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),qn({section:ne,className:Ne,style:Ss,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},d2=w.memo(u2),h2=(e,t)=>{const{children:n,eFocusableElement:s,onTabKeyDown:i,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:l}=e,{context:u}=w.useContext(Ft),h=w.useRef(null),f=w.useRef(null),p=w.useRef(),m=R=>{const E=R==null?void 0:parseInt(R,10).toString();[h,f].forEach(D=>{var A,M;E===void 0?(A=D.current)==null||A.removeAttribute("tabindex"):(M=D.current)==null||M.setAttribute("tabindex",E)})};w.useImperativeHandle(t,()=>({forceFocusOutOfContainer(R){var E;(E=p.current)==null||E.forceFocusOutOfContainer(R)}}));const v=w.useCallback(()=>{const R=h.current,E=f.current;if(!R&&!E){p.current=u.destroyBean(p.current);return}if(R&&E){const D={setTabIndex:m};p.current=u.createBean(new cR({comp:D,eTopGuard:R,eBottomGuard:E,eFocusableElement:s,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:l,focusInnerElement:A=>a.focusInnerElement(A)}))}},[]),y=w.useCallback(R=>{h.current=R,v()},[v]),S=w.useCallback(R=>{f.current=R,v()},[v]),b=R=>{const E=R==="top"?Wo.TAB_GUARD_TOP:Wo.TAB_GUARD_BOTTOM;return Q.createElement("div",{className:`${Wo.TAB_GUARD} ${E}`,role:"presentation",ref:R==="top"?y:S})};return Q.createElement(Q.Fragment,null,b("top"),n,b("bottom"))},f2=w.forwardRef(h2),g2=w.memo(f2),p2=({context:e})=>{const[t,n]=w.useState(""),[s,i]=w.useState(""),[a,l]=w.useState(null),[u,h]=w.useState(null),[f,p]=w.useState(!1),[m,v]=w.useState(),y=w.useRef(),S=w.useRef(null),b=w.useRef(),[R,E]=w.useState(null),D=w.useRef(()=>{}),A=w.useRef(),M=w.useRef([]),T=w.useCallback(()=>{},[]),G=w.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Pi(" AG Grid ",S);const O=w.useCallback(Z=>{if(S.current=Z,y.current=Z?e.createBean(new EO):e.destroyBean(y.current),!Z||e.isDestroyed())return;const ie=y.current;D.current=ie.focusInnerElement.bind(ie);const re={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:ee=>{var H,J;if(!ee&&((H=A.current)!=null&&H.isDisplayed())){A.current.forceFocusOutOfContainer(ee);return}(J=b.current)==null||J.forceFocusOutOfContainer(ee)},updateLayoutClasses:i,getFocusableContainers:()=>{var J;const ee=[],H=(J=S.current)==null?void 0:J.querySelector(".ag-root");return H&&ee.push({getGui:()=>H}),M.current.forEach(Y=>{Y.isDisplayed()&&ee.push(Y)}),ee},setCursor:l,setUserSelect:h};ie.setComp(re,Z,Z),p(!0)},[]);w.useEffect(()=>{const Z=y.current,ie=S.current;if(!m||!G||!Z||!R||!ie)return;const re=[],{watermarkSelector:ee,paginationSelector:H,sideBarSelector:J,statusBarSelector:Y,gridHeaderDropZonesSelector:ce}=Z.getOptionalSelectors(),P=[];if(ce){const $=e.createBean(new ce.component),ae=$.getGui();ie.insertAdjacentElement("afterbegin",ae),P.push(ae),re.push($)}if(J){const $=e.createBean(new J.component),ae=$.getGui(),ne=R.querySelector(".ag-tab-guard-bottom");ne&&(ne.insertAdjacentElement("beforebegin",ae),P.push(ae)),re.push($),M.current.push($)}const j=$=>{const ae=e.createBean(new $),ne=ae.getGui();return ie.insertAdjacentElement("beforeend",ne),P.push(ne),re.push(ae),ae};if(Y&&j(Y.component),H){const $=j(H.component);A.current=$,M.current.push($)}return ee&&j(ee.component),()=>{e.destroyBeans(re),P.forEach($=>{var ae;(ae=$.parentElement)==null||ae.removeChild($)})}},[m,R,G]);const z=w.useMemo(()=>Rn("ag-root-wrapper",t,s),[t,s]),N=w.useMemo(()=>Rn("ag-root-wrapper-body","ag-focus-managed",s),[s]),V=w.useMemo(()=>({userSelect:u??"",WebkitUserSelect:u??"",cursor:a??""}),[u,a]),_=w.useCallback(Z=>{b.current=Z,v(Z!==null)},[]);return Q.createElement("div",{ref:O,className:z,style:V,role:"presentation"},Q.createElement("div",{className:N,ref:E,role:"presentation"},f&&R&&G&&Q.createElement(Ft.Provider,{value:G},Q.createElement(g2,{ref:_,eFocusableElement:R,onTabKeyDown:T,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Q.createElement(d2,null)))))},m2=w.memo(p2),C2=class extends se{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},v2={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},vx=new Set(Object.keys(v2)),yx=e=>{var R;const t=w.useRef(),n=w.useRef(null),s=w.useRef(null),i=w.useRef([]),a=w.useRef([]),l=w.useRef(e),u=w.useRef(),h=w.useRef(),f=w.useRef(!1),[p,m]=w.useState(void 0),[,v]=w.useState(0),y=w.useCallback(E=>{if(n.current=E,!E){i.current.forEach(_=>_()),i.current.length=0;return}const D=e.modules||[];s.current||(s.current=new NB(()=>v(_=>_+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var _;(_=s.current)==null||_.destroy(),s.current=null}));const A=cP(e.gridOptions,e,Object.keys(e).filter(_=>!vx.has(_))),M=()=>{if(f.current){const _=()=>{var ie;return(ie=u.current)!=null&&ie.shouldQueueUpdates()?void 0:a.current.shift()};let Z=_();for(;Z;)Z(),Z=_()}},T=new S2(M);u.current=T;const G=new C2,O={providedBeanInstances:{frameworkCompWrapper:new w2(s.current,A.reactiveCustomComponents??zG("reactiveCustomComponents")??!0),renderStatus:G},modules:D,frameworkOverrides:T,setThemeOnGridDiv:!0},z=_=>{m(_),_.createBean(G),i.current.push(()=>{_.destroy()}),_.getBean("ctrlsSvc").whenReady({addDestroyFunc:Z=>{i.current.push(Z)}},()=>{var ie;if(_.isDestroyed())return;const Z=t.current;Z&&((ie=e.setGridApi)==null||ie.call(e,Z))})},N=_=>{_.getBean("ctrlsSvc").whenReady({addDestroyFunc:Z=>{i.current.push(Z)}},()=>{a.current.forEach(Z=>Z()),a.current.length=0,f.current=!0})},V=new WG;A.gridId??(A.gridId=h.current),t.current=V.create(E,A,z,N,O),i.current.push(()=>{t.current=void 0}),t.current&&(h.current=t.current.getGridId())},[]),S=w.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),b=w.useCallback(E=>{var D;f.current&&!((D=u.current)!=null&&D.shouldQueueUpdates())?E():a.current.push(E)},[]);return w.useEffect(()=>{const E=y2(l.current,e);l.current=e,b(()=>{t.current&&uP(E,t.current)})},[e]),Q.createElement("div",{style:S,className:e.className,ref:y},p&&!p.isDestroyed()?Q.createElement(m2,{context:p}):null,((R=s.current)==null?void 0:R.getPortals())??null)};function y2(e,t){const n={};return Object.keys(t).forEach(s=>{if(vx.has(s))return;const i=t[s];e[s]!==i&&(n[s]=i)}),n}var w2=class extends _G{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(a=>{switch(a){case"filter":return FB;case"floatingFilterComponent":return TB;case"dateComponent":return DB;case"dragAndDropImageComponent":return AB;case"loadingOverlayComponent":return PB;case"noRowsOverlayComponent":return OB;case"statusPanel":return IB;case"toolPanel":return kB;case"menuItem":return LB;case"cellRenderer":return EB}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ug();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new mx(e,this.parent,t,n)}},b2=w.forwardRef((e,t)=>{const n=w.useContext(Ft),{registry:s,context:i,gos:a,rowModel:l}=n,[u,h]=w.useState(()=>new mn),[f,p]=w.useState(()=>new mn),[m,v]=w.useState(),[y,S]=w.useState(),b=w.useRef(),R=w.useRef(null),E=w.useRef(),D=w.useMemo(()=>A1(e.api.getGridId(),(m==null?void 0:m.rowModelType)??"clientSide"),[e]),A=w.useMemo(()=>u.toString()+" ag-details-row",[u]),M=w.useMemo(()=>f.toString()+" ag-details-grid",[f]);t&&w.useImperativeHandle(t,()=>({refresh(){var O;return((O=b.current)==null?void 0:O.refresh())??!1}})),e.template&&me(230);const T=w.useCallback(O=>{var V;if(R.current=O,!O){b.current=i.destroyBean(b.current),(V=E.current)==null||V.call(E);return}const z={addOrRemoveCssClass:(_,Z)=>h(ie=>ie.setClass(_,Z)),addOrRemoveDetailGridCssClass:(_,Z)=>p(ie=>ie.setClass(_,Z)),setDetailGrid:_=>v(_),setRowData:_=>S(_),getGui:()=>R.current},N=s.createDynamicBean("detailCellRendererCtrl",!0);if(N&&(i.createBean(N),N.init(z,e),b.current=N,a.get("detailRowAutoHeight"))){const _=()=>{if(R.current==null)return;const Z=R.current.clientHeight;Z!=null&&Z>0&&setTimeout(()=>{e.node.setRowHeight(Z),(nr(a)||gg(a))&&l.onRowHeightChanged()},0)};E.current=bs(n,O,_),_()}},[]),G=w.useCallback(O=>{var z;(z=b.current)==null||z.registerDetailWithMaster(O)},[]);return Q.createElement("div",{className:A,ref:T},m&&Q.createElement(yx,{className:M,...m,modules:D,rowData:y,setGridApi:G}))}),S2=class extends uR{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:tw,agGroupRowRenderer:tw,agDetailCellRenderer:b2},this.wrapIncoming=(t,n)=>n==="ensureVisible"?bB(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return wB()}},j2=class extends w.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Q.createElement(yx,{...this.props,setGridApi:this.setGridApi})}};export{j2 as A,L2 as C,P2 as I,N2 as M,F2 as R,M2 as T,T2 as V,_M as a,O2 as b,k2 as c,G2 as d,w as e,z2 as f,_2 as g,U2 as h,kM as i,le as j,V2 as k,B2 as l,R2 as m,lM as n,LM as o,SM as p,PA as r,Mk as t};
